(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $E(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xm={exports:{}},Gl={};var W_;function Ux(){if(W_)return Gl;W_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var Z_;function zx(){return Z_||(Z_=1,xm.exports=Ux()),xm.exports}var _=zx(),Am={exports:{}},xe={};var ev;function Bx(){if(ev)return xe;ev=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function V(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,j={};function G(k,te,oe){this.props=k,this.context=te,this.refs=j,this.updater=oe||U}G.prototype.isReactComponent={},G.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},G.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function J(){}J.prototype=G.prototype;function Z(k,te,oe){this.props=k,this.context=te,this.refs=j,this.updater=oe||U}var he=Z.prototype=new J;he.constructor=Z,Q(he,G.prototype),he.isPureReactComponent=!0;var ve=Array.isArray;function ae(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(k,te,oe){var ue=oe.ref;return{$$typeof:i,type:k,key:te,ref:ue!==void 0?ue:null,props:oe}}function D(k,te){return R(k.type,te,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function P(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return te[oe]})}var N=/\/+/g;function De(k,te){return typeof k=="object"&&k!==null&&k.key!=null?P(""+k.key):te.toString(36)}function Te(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ae,ae):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function $(k,te,oe,ue,be){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var ze=!1;if(k===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(k.$$typeof){case i:case e:ze=!0;break;case b:return ze=k._init,$(ze(k._payload),te,oe,ue,be)}}if(ze)return be=be(k),ze=ue===""?"."+De(k,0):ue,ve(be)?(oe="",ze!=null&&(oe=ze.replace(N,"$&/")+"/"),$(be,te,oe,"",function(Ds){return Ds})):be!=null&&(O(be)&&(be=D(be,oe+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+ze)),te.push(be)),1;ze=0;var Vt=ue===""?".":ue+":";if(ve(k))for(var lt=0;lt<k.length;lt++)ue=k[lt],Ce=Vt+De(ue,lt),ze+=$(ue,te,oe,Ce,be);else if(lt=V(k),typeof lt=="function")for(k=lt.call(k),lt=0;!(ue=k.next()).done;)ue=ue.value,Ce=Vt+De(ue,lt++),ze+=$(ue,te,oe,Ce,be);else if(Ce==="object"){if(typeof k.then=="function")return $(Te(k),te,oe,ue,be);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ie(k,te,oe){if(k==null)return k;var ue=[],be=0;return $(k,ue,"","",function(Ce){return te.call(oe,Ce,be++)}),ue}function me(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var Ie=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ye={map:ie,forEach:function(k,te,oe){ie(k,function(){te.apply(this,arguments)},oe)},count:function(k){var te=0;return ie(k,function(){te++}),te},toArray:function(k){return ie(k,function(te){return te})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xe.Activity=T,xe.Children=Ye,xe.Component=G,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=Z,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},xe.cache=function(k){return function(){return k.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(k,te,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=Q({},k.props),be=k.key;if(te!=null)for(Ce in te.key!==void 0&&(be=""+te.key),te)!S.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ue[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=oe;else if(1<Ce){for(var ze=Array(Ce),Vt=0;Vt<Ce;Vt++)ze[Vt]=arguments[Vt+2];ue.children=ze}return R(k.type,be,ue)},xe.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},xe.createElement=function(k,te,oe){var ue,be={},Ce=null;if(te!=null)for(ue in te.key!==void 0&&(Ce=""+te.key),te)S.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=te[ue]);var ze=arguments.length-2;if(ze===1)be.children=oe;else if(1<ze){for(var Vt=Array(ze),lt=0;lt<ze;lt++)Vt[lt]=arguments[lt+2];be.children=Vt}if(k&&k.defaultProps)for(ue in ze=k.defaultProps,ze)be[ue]===void 0&&(be[ue]=ze[ue]);return R(k,Ce,be)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(k){return{$$typeof:m,render:k}},xe.isValidElement=O,xe.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:me}},xe.memo=function(k,te){return{$$typeof:g,type:k,compare:te===void 0?null:te}},xe.startTransition=function(k){var te=C.T,oe={};C.T=oe;try{var ue=k(),be=C.S;be!==null&&be(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ae,Ie)}catch(Ce){Ie(Ce)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),C.T=te}},xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xe.use=function(k){return C.H.use(k)},xe.useActionState=function(k,te,oe){return C.H.useActionState(k,te,oe)},xe.useCallback=function(k,te){return C.H.useCallback(k,te)},xe.useContext=function(k){return C.H.useContext(k)},xe.useDebugValue=function(){},xe.useDeferredValue=function(k,te){return C.H.useDeferredValue(k,te)},xe.useEffect=function(k,te){return C.H.useEffect(k,te)},xe.useEffectEvent=function(k){return C.H.useEffectEvent(k)},xe.useId=function(){return C.H.useId()},xe.useImperativeHandle=function(k,te,oe){return C.H.useImperativeHandle(k,te,oe)},xe.useInsertionEffect=function(k,te){return C.H.useInsertionEffect(k,te)},xe.useLayoutEffect=function(k,te){return C.H.useLayoutEffect(k,te)},xe.useMemo=function(k,te){return C.H.useMemo(k,te)},xe.useOptimistic=function(k,te){return C.H.useOptimistic(k,te)},xe.useReducer=function(k,te,oe){return C.H.useReducer(k,te,oe)},xe.useRef=function(k){return C.H.useRef(k)},xe.useState=function(k){return C.H.useState(k)},xe.useSyncExternalStore=function(k,te,oe){return C.H.useSyncExternalStore(k,te,oe)},xe.useTransition=function(){return C.H.useTransition()},xe.version="19.2.0",xe}var tv;function xp(){return tv||(tv=1,Am.exports=Bx()),Am.exports}var z=xp();const qx=$E(z);var Sm={exports:{}},Kl={},Rm={exports:{}},Cm={};var nv;function Hx(){return nv||(nv=1,(function(i){function e($,ie){var me=$.length;$.push(ie);e:for(;0<me;){var Ie=me-1>>>1,Ye=$[Ie];if(0<o(Ye,ie))$[Ie]=ie,$[me]=Ye,me=Ie;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ie=$[0],me=$.pop();if(me!==ie){$[0]=me;e:for(var Ie=0,Ye=$.length,k=Ye>>>1;Ie<k;){var te=2*(Ie+1)-1,oe=$[te],ue=te+1,be=$[ue];if(0>o(oe,me))ue<Ye&&0>o(be,oe)?($[Ie]=be,$[ue]=me,Ie=ue):($[Ie]=oe,$[te]=me,Ie=te);else if(ue<Ye&&0>o(be,me))$[Ie]=be,$[ue]=me,Ie=ue;else break e}}return ie}function o($,ie){var me=$.sortIndex-ie.sortIndex;return me!==0?me:$.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],b=1,T=null,A=3,V=!1,U=!1,Q=!1,j=!1,G=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function he($){for(var ie=n(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=$)s(g),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(g)}}function ve($){if(Q=!1,he($),!U)if(n(p)!==null)U=!0,ae||(ae=!0,P());else{var ie=n(g);ie!==null&&Te(ve,ie.startTime-$)}}var ae=!1,C=-1,S=5,R=-1;function D(){return j?!0:!(i.unstable_now()-R<S)}function O(){if(j=!1,ae){var $=i.unstable_now();R=$;var ie=!0;try{e:{U=!1,Q&&(Q=!1,J(C),C=-1),V=!0;var me=A;try{t:{for(he($),T=n(p);T!==null&&!(T.expirationTime>$&&D());){var Ie=T.callback;if(typeof Ie=="function"){T.callback=null,A=T.priorityLevel;var Ye=Ie(T.expirationTime<=$);if($=i.unstable_now(),typeof Ye=="function"){T.callback=Ye,he($),ie=!0;break t}T===n(p)&&s(p),he($)}else s(p);T=n(p)}if(T!==null)ie=!0;else{var k=n(g);k!==null&&Te(ve,k.startTime-$),ie=!1}}break e}finally{T=null,A=me,V=!1}ie=void 0}}finally{ie?P():ae=!1}}}var P;if(typeof Z=="function")P=function(){Z(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,De=N.port2;N.port1.onmessage=O,P=function(){De.postMessage(null)}}else P=function(){G(O,0)};function Te($,ie){C=G(function(){$(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function($){switch(A){case 1:case 2:case 3:var ie=3;break;default:ie=A}var me=A;A=ie;try{return $()}finally{A=me}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=A;A=$;try{return ie()}finally{A=me}},i.unstable_scheduleCallback=function($,ie,me){var Ie=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ie+me:Ie):me=Ie,$){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=me+Ye,$={id:b++,callback:ie,priorityLevel:$,startTime:me,expirationTime:Ye,sortIndex:-1},me>Ie?($.sortIndex=me,e(g,$),n(p)===null&&$===n(g)&&(Q?(J(C),C=-1):Q=!0,Te(ve,me-Ie))):($.sortIndex=Ye,e(p,$),U||V||(U=!0,ae||(ae=!0,P()))),$},i.unstable_shouldYield=D,i.unstable_wrapCallback=function($){var ie=A;return function(){var me=A;A=ie;try{return $.apply(this,arguments)}finally{A=me}}}})(Cm)),Cm}var rv;function Fx(){return rv||(rv=1,Rm.exports=Hx()),Rm.exports}var Nm={exports:{}},en={};var iv;function Gx(){if(iv)return en;iv=1;var i=xp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},en.flushSync=function(p){var g=h.T,b=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=b,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:V}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,b){return h.H.useFormState(p,g,b)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.2.0",en}var sv;function Kx(){if(sv)return Nm.exports;sv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nm.exports=Gx(),Nm.exports}var av;function Qx(){if(av)return Kl;av=1;var i=Fx(),e=xp(),n=Kx();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,w=f.child;w;){if(w===a){v=!0,a=f,l=d;break}if(w===l){v=!0,l=f,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=f;break}if(w===l){v=!0,l=d,a=f;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case G:return"Profiler";case j:return"StrictMode";case ve:return"Suspense";case ae:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case Z:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case he:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:De(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return De(t(r))}catch{}}return null}var Te=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ie=[],Ye=-1;function k(t){return{current:t}}function te(t){0>Ye||(t.current=Ie[Ye],Ie[Ye]=null,Ye--)}function oe(t,r){Ye++,Ie[Ye]=t.current,t.current=r}var ue=k(null),be=k(null),Ce=k(null),ze=k(null);function Vt(t,r){switch(oe(Ce,r),oe(be,t),oe(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?b_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=b_(r),t=T_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ue),oe(ue,t)}function lt(){te(ue),te(be),te(Ce)}function Ds(t){t.memoizedState!==null&&oe(ze,t);var r=ue.current,a=T_(r,t.type);r!==a&&(oe(be,t),oe(ue,a))}function Aa(t){be.current===t&&(te(ue),te(be)),ze.current===t&&(te(ze),Bl._currentValue=me)}var Sa,Ra;function gr(t){if(Sa===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Sa=r&&r[1]||"",Ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+t+Ra}var Bo=!1;function Os(t,r){if(!t||Bo)return"";Bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var F=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){F=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){F=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var I=v.split(`
`),H=w.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===H.length)for(l=I.length-1,f=H.length-1;1<=l&&0<=f&&I[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==H[f]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Bo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gr(a):""}function qo(t,r){switch(t.tag){case 26:case 27:case 5:return gr(t.type);case 16:return gr("Lazy");case 13:return t.child!==r&&r!==null?gr("Suspense Fallback"):gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return Os(t.type,!1);case 11:return Os(t.type.render,!1);case 1:return Os(t.type,!0);case 31:return gr("Activity");default:return""}}function Ho(t){try{var r="",a=null;do r+=qo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,Ii=i.unstable_cancelCallback,Sf=i.unstable_shouldYield,Mu=i.unstable_requestPaint,on=i.unstable_now,Ms=i.unstable_getCurrentPriorityLevel,Fo=i.unstable_ImmediatePriority,Go=i.unstable_UserBlockingPriority,Di=i.unstable_NormalPriority,Rf=i.unstable_LowPriority,ku=i.unstable_IdlePriority,Vu=i.log,ju=i.unstable_setDisableYieldValue,Jn=null,Gt=null;function kn(t){if(typeof Vu=="function"&&ju(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Jn,t)}catch{}}var yt=Math.clz32?Math.clz32:Lu,Pu=Math.log,Ca=Math.LN2;function Lu(t){return t>>>=0,t===0?32:31-(Pu(t)/Ca|0)|0}var yr=256,ks=262144,wt=4194304;function _r(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=_r(l):(v&=w,v!==0?f=_r(v):a||(a=w&~t,a!==0&&(f=_r(a))))):(w=l&~d,w!==0?f=_r(w):v!==0?f=_r(v):a||(a=l&~t,a!==0&&(f=_r(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Wn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Cf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function Er(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Vs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nf(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-yt(a),ee=1<<X;w[X]=0,I[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&js(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function js(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-yt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ko(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-yt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Qo(t,r){var a=r&-r;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:G_(t.type))}function Zn(t,r){var a=ie.p;try{return ie.p=t,r()}finally{ie.p=a}}var er=Math.random().toString(36).slice(2),xt="__reactFiber$"+er,zt="__reactProps$"+er,br="__reactContainer$"+er,Na="__reactEvents$"+er,If="__reactListeners$"+er,Bu="__reactHandles$"+er,qu="__reactResources$"+er,Tr="__reactMarker$"+er;function Ia(t){delete t[xt],delete t[zt],delete t[Na],delete t[If],delete t[Bu]}function wr(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[br]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=N_(t);t!==null;){if(a=t[xt])return a;t=N_(t)}return r}t=a,a=t.parentNode}return null}function Vn(t){if(t=t[xt]||t[br]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Tn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function xr(t){var r=t[qu];return r||(r=t[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(t){t[Tr]=!0}var Yo=new Set,$o={};function Ar(t,r){Sr(t,r),Sr(t+"Capture",r)}function Sr(t,r){for($o[t]=r,t=0;t<r.length;t++)Yo.add(r[t])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Wo={};function Hu(t){return Tt.call(Wo,t)?!0:Tt.call(Jo,t)?!1:Xo.test(t)?Wo[t]=!0:(Jo[t]=!0,!1)}function Da(t,r,a){if(Hu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function wn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function St(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function $e(t){if(!t._valueTracker){var r=Oi(t)?"checked":"value";t._valueTracker=Zo(t,r,""+t[r])}}function Ls(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Oi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Us=/[\n"\\]/g;function hn(t){return t.replace(Us,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Oa(t,r,a,l,f,d,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Bt(r)):t.value!==""+Bt(r)&&(t.value=""+Bt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?el(t,v,Bt(r)):a!=null?el(t,v,Bt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Bt(w):t.removeAttribute("name")}function Fu(t,r,a,l,f,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){$e(t);return}a=a!=null?""+Bt(a):"",r=r!=null?""+Bt(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function el(t,r,a){r==="number"&&Rr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Mi(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Gu(t,r,a){if(r!=null&&(r=""+Bt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Bt(a):""}function ki(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Te(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Bt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function fn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ku.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function nl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&tl(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&tl(t,d,r[d])}function Ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(t){return Vi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function tr(){}var rl=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,Cr=null;function zs(t){var r=Vn(t);if(r&&(t=r.stateNode)){var a=t[zt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[zt]||null;if(!f)throw Error(s(90));Oa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ls(l)}break e;case"textarea":Gu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Mi(t,!!a.multiple,r,!1)}}}var Va=!1;function Pi(t,r,a){if(Va)return t(r,a);Va=!0;try{var l=t(r);return l}finally{if(Va=!1,(ji!==null||Cr!==null)&&(zc(),ji&&(r=ji,t=Cr,Cr=ji=null,zs(r),t)))for(r=0;r<t.length;r++)zs(t[r])}}function nr(t,r){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(Pn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Bs=!1}var Nr=null,il=null,qs=null;function sl(){if(qs)return qs;var t,r=il,a=r.length,l,f="value"in Nr?Nr.value:Nr.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return qs=f.slice(t,1<l?1-l:void 0)}function Hs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Jr(){return!0}function rr(){return!1}function Kt(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jr:rr,this.isPropagationStopped=rr,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),r}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ir=Kt(Wr),Li=T({},Wr,{view:0,detail:0}),al=Kt(Li),Ui,ja,Dr,Pa=T({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(Ui=t.screenX-Dr.screenX,ja=t.screenY-Dr.screenY):ja=Ui=0,Dr=t),Ui)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),ol=Kt(Pa),Fs=T({},Pa,{dataTransfer:0}),Yu=Kt(Fs),$u=T({},Li,{relatedTarget:0}),Gs=Kt($u),ll=T({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xu=Kt(ll),La=T({},Wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ju=Kt(La),Wu=T({},Wr,{data:0}),Or=Kt(Wu),Zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=tc[t])?!!r[t]:!1}function zi(){return nc}var ln=T({},Li,{key:function(t){if(t.key){var r=Zu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ec[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rc=Kt(ln),ic=T({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=Kt(ic),c=T({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),y=Kt(c),E=T({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Kt(E),B=T({},Pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Kt(B),se=T({},Wr,{newState:0,oldState:0}),Se=Kt(se),_t=[9,13,27,32],Fe=Pn&&"CompositionEvent"in window,ut=null;Pn&&"documentMode"in document&&(ut=document.documentMode);var Ln=Pn&&"TextEvent"in window&&!ut,Mr=Pn&&(!Fe||ut&&8<ut&&11>=ut),ir=" ",sr=!1;function Ks(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function uw(t,r){switch(t){case"compositionend":return Ua(r);case"keypress":return r.which!==32?null:(sr=!0,ir);case"textInput":return t=r.data,t===ir&&sr?null:t;default:return null}}function cw(t,r){if(za)return t==="compositionend"||!Fe&&Ks(t,r)?(t=sl(),qs=il=Nr=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Mr&&r.locale!=="ko"?null:r.data;default:return null}}var hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!hw[t.type]:r==="textarea"}function Mg(t,r,a,l){ji?Cr?Cr.push(l):Cr=[l]:ji=l,r=Qc(r,"onChange"),0<r.length&&(a=new Ir("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ul=null,cl=null;function fw(t){p_(t,0)}function sc(t){var r=Tn(t);if(Ls(r))return t}function kg(t,r){if(t==="change")return r}var Vg=!1;if(Pn){var Df;if(Pn){var Of="oninput"in document;if(!Of){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Of=typeof jg.oninput=="function"}Df=Of}else Df=!1;Vg=Df&&(!document.documentMode||9<document.documentMode)}function Pg(){ul&&(ul.detachEvent("onpropertychange",Lg),cl=ul=null)}function Lg(t){if(t.propertyName==="value"&&sc(cl)){var r=[];Mg(r,cl,t,jn(t)),Pi(fw,r)}}function dw(t,r,a){t==="focusin"?(Pg(),ul=r,cl=a,ul.attachEvent("onpropertychange",Lg)):t==="focusout"&&Pg()}function mw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sc(cl)}function pw(t,r){if(t==="click")return sc(r)}function gw(t,r){if(t==="input"||t==="change")return sc(r)}function yw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var xn=typeof Object.is=="function"?Object.is:yw;function hl(t,r){if(xn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(r,f)||!xn(t[f],r[f]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zg(t,r){var a=Ug(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ug(a)}}function Bg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Bg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Rr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Rr(t.document)}return r}function Mf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var _w=Pn&&"documentMode"in document&&11>=document.documentMode,Ba=null,kf=null,fl=null,Vf=!1;function Hg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vf||Ba==null||Ba!==Rr(l)||(l=Ba,"selectionStart"in l&&Mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Qc(kf,"onSelect"),0<l.length&&(r=new Ir("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ba)))}function Qs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var qa={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},jf={},Fg={};Pn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Ys(t){if(jf[t])return jf[t];if(!qa[t])return t;var r=qa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Fg)return jf[t]=r[a];return t}var Gg=Ys("animationend"),Kg=Ys("animationiteration"),Qg=Ys("animationstart"),vw=Ys("transitionrun"),Ew=Ys("transitionstart"),bw=Ys("transitioncancel"),Yg=Ys("transitionend"),$g=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function ar(t,r){$g.set(t,r),Ar(r,[t])}var ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Ha=0,Lf=0;function oc(){for(var t=Ha,r=Lf=Ha=0;r<t;){var a=Un[r];Un[r++]=null;var l=Un[r];Un[r++]=null;var f=Un[r];Un[r++]=null;var d=Un[r];if(Un[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Xg(a,f,d)}}function lc(t,r,a,l){Un[Ha++]=t,Un[Ha++]=r,Un[Ha++]=a,Un[Ha++]=l,Lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uf(t,r,a,l){return lc(t,r,a,l),uc(t)}function $s(t,r){return lc(t,null,null,r),uc(t)}function Xg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-yt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function uc(t){if(50<kl)throw kl=0,Yd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Fa={};function Tw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,r,a,l){return new Tw(t,r,a,l)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ei(t,r){var a=t.alternate;return a===null?(a=An(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function cc(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")zf(t)&&(v=1);else if(typeof t=="string")v=Rx(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=An(31,a,r,f),t.elementType=R,t.lanes=d,t;case Q:return Xs(a.children,f,d,r);case j:v=8,f|=24;break;case G:return t=An(12,a,r,f|2),t.elementType=G,t.lanes=d,t;case ve:return t=An(13,a,r,f),t.elementType=ve,t.lanes=d,t;case ae:return t=An(19,a,r,f),t.elementType=ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:v=10;break e;case J:v=9;break e;case he:v=11;break e;case C:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=An(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Xs(t,r,a,l){return t=An(7,t,l,r),t.lanes=a,t}function Bf(t,r,a){return t=An(6,t,null,r),t.lanes=a,t}function Wg(t){var r=An(18,null,null,0);return r.stateNode=t,r}function qf(t,r,a){return r=An(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Zg=new WeakMap;function zn(t,r){if(typeof t=="object"&&t!==null){var a=Zg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ho(r)},Zg.set(t,r),r)}return{value:t,source:r,stack:Ho(r)}}var Ga=[],Ka=0,hc=null,dl=0,Bn=[],qn=0,Bi=null,kr=1,Vr="";function ti(t,r){Ga[Ka++]=dl,Ga[Ka++]=hc,hc=t,dl=r}function ey(t,r,a){Bn[qn++]=kr,Bn[qn++]=Vr,Bn[qn++]=Bi,Bi=t;var l=kr;t=Vr;var f=32-yt(l)-1;l&=~(1<<f),a+=1;var d=32-yt(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,kr=1<<32-yt(r)+f|a<<f|l,Vr=d+t}else kr=1<<d|a<<f|l,Vr=t}function Hf(t){t.return!==null&&(ti(t,1),ey(t,1,0))}function Ff(t){for(;t===hc;)hc=Ga[--Ka],Ga[Ka]=null,dl=Ga[--Ka],Ga[Ka]=null;for(;t===Bi;)Bi=Bn[--qn],Bn[qn]=null,Vr=Bn[--qn],Bn[qn]=null,kr=Bn[--qn],Bn[qn]=null}function ty(t,r){Bn[qn++]=kr,Bn[qn++]=Vr,Bn[qn++]=Bi,kr=r.id,Vr=r.overflow,Bi=t}var Qt=null,rt=null,Ue=!1,qi=null,Hn=!1,Gf=Error(s(519));function Hi(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(zn(r,t)),Gf}function ny(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[zt]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<jl.length;a++)Me(jl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Fu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),ki(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||v_(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=tr),r=!0):r=!1,r||Hi(t,!0)}function ry(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Qt=Qt.return}}function Qa(t){if(t!==Qt)return!1;if(!Ue)return ry(t),Ue=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||um(t.type,t.memoizedProps)),a=!a),a&&rt&&Hi(t),ry(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=C_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=C_(t)}else r===27?(r=rt,rs(t.type)?(t=mm,mm=null,rt=t):rt=r):rt=Qt?Gn(t.stateNode.nextSibling):null;return!0}function Js(){rt=Qt=null,Ue=!1}function Kf(){var t=qi;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),qi=null),t}function ml(t){qi===null?qi=[t]:qi.push(t)}var Qf=k(null),Ws=null,ni=null;function Fi(t,r,a){oe(Qf,r._currentValue),r._currentValue=a}function ri(t){t._currentValue=Qf.current,te(Qf)}function Yf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function $f(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var I=0;I<r.length;I++)if(w.context===r[I]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Yf(d.return,a,t),l||(v=null);break e}d=w.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Yf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ya(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=f.type;xn(f.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(f===ze.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}f=f.return}t!==null&&$f(r,t,a,l),r.flags|=262144}function fc(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zs(t){Ws=t,ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return iy(Ws,t)}function dc(t,r){return Ws===null&&Zs(t),iy(t,r)}function iy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ni===null){if(t===null)throw Error(s(308));ni=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ni=ni.next=r;return a}var ww=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},xw=i.unstable_scheduleCallback,Aw=i.unstable_NormalPriority,Rt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new ww,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&xw(Aw,function(){t.controller.abort()})}var gl=null,Jf=0,$a=0,Xa=null;function Sw(t,r){if(gl===null){var a=gl=[];Jf=0,$a=em(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jf++,r.then(sy,sy),r}function sy(){if(--Jf===0&&gl!==null){Xa!==null&&(Xa.status="fulfilled");var t=gl;gl=null,$a=0,Xa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Rw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ay=$.S;$.S=function(t,r){H0=on(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Sw(t,r),ay!==null&&ay(t,r)};var ea=k(null);function Wf(){var t=ea.current;return t!==null?t:nt.pooledCache}function mc(t,r){r===null?oe(ea,ea.current):oe(ea,r.pool)}function oy(){var t=Wf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Ja=Error(s(460)),Zf=Error(s(474)),pc=Error(s(542)),gc={then:function(){}};function ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(tr,tr),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,hy(t),t;default:if(typeof r.status=="string")r.then(tr,tr);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,hy(t),t}throw na=r,Ja}}function ta(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,Ja):a}}var na=null;function cy(){if(na===null)throw Error(s(459));var t=na;return na=null,t}function hy(t){if(t===Ja||t===pc)throw Error(s(483))}var Wa=null,yl=0;function yc(t){var r=yl;return yl+=1,Wa===null&&(Wa=[]),uy(Wa,t,r)}function _l(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function _c(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function fy(t){function r(L,M){if(t){var q=L.deletions;q===null?(L.deletions=[M],L.flags|=16):q.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function f(L,M){return L=ei(L,M),L.index=0,L.sibling=null,L}function d(L,M,q){return L.index=q,t?(q=L.alternate,q!==null?(q=q.index,q<M?(L.flags|=67108866,M):q):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function w(L,M,q,W){return M===null||M.tag!==6?(M=Bf(q,L.mode,W),M.return=L,M):(M=f(M,q),M.return=L,M)}function I(L,M,q,W){var ge=q.type;return ge===Q?X(L,M,q.props.children,W,q.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&ta(ge)===M.type)?(M=f(M,q.props),_l(M,q),M.return=L,M):(M=cc(q.type,q.key,q.props,null,L.mode,W),_l(M,q),M.return=L,M)}function H(L,M,q,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=qf(q,L.mode,W),M.return=L,M):(M=f(M,q.children||[]),M.return=L,M)}function X(L,M,q,W,ge){return M===null||M.tag!==7?(M=Xs(q,L.mode,W,ge),M.return=L,M):(M=f(M,q),M.return=L,M)}function ee(L,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Bf(""+M,L.mode,q),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return q=cc(M.type,M.key,M.props,null,L.mode,q),_l(q,M),q.return=L,q;case U:return M=qf(M,L.mode,q),M.return=L,M;case S:return M=ta(M),ee(L,M,q)}if(Te(M)||P(M))return M=Xs(M,L.mode,q,null),M.return=L,M;if(typeof M.then=="function")return ee(L,yc(M),q);if(M.$$typeof===Z)return ee(L,dc(L,M),q);_c(L,M)}return null}function F(L,M,q,W){var ge=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:w(L,M,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case V:return q.key===ge?I(L,M,q,W):null;case U:return q.key===ge?H(L,M,q,W):null;case S:return q=ta(q),F(L,M,q,W)}if(Te(q)||P(q))return ge!==null?null:X(L,M,q,W,null);if(typeof q.then=="function")return F(L,M,yc(q),W);if(q.$$typeof===Z)return F(L,M,dc(L,q),W);_c(L,q)}return null}function Y(L,M,q,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(q)||null,w(M,L,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case V:return L=L.get(W.key===null?q:W.key)||null,I(M,L,W,ge);case U:return L=L.get(W.key===null?q:W.key)||null,H(M,L,W,ge);case S:return W=ta(W),Y(L,M,q,W,ge)}if(Te(W)||P(W))return L=L.get(q)||null,X(M,L,W,ge,null);if(typeof W.then=="function")return Y(L,M,q,yc(W),ge);if(W.$$typeof===Z)return Y(L,M,q,dc(M,W),ge);_c(M,W)}return null}function ce(L,M,q,W){for(var ge=null,qe=null,de=M,Ne=M=0,Ve=null;de!==null&&Ne<q.length;Ne++){de.index>Ne?(Ve=de,de=null):Ve=de.sibling;var He=F(L,de,q[Ne],W);if(He===null){de===null&&(de=Ve);break}t&&de&&He.alternate===null&&r(L,de),M=d(He,M,Ne),qe===null?ge=He:qe.sibling=He,qe=He,de=Ve}if(Ne===q.length)return a(L,de),Ue&&ti(L,Ne),ge;if(de===null){for(;Ne<q.length;Ne++)de=ee(L,q[Ne],W),de!==null&&(M=d(de,M,Ne),qe===null?ge=de:qe.sibling=de,qe=de);return Ue&&ti(L,Ne),ge}for(de=l(de);Ne<q.length;Ne++)Ve=Y(de,L,Ne,q[Ne],W),Ve!==null&&(t&&Ve.alternate!==null&&de.delete(Ve.key===null?Ne:Ve.key),M=d(Ve,M,Ne),qe===null?ge=Ve:qe.sibling=Ve,qe=Ve);return t&&de.forEach(function(ls){return r(L,ls)}),Ue&&ti(L,Ne),ge}function _e(L,M,q,W){if(q==null)throw Error(s(151));for(var ge=null,qe=null,de=M,Ne=M=0,Ve=null,He=q.next();de!==null&&!He.done;Ne++,He=q.next()){de.index>Ne?(Ve=de,de=null):Ve=de.sibling;var ls=F(L,de,He.value,W);if(ls===null){de===null&&(de=Ve);break}t&&de&&ls.alternate===null&&r(L,de),M=d(ls,M,Ne),qe===null?ge=ls:qe.sibling=ls,qe=ls,de=Ve}if(He.done)return a(L,de),Ue&&ti(L,Ne),ge;if(de===null){for(;!He.done;Ne++,He=q.next())He=ee(L,He.value,W),He!==null&&(M=d(He,M,Ne),qe===null?ge=He:qe.sibling=He,qe=He);return Ue&&ti(L,Ne),ge}for(de=l(de);!He.done;Ne++,He=q.next())He=Y(de,L,Ne,He.value,W),He!==null&&(t&&He.alternate!==null&&de.delete(He.key===null?Ne:He.key),M=d(He,M,Ne),qe===null?ge=He:qe.sibling=He,qe=He);return t&&de.forEach(function(Lx){return r(L,Lx)}),Ue&&ti(L,Ne),ge}function tt(L,M,q,W){if(typeof q=="object"&&q!==null&&q.type===Q&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case V:e:{for(var ge=q.key;M!==null;){if(M.key===ge){if(ge=q.type,ge===Q){if(M.tag===7){a(L,M.sibling),W=f(M,q.props.children),W.return=L,L=W;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&ta(ge)===M.type){a(L,M.sibling),W=f(M,q.props),_l(W,q),W.return=L,L=W;break e}a(L,M);break}else r(L,M);M=M.sibling}q.type===Q?(W=Xs(q.props.children,L.mode,W,q.key),W.return=L,L=W):(W=cc(q.type,q.key,q.props,null,L.mode,W),_l(W,q),W.return=L,L=W)}return v(L);case U:e:{for(ge=q.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(L,M.sibling),W=f(M,q.children||[]),W.return=L,L=W;break e}else{a(L,M);break}else r(L,M);M=M.sibling}W=qf(q,L.mode,W),W.return=L,L=W}return v(L);case S:return q=ta(q),tt(L,M,q,W)}if(Te(q))return ce(L,M,q,W);if(P(q)){if(ge=P(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),_e(L,M,q,W)}if(typeof q.then=="function")return tt(L,M,yc(q),W);if(q.$$typeof===Z)return tt(L,M,dc(L,q),W);_c(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(L,M.sibling),W=f(M,q),W.return=L,L=W):(a(L,M),W=Bf(q,L.mode,W),W.return=L,L=W),v(L)):a(L,M)}return function(L,M,q,W){try{yl=0;var ge=tt(L,M,q,W);return Wa=null,ge}catch(de){if(de===Ja||de===pc)throw de;var qe=An(29,de,null,L.mode);return qe.lanes=W,qe.return=L,qe}finally{}}}var ra=fy(!0),dy=fy(!1),Gi=!1;function ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=uc(t),Xg(t,null,a),r}return lc(t,l,r,a),uc(t)}function vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ko(t,a)}}function nd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var rd=!1;function El(){if(rd){var t=Xa;if(t!==null)throw t}}function bl(t,r,a,l){rd=!1;var f=t.updateQueue;Gi=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var I=w,H=I.next;I.next=null,v===null?d=H:v.next=H,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==v&&(w===null?X.firstBaseUpdate=H:w.next=H,X.lastBaseUpdate=I))}if(d!==null){var ee=f.baseState;v=0,X=H=I=null,w=d;do{var F=w.lane&-536870913,Y=F!==w.lane;if(Y?(ke&F)===F:(l&F)===F){F!==0&&F===$a&&(rd=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ce=t,_e=w;F=r;var tt=a;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){ee=ce.call(tt,ee,F);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,F=typeof ce=="function"?ce.call(tt,ee,F):ce,F==null)break e;ee=T({},ee,F);break e;case 2:Gi=!0}}F=w.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(H=X=Y,I=ee):X=X.next=Y,v|=F;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Wi|=v,t.lanes=v,t.memoizedState=ee}}function my(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function py(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)my(a[t],r)}var Za=k(null),vc=k(0);function gy(t,r){t=fi,oe(vc,t),oe(Za,r),fi=t|r.baseLanes}function id(){oe(vc,fi),oe(Za,Za.current)}function sd(){fi=vc.current,te(Za),te(vc)}var Sn=k(null),Fn=null;function Yi(t){var r=t.alternate;oe(vt,vt.current&1),oe(Sn,t),Fn===null&&(r===null||Za.current!==null||r.memoizedState!==null)&&(Fn=t)}function ad(t){oe(vt,vt.current),oe(Sn,t),Fn===null&&(Fn=t)}function yy(t){t.tag===22?(oe(vt,vt.current),oe(Sn,t),Fn===null&&(Fn=t)):$i()}function $i(){oe(vt,vt.current),oe(Sn,Sn.current)}function Rn(t){te(Sn),Fn===t&&(Fn=null),te(vt)}var vt=k(0);function Ec(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fm(a)||dm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ii=0,Re=null,Ze=null,Ct=null,bc=!1,eo=!1,ia=!1,Tc=0,Tl=0,to=null,Cw=0;function dt(){throw Error(s(321))}function od(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!xn(t[a],r[a]))return!1;return!0}function ld(t,r,a,l,f,d){return ii=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?e0:wd,ia=!1,d=a(l,f),ia=!1,eo&&(d=vy(r,a,l,f)),_y(t),d}function _y(t){$.H=Al;var r=Ze!==null&&Ze.next!==null;if(ii=0,Ct=Ze=Re=null,bc=!1,Tl=0,to=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&fc(t)&&(Nt=!0))}function vy(t,r,a,l){Re=t;var f=0;do{if(eo&&(to=null),Tl=0,eo=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=t0,d=r(a,l)}while(eo);return d}function Nw(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?wl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),r}function ud(){var t=Tc!==0;return Tc=0,t}function cd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function hd(t){if(bc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}bc=!1}ii=0,Ct=Ze=Re=null,eo=!1,Tl=Tc=0,to=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Et(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=Ct===null?Re.memoizedState:Ct.next;if(r!==null)Ct=r,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var r=Tl;return Tl+=1,to===null&&(to=[]),t=uy(to,t,r),r=Re,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?e0:wd),t}function xc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===Z)return Yt(t)}throw Error(s(438,String(t)))}function fd(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=wc(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=D;return r.index++,a}function si(t,r){return typeof r=="function"?r(t):r}function Ac(t){var r=Et();return dd(r,Ze,t)}function dd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var w=v=null,I=null,H=r,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(ke&ee)===ee:(ii&ee)===ee){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===$a&&(X=!0);else if((ii&F)===F){H=H.next,F===$a&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(w=I=ee,v=d):I=I.next=ee,Re.lanes|=F,Wi|=F;ee=H.action,ia&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(w=I=F,v=d):I=I.next=F,Re.lanes|=ee,Wi|=ee;H=H.next}while(H!==null&&H!==r);if(I===null?v=d:I.next=w,!xn(d,t.memoizedState)&&(Nt=!0,X&&(a=Xa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function md(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);xn(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Ey(t,r,a){var l=Re,f=Et(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!xn((Ze||f).memoizedState,a);if(v&&(f.memoizedState=a,Nt=!0),f=f.queue,yd(wy.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},Ty.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));d||(ii&127)!==0||by(l,r,a)}return a}function by(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=wc(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ty(t,r,a,l){r.value=a,r.getSnapshot=l,xy(r)&&Ay(t)}function wy(t,r,a){return a(function(){xy(r)&&Ay(t)})}function xy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!xn(t,a)}catch{return!0}}function Ay(t){var r=$s(t,2);r!==null&&yn(r,t,2)}function pd(t){var r=un();if(typeof t=="function"){var a=t;if(t=a(),ia){kn(!0);try{a()}finally{kn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},r}function Sy(t,r,a,l){return t.baseState=a,dd(t,Ze,typeof l=="function"?l:si)}function Iw(t,r,a,l,f){if(Cc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Ry(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Ry(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=$.T,v={};$.T=v;try{var w=a(f,l),I=$.S;I!==null&&I(v,w),Cy(t,r,w)}catch(H){gd(t,r,H)}finally{d!==null&&v.types!==null&&(d.types=v.types),$.T=d}}else try{d=a(f,l),Cy(t,r,d)}catch(H){gd(t,r,H)}}function Cy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ny(t,r,l)},function(l){return gd(t,r,l)}):Ny(t,r,a)}function Ny(t,r,a){r.status="fulfilled",r.value=a,Iy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Ry(t,a)))}function gd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Iy(r),r=r.next;while(r!==l)}t.action=null}function Iy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Dy(t,r){return r}function Oy(t,r){if(Ue){var a=nt.formState;if(a!==null){e:{var l=Re;if(Ue){if(rt){t:{for(var f=rt,d=Hn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){rt=Gn(f.nextSibling),l=f.data==="F!";break e}}Hi(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dy,lastRenderedState:r},a.queue=l,a=Jy.bind(null,Re,l),l.dispatch=a,l=pd(!1),d=Td.bind(null,Re,!1,l.queue),l=un(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=Iw.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function My(t){var r=Et();return ky(r,Ze,t)}function ky(t,r,a){if(r=dd(t,r,Dy)[0],t=Ac(si)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=wl(r)}catch(v){throw v===Ja?pc:v}else l=r;r=Et();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,no(9,{destroy:void 0},Dw.bind(null,f,a),null)),[l,d,t]}function Dw(t,r){t.action=r}function Vy(t){var r=Et(),a=Ze;if(a!==null)return ky(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function no(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=wc(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function jy(){return Et().memoizedState}function Sc(t,r,a,l){var f=un();Re.flags|=t,f.memoizedState=no(1|r,{destroy:void 0},a,l===void 0?null:l)}function Rc(t,r,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&od(l,Ze.memoizedState.deps)?f.memoizedState=no(r,d,a,l):(Re.flags|=t,f.memoizedState=no(1|r,d,a,l))}function Py(t,r){Sc(8390656,8,t,r)}function yd(t,r){Rc(2048,8,t,r)}function Ow(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=wc(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Ly(t){var r=Et().memoizedState;return Ow({ref:r,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Uy(t,r){return Rc(4,2,t,r)}function zy(t,r){return Rc(4,4,t,r)}function By(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function qy(t,r,a){a=a!=null?a.concat([t]):null,Rc(4,4,By.bind(null,r,t),a)}function _d(){}function Hy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&od(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Fy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&od(r,l[1]))return l[0];if(l=t(),ia){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,r],l}function vd(t,r,a){return a===void 0||(ii&1073741824)!==0&&(ke&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=G0(),Re.lanes|=t,Wi|=t,a)}function Gy(t,r,a,l){return xn(a,r)?a:Za.current!==null?(t=vd(t,a,l),xn(t,r)||(Nt=!0),t):(ii&42)===0||(ii&1073741824)!==0&&(ke&261930)===0?(Nt=!0,t.memoizedState=a):(t=G0(),Re.lanes|=t,Wi|=t,r)}function Ky(t,r,a,l,f){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=$.T,w={};$.T=w,Td(t,!1,r,a);try{var I=f(),H=$.S;if(H!==null&&H(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=Rw(I,l);xl(t,r,X,In(t))}else xl(t,r,l,In(t))}catch(ee){xl(t,r,{then:function(){},status:"rejected",reason:ee},In())}finally{ie.p=d,v!==null&&w.types!==null&&(v.types=w.types),$.T=v}}function Mw(){}function Ed(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Qy(t).queue;Ky(t,f,r,me,a===null?Mw:function(){return Yy(t),a(l)})}function Qy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Yy(t){var r=Qy(t);r.next===null&&(r=t.alternate.memoizedState),xl(t,r.next.queue,{},In())}function bd(){return Yt(Bl)}function $y(){return Et().memoizedState}function Xy(){return Et().memoizedState}function kw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=In();t=Ki(a);var l=Qi(r,t,a);l!==null&&(yn(l,r,a),vl(l,r,a)),r={cache:Xf()},t.payload=r;return}r=r.return}}function Vw(t,r,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cc(t)?Wy(r,a):(a=Uf(t,r,a,l),a!==null&&(yn(a,t,l),Zy(a,r,l)))}function Jy(t,r,a){var l=In();xl(t,r,a,l)}function xl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cc(t))Wy(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,w=d(v,a);if(f.hasEagerState=!0,f.eagerState=w,xn(w,v))return lc(t,r,f,0),nt===null&&oc(),!1}catch{}finally{}if(a=Uf(t,r,f,l),a!==null)return yn(a,t,l),Zy(a,r,l),!0}return!1}function Td(t,r,a,l){if(l={lane:2,revertLane:em(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cc(t)){if(r)throw Error(s(479))}else r=Uf(t,a,l,2),r!==null&&yn(r,t,2)}function Cc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function Wy(t,r){eo=bc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Zy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ko(t,a)}}var Al={readContext:Yt,use:xc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Al.useEffectEvent=dt;var e0={readContext:Yt,use:xc,useCallback:function(t,r){return un().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:Py,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,By.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Sc(4194308,4,t,r)},useInsertionEffect:function(t,r){Sc(4,2,t,r)},useMemo:function(t,r){var a=un();r=r===void 0?null:r;var l=t();if(ia){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=un();if(a!==void 0){var f=a(r);if(ia){kn(!0);try{a(r)}finally{kn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Vw.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=un();return t={current:t},r.memoizedState=t},useState:function(t){t=pd(t);var r=t.queue,a=Jy.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:_d,useDeferredValue:function(t,r){var a=un();return vd(a,t,r)},useTransition:function(){var t=pd(!1);return t=Ky.bind(null,Re,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,f=un();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(ke&127)!==0||by(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Py(wy.bind(null,l,d,t),[t]),l.flags|=2048,no(9,{destroy:void 0},Ty.bind(null,l,d,a,r),null),a},useId:function(){var t=un(),r=nt.identifierPrefix;if(Ue){var a=Vr,l=kr;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Tc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Cw++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:bd,useFormState:Oy,useActionState:Oy,useOptimistic:function(t){var r=un();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Td.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:fd,useCacheRefresh:function(){return un().memoizedState=kw.bind(null,Re)},useEffectEvent:function(t){var r=un(),a={impl:t};return r.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},wd={readContext:Yt,use:xc,useCallback:Hy,useContext:Yt,useEffect:yd,useImperativeHandle:qy,useInsertionEffect:Uy,useLayoutEffect:zy,useMemo:Fy,useReducer:Ac,useRef:jy,useState:function(){return Ac(si)},useDebugValue:_d,useDeferredValue:function(t,r){var a=Et();return Gy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Ac(si)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:wl(t),r]},useSyncExternalStore:Ey,useId:$y,useHostTransitionStatus:bd,useFormState:My,useActionState:My,useOptimistic:function(t,r){var a=Et();return Sy(a,Ze,t,r)},useMemoCache:fd,useCacheRefresh:Xy};wd.useEffectEvent=Ly;var t0={readContext:Yt,use:xc,useCallback:Hy,useContext:Yt,useEffect:yd,useImperativeHandle:qy,useInsertionEffect:Uy,useLayoutEffect:zy,useMemo:Fy,useReducer:md,useRef:jy,useState:function(){return md(si)},useDebugValue:_d,useDeferredValue:function(t,r){var a=Et();return Ze===null?vd(a,t,r):Gy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=md(si)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:wl(t),r]},useSyncExternalStore:Ey,useId:$y,useHostTransitionStatus:bd,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,r){var a=Et();return Ze!==null?Sy(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fd,useCacheRefresh:Xy};t0.useEffectEvent=Ly;function xd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ad={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=In(),f=Ki(l);f.payload=r,a!=null&&(f.callback=a),r=Qi(t,f,l),r!==null&&(yn(r,t,l),vl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=In(),f=Ki(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Qi(t,f,l),r!==null&&(yn(r,t,l),vl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=In(),l=Ki(a);l.tag=2,r!=null&&(l.callback=r),r=Qi(t,l,a),r!==null&&(yn(r,t,a),vl(r,t,a))}};function n0(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!hl(a,l)||!hl(f,d):!0}function r0(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Ad.enqueueReplaceState(r,r.state,null)}function sa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function i0(t){ac(t)}function s0(t){console.error(t)}function a0(t){ac(t)}function Nc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function o0(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Sd(t,r,a){return a=Ki(a),a.tag=3,a.payload={element:null},a.callback=function(){Nc(t,r)},a}function l0(t){return t=Ki(t),t.tag=3,t}function u0(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){o0(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){o0(r,a,l),typeof f!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function jw(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ya(r,a,f,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Bc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===gc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Jd(t,l,f)),!1;case 22:return a.flags|=65536,l===gc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Jd(t,l,f)),!1}throw Error(s(435,a.tag))}return Jd(t,l,f),Bc(),!1}if(Ue)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Gf&&(t=Error(s(422),{cause:l}),ml(zn(t,a)))):(l!==Gf&&(r=Error(s(423),{cause:l}),ml(zn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=zn(l,a),f=Sd(t.stateNode,l,f),nd(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),Ml===null?Ml=[d]:Ml.push(d),mt!==4&&(mt=2),r===null)return!0;l=zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Sd(a.stateNode,l,t),nd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Zi===null||!Zi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=l0(f),u0(f,t,a,l),nd(a,f),!1}a=a.return}while(a!==null);return!1}var Rd=Error(s(461)),Nt=!1;function $t(t,r,a,l){r.child=t===null?dy(r,null,a,l):ra(r,t.child,a,l)}function c0(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Zs(r),l=ld(t,r,a,v,d,f),w=ud(),t!==null&&!Nt?(cd(t,r,f),ai(t,r,f)):(Ue&&w&&Hf(r),r.flags|=1,$t(t,r,l,f),r.child)}function h0(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,f0(t,r,d,l,f)):(t=cc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Vd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(v,l)&&t.ref===r.ref)return ai(t,r,f)}return r.flags|=1,t=ei(d,l),t.ref=r.ref,t.return=r,r.child=t}function f0(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,Vd(t,f))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,ai(t,r,f)}return Cd(t,r,a,l,f)}function d0(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return m0(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&mc(r,d!==null?d.cachePool:null),d!==null?gy(r,d):id(),yy(r);else return l=r.lanes=536870912,m0(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(mc(r,d.cachePool),gy(r,d),$i(),r.memoizedState=null):(t!==null&&mc(r,null),id(),$i());return $t(t,r,f,a),r.child}function Sl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function m0(t,r,a,l,f){var d=Wf();return d=d===null?null:{parent:Rt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&mc(r,null),id(),yy(r),t!==null&&Ya(t,r,l,!0),r.childLanes=f,null}function Ic(t,r){return r=Oc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function p0(t,r,a){return ra(r,t.child,null,a),t=Ic(r,r.pendingProps),t.flags|=2,Rn(r),r.memoizedState=null,t}function Pw(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Ic(r,l),r.lanes=536870912,Sl(null,t);if(ad(r),(t=rt)?(t=R_(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Bi!==null?{id:kr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=r,r.child=a,Qt=r,rt=null)):t=null,t===null)throw Hi(r);return r.lanes=536870912,null}return Ic(r,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(ad(r),f)if(r.flags&256)r.flags&=-257,r=p0(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nt||Ya(t,r,a,!1),f=(a&t.childLanes)!==0,Nt||f){if(l=nt,l!==null&&(v=Qo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,$s(t,v),yn(l,t,v),Rd;Bc(),r=p0(t,r,a)}else t=d.treeContext,rt=Gn(v.nextSibling),Qt=r,Ue=!0,qi=null,Hn=!1,t!==null&&ty(r,t),r=Ic(r,l),r.flags|=4096;return r}return t=ei(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Dc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Cd(t,r,a,l,f){return Zs(r),a=ld(t,r,a,l,void 0,f),l=ud(),t!==null&&!Nt?(cd(t,r,f),ai(t,r,f)):(Ue&&l&&Hf(r),r.flags|=1,$t(t,r,a,f),r.child)}function g0(t,r,a,l,f,d){return Zs(r),r.updateQueue=null,a=vy(r,l,a,f),_y(t),l=ud(),t!==null&&!Nt?(cd(t,r,d),ai(t,r,d)):(Ue&&l&&Hf(r),r.flags|=1,$t(t,r,a,d),r.child)}function y0(t,r,a,l,f){if(Zs(r),r.stateNode===null){var d=Fa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ad,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},ed(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Fa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(xd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ad.enqueueReplaceState(d,d.state,null),bl(r,l,d,f),El(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,I=sa(a,w);d.props=I;var H=d.context,X=a.contextType;v=Fa,typeof X=="object"&&X!==null&&(v=Yt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||H!==v)&&r0(r,d,l,v),Gi=!1;var F=r.memoizedState;d.state=F,bl(r,l,d,f),El(),H=r.memoizedState,w||F!==H||Gi?(typeof ee=="function"&&(xd(r,a,ee,l),H=r.memoizedState),(I=Gi||n0(r,a,I,l,F,H,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,td(t,r),v=r.memoizedProps,X=sa(a,v),d.props=X,ee=r.pendingProps,F=d.context,H=a.contextType,I=Fa,typeof H=="object"&&H!==null&&(I=Yt(H)),w=a.getDerivedStateFromProps,(H=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||F!==I)&&r0(r,d,l,I),Gi=!1,F=r.memoizedState,d.state=F,bl(r,l,d,f),El();var Y=r.memoizedState;v!==ee||F!==Y||Gi||t!==null&&t.dependencies!==null&&fc(t.dependencies)?(typeof w=="function"&&(xd(r,a,w,l),Y=r.memoizedState),(X=Gi||n0(r,a,X,l,F,Y,I)||t!==null&&t.dependencies!==null&&fc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Dc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ra(r,t.child,null,f),r.child=ra(r,null,a,f)):$t(t,r,a,f),r.memoizedState=d.state,t=r.child):t=ai(t,r,f),t}function _0(t,r,a,l){return Js(),r.flags|=256,$t(t,r,a,l),r.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(t){return{baseLanes:t,cachePool:oy()}}function Dd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Nn),t}function v0(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ue){if(f?Yi(r):$i(),(t=rt)?(t=R_(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Bi!==null?{id:kr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=r,r.child=a,Qt=r,rt=null)):t=null,t===null)throw Hi(r);return dm(t)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?($i(),f=r.mode,w=Oc({mode:"hidden",children:w},f),l=Xs(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=Id(a),l.childLanes=Dd(t,v,a),r.memoizedState=Nd,Sl(null,l)):(Yi(r),Od(r,w))}var I=t.memoizedState;if(I!==null&&(w=I.dehydrated,w!==null)){if(d)r.flags&256?(Yi(r),r.flags&=-257,r=Md(t,r,a)):r.memoizedState!==null?($i(),r.child=t.child,r.flags|=128,r=null):($i(),w=l.fallback,f=r.mode,l=Oc({mode:"visible",children:l.children},f),w=Xs(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,ra(r,t.child,null,a),l=r.child,l.memoizedState=Id(a),l.childLanes=Dd(t,v,a),r.memoizedState=Nd,r=Sl(null,l));else if(Yi(r),dm(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,ml({value:l,source:null,stack:null}),r=Md(t,r,a)}else if(Nt||Ya(t,r,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=nt,v!==null&&(l=Qo(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,$s(t,l),yn(v,t,l),Rd;fm(w)||Bc(),r=Md(t,r,a)}else fm(w)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,rt=Gn(w.nextSibling),Qt=r,Ue=!0,qi=null,Hn=!1,t!==null&&ty(r,t),r=Od(r,l.children),r.flags|=4096);return r}return f?($i(),w=l.fallback,f=r.mode,I=t.child,H=I.sibling,l=ei(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?w=ei(H,w):(w=Xs(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,Sl(null,l),l=r.child,w=t.child.memoizedState,w===null?w=Id(a):(f=w.cachePool,f!==null?(I=Rt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=oy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Dd(t,v,a),r.memoizedState=Nd,Sl(t.child,l)):(Yi(r),a=t.child,t=a.sibling,a=ei(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Od(t,r){return r=Oc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Oc(t,r){return t=An(22,t,null,r),t.lanes=0,t}function Md(t,r,a){return ra(r,t.child,null,a),t=Od(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function E0(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Yf(t.return,r,a)}function kd(t,r,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function b0(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=vt.current,w=(v&2)!==0;if(w?(v=v&1|2,r.flags|=128):v&=1,oe(vt,v),$t(t,r,l,a),l=Ue?dl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&E0(t,a,r);else if(t.tag===19)E0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Ec(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),kd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Ec(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}kd(r,!0,a,null,d,l);break;case"together":kd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ai(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Wi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ya(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ei(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ei(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Vd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&fc(t)))}function Lw(t,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),Fi(r,Rt,t.memoizedState.cache),Js();break;case 27:case 5:Ds(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:Fi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ad(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?v0(t,r,a):(Yi(r),t=ai(t,r,a),t!==null?t.sibling:null);Yi(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ya(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return b0(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(vt,vt.current),l)break;return null;case 22:return r.lanes=0,d0(t,r,a,r.pendingProps);case 24:Fi(r,Rt,t.memoizedState.cache)}return ai(t,r,a)}function T0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Vd(t,a)&&(r.flags&128)===0)return Nt=!1,Lw(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,Ue&&(r.flags&1048576)!==0&&ey(r,dl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ta(r.elementType),r.type=t,typeof t=="function")zf(t)?(l=sa(t,l),r.tag=1,r=y0(null,r,t,l,a)):(r.tag=0,r=Cd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===he){r.tag=11,r=c0(null,r,t,l,a);break e}else if(f===C){r.tag=14,r=h0(null,r,t,l,a);break e}}throw r=De(t)||t,Error(s(306,r,""))}}return r;case 0:return Cd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=sa(l,r.pendingProps),y0(t,r,l,f,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,td(t,r),bl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Fi(r,Rt,l),l!==d.cache&&$f(r,[Rt],a,!0),El(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=_0(t,r,l,a);break e}else if(l!==f){f=zn(Error(s(424)),r),ml(f),r=_0(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Gn(t.firstChild),Qt=r,Ue=!0,qi=null,Hn=!0,a=dy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Js(),l===f){r=ai(t,r,a);break e}$t(t,r,l,a)}r=r.child}return r;case 26:return Dc(t,r),t===null?(a=M_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ue||(a=r.type,t=r.pendingProps,l=Yc(Ce.current).createElement(a),l[xt]=r,l[zt]=t,Xt(l,a,t),At(l),r.stateNode=l):r.memoizedState=M_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ds(r),t===null&&Ue&&(l=r.stateNode=I_(r.type,r.pendingProps,Ce.current),Qt=r,Hn=!0,f=rt,rs(r.type)?(mm=f,rt=Gn(l.firstChild)):rt=f),$t(t,r,r.pendingProps.children,a),Dc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ue&&((f=l=rt)&&(l=mx(l,r.type,r.pendingProps,Hn),l!==null?(r.stateNode=l,Qt=r,rt=Gn(l.firstChild),Hn=!1,f=!0):f=!1),f||Hi(r)),Ds(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,um(f,d)?l=null:v!==null&&um(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=ld(t,r,Nw,null,null,a),Bl._currentValue=f),Dc(t,r),$t(t,r,l,a),r.child;case 6:return t===null&&Ue&&((t=a=rt)&&(a=px(a,r.pendingProps,Hn),a!==null?(r.stateNode=a,Qt=r,rt=null,t=!0):t=!1),t||Hi(r)),null;case 13:return v0(t,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ra(r,null,l,a):$t(t,r,l,a),r.child;case 11:return c0(t,r,r.type,r.pendingProps,a);case 7:return $t(t,r,r.pendingProps,a),r.child;case 8:return $t(t,r,r.pendingProps.children,a),r.child;case 12:return $t(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Fi(r,r.type,l.value),$t(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Zs(r),f=Yt(f),l=l(f),r.flags|=1,$t(t,r,l,a),r.child;case 14:return h0(t,r,r.type,r.pendingProps,a);case 15:return f0(t,r,r.type,r.pendingProps,a);case 19:return b0(t,r,a);case 31:return Pw(t,r,a);case 22:return d0(t,r,a,r.pendingProps);case 24:return Zs(r),l=Yt(Rt),t===null?(f=Wf(),f===null&&(f=nt,d=Xf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},ed(r),Fi(r,Rt,f)):((t.lanes&a)!==0&&(td(t,r),bl(r,null,null,a),El()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Fi(r,Rt,l)):(l=d.cache,Fi(r,Rt,l),l!==f.cache&&$f(r,[Rt],a,!0))),$t(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function oi(t){t.flags|=4}function jd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if($0())t.flags|=8192;else throw na=gc,Zf}else t.flags&=-16777217}function w0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L_(r))if($0())t.flags|=8192;else throw na=gc,Zf}function Mc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Uu():536870912,t.lanes|=r,ao|=r)}function Rl(t,r){if(!Ue)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Uw(t,r,a){var l=r.pendingProps;switch(Ff(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ri(Rt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qa(r)?oi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kf())),it(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(oi(r),d!==null?(it(r),w0(r,d)):(it(r),jd(r,f,null,l,a))):d?d!==t.memoizedState?(oi(r),it(r),w0(r,d)):(it(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&oi(r),it(r),jd(r,f,t,l,a)),null;case 27:if(Aa(r),a=Ce.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&oi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=ue.current,Qa(r)?ny(r):(t=I_(f,l,a),r.stateNode=t,oi(r))}return it(r),null;case 5:if(Aa(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&oi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(d=ue.current,Qa(r))ny(r);else{var v=Yc(Ce.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[xt]=r,d[zt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(Xt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&oi(r)}}return it(r),jd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&oi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ce.current,Qa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||v_(t.nodeValue,a)),t||Hi(r,!0)}else t=Yc(t).createTextNode(l),t[xt]=r,r.stateNode=t}return it(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Qa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[xt]=r}else Js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),t=!1}else a=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Rn(r),r):(Rn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Qa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else Js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),f=!1}else f=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Rn(r),r):(Rn(r),null)}return Rn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Mc(r,r.updateQueue),it(r),null);case 4:return lt(),t===null&&im(r.stateNode.containerInfo),it(r),null;case 10:return ri(r.type),it(r),null;case 19:if(te(vt),l=r.memoizedState,l===null)return it(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Rl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Ec(t),d!==null){for(r.flags|=128,Rl(l,!1),t=d.updateQueue,r.updateQueue=t,Mc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Jg(a,t),a=a.sibling;return oe(vt,vt.current&1|2),Ue&&ti(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&on()>Lc&&(r.flags|=128,f=!0,Rl(l,!1),r.lanes=4194304)}else{if(!f)if(t=Ec(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Mc(r,t),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return it(r),null}else 2*on()-l.renderingStartTime>Lc&&a!==536870912&&(r.flags|=128,f=!0,Rl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=vt.current,oe(vt,f?a&1|2:a&1),Ue&&ti(r,l.treeForkCount),t):(it(r),null);case 22:case 23:return Rn(r),sd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&Mc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&te(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ri(Rt),it(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function zw(t,r){switch(Ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ri(Rt),lt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Aa(r),null;case 31:if(r.memoizedState!==null){if(Rn(r),r.alternate===null)throw Error(s(340));Js()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Rn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Js()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(vt),null;case 4:return lt(),null;case 10:return ri(r.type),null;case 22:case 23:return Rn(r),sd(),t!==null&&te(ea),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ri(Rt),null;case 25:return null;default:return null}}function x0(t,r){switch(Ff(r),r.tag){case 3:ri(Rt),lt();break;case 26:case 27:case 5:Aa(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&Rn(r);break;case 13:Rn(r);break;case 19:te(vt);break;case 10:ri(r.type);break;case 22:case 23:Rn(r),sd(),t!==null&&te(ea);break;case 24:ri(Rt)}}function Cl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(w){Je(r,r.return,w)}}function Xi(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,f=r;var I=a,H=w;try{H()}catch(X){Je(f,I,X)}}}l=l.next}while(l!==d)}}catch(X){Je(r,r.return,X)}}function A0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{py(r,a)}catch(l){Je(t,t.return,l)}}}function S0(t,r,a){a.props=sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,r,l)}}function Nl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Je(t,r,f)}}function jr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,r,f)}else a.current=null}function R0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Pd(t,r,a){try{var l=t.stateNode;lx(l,t.type,a,r),l[zt]=r}catch(f){Je(t,t.return,f)}}function C0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rs(t.type)||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||C0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=tr));else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Ud(t,r,a),t=t.sibling;t!==null;)Ud(t,r,a),t=t.sibling}function kc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(kc(t,r,a),t=t.sibling;t!==null;)kc(t,r,a),t=t.sibling}function N0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Xt(r,l,a),r[xt]=t,r[zt]=a}catch(d){Je(t,t.return,d)}}var li=!1,It=!1,zd=!1,I0=typeof WeakSet=="function"?WeakSet:Set,qt=null;function Bw(t,r){if(t=t.containerInfo,om=th,t=qg(t),Mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,I=-1,H=0,X=0,ee=t,F=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(w=v+f),ee!==d||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)F=ee,ee=Y;for(;;){if(ee===t)break t;if(F===a&&++H===f&&(w=v),F===d&&++X===l&&(I=v),(Y=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Y}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:t,selectionRange:a},th=!1,qt=r;qt!==null;)if(r=qt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,qt=t;else for(;qt!==null;){switch(r=qt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=sa(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)hm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,qt=t;break}qt=r.return}}function D0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ci(t,a),l&4&&Cl(5,a);break;case 1:if(ci(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var f=sa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&A0(a),l&512&&Nl(a,a.return);break;case 3:if(ci(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{py(t,r)}catch(v){Je(a,a.return,v)}}break;case 27:r===null&&l&4&&N0(a);case 26:case 5:ci(t,a),r===null&&l&4&&R0(a),l&512&&Nl(a,a.return);break;case 12:ci(t,a);break;case 31:ci(t,a),l&4&&k0(t,a);break;case 13:ci(t,a),l&4&&V0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Xw.bind(null,a),gx(t,a))));break;case 22:if(l=a.memoizedState!==null||li,!l){r=r!==null&&r.memoizedState!==null||It,f=li;var d=It;li=l,(It=r)&&!d?hi(t,a,(a.subtreeFlags&8772)!==0):ci(t,a),li=f,It=d}break;case 30:break;default:ci(t,a)}}function O0(t){var r=t.alternate;r!==null&&(t.alternate=null,O0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ia(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,dn=!1;function ui(t,r,a){for(a=a.child;a!==null;)M0(t,r,a),a=a.sibling}function M0(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:It||jr(a,r),ui(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||jr(a,r);var l=ct,f=dn;rs(a.type)&&(ct=a.stateNode,dn=!1),ui(t,r,a),Ll(a.stateNode),ct=l,dn=f;break;case 5:It||jr(a,r);case 6:if(l=ct,f=dn,ct=null,ui(t,r,a),ct=l,dn=f,ct!==null)if(dn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Je(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){Je(a,r,d)}break;case 18:ct!==null&&(dn?(t=ct,A_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),po(t)):A_(ct,a.stateNode));break;case 4:l=ct,f=dn,ct=a.stateNode.containerInfo,dn=!0,ui(t,r,a),ct=l,dn=f;break;case 0:case 11:case 14:case 15:Xi(2,a,r),It||Xi(4,a,r),ui(t,r,a);break;case 1:It||(jr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&S0(a,r,l)),ui(t,r,a);break;case 21:ui(t,r,a);break;case 22:It=(l=It)||a.memoizedState!==null,ui(t,r,a),It=l;break;default:ui(t,r,a)}}function k0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(a){Je(r,r.return,a)}}}function V0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(a){Je(r,r.return,a)}}function qw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new I0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new I0),r;default:throw Error(s(435,t.tag))}}function Vc(t,r){var a=qw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=Jw.bind(null,t,l);l.then(f,f)}})}function mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(rs(w.type)){ct=w.stateNode,dn=!1;break e}break;case 5:ct=w.stateNode,dn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,dn=!0;break e}w=w.return}if(ct===null)throw Error(s(160));M0(d,v,f),ct=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)j0(r,t),r=r.sibling}var or=null;function j0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),pn(t),l&4&&(Xi(3,t,t.return),Cl(3,t),Xi(5,t,t.return));break;case 1:mn(r,t),pn(t),l&512&&(It||a===null||jr(a,a.return)),l&64&&li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=or;if(mn(r,t),pn(t),l&512&&(It||a===null||jr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Tr]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,l,a),d[xt]=t,At(d),l=d;break e;case"link":var v=j_("link","href",f).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=j_("meta","content",f).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=t,At(d),l=d}t.stateNode=l}else P_(f,t.type,t.stateNode);else t.stateNode=V_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?P_(f,t.type,t.stateNode):V_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(r,t),pn(t),l&512&&(It||a===null||jr(a,a.return)),a!==null&&l&4&&Pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,t),pn(t),l&512&&(It||a===null||jr(a,a.return)),t.flags&32){f=t.stateNode;try{fn(f,"")}catch(ce){Je(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Pd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(zd=!0);break;case 6:if(mn(r,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Je(t,t.return,ce)}}break;case 3:if(Jc=null,f=or,or=$c(r.containerInfo),mn(r,t),or=f,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{po(r.containerInfo)}catch(ce){Je(t,t.return,ce)}zd&&(zd=!1,P0(t));break;case 4:l=or,or=$c(t.stateNode.containerInfo),mn(r,t),pn(t),or=l;break;case 12:mn(r,t),pn(t);break;case 31:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 13:mn(r,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=li,X=It;if(li=H||f,It=X||I,mn(r,t),It=X,li=H,pn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||li||It||aa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=I.stateNode;var ee=I.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){Je(I,I.return,ce)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(ce){Je(I,I.return,ce)}}}else if(r.tag===18){if(a===null){I=r;try{var Y=I.stateNode;f?S_(Y,!0):S_(I.stateNode,!1)}catch(ce){Je(I,I.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vc(t,a))));break;case 19:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 30:break;case 21:break;default:mn(r,t),pn(t)}}function pn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(C0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ld(t);kc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(fn(v,""),a.flags&=-33);var w=Ld(t);kc(t,w,v);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Ld(t);Ud(t,H,I);break;default:throw Error(s(161))}}catch(X){Je(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function P0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;P0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ci(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)D0(t,r.alternate,r),r=r.sibling}function aa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Xi(4,r,r.return),aa(r);break;case 1:jr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&S0(r,r.return,a),aa(r);break;case 27:Ll(r.stateNode);case 26:case 5:jr(r,r.return),aa(r);break;case 22:r.memoizedState===null&&aa(r);break;case 30:aa(r);break;default:aa(r)}t=t.sibling}}function hi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:hi(f,d,a),Cl(4,d);break;case 1:if(hi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Je(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)my(I[f],w)}catch(H){Je(l,l.return,H)}}a&&v&64&&A0(d),Nl(d,d.return);break;case 27:N0(d);case 26:case 5:hi(f,d,a),a&&l===null&&v&4&&R0(d),Nl(d,d.return);break;case 12:hi(f,d,a);break;case 31:hi(f,d,a),a&&v&4&&k0(f,d);break;case 13:hi(f,d,a),a&&v&4&&V0(f,d);break;case 22:d.memoizedState===null&&hi(f,d,a),Nl(d,d.return);break;case 30:break;default:hi(f,d,a)}r=r.sibling}}function Bd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function qd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&pl(t))}function lr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)L0(t,r,a,l),r=r.sibling}function L0(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:lr(t,r,a,l),f&2048&&Cl(9,r);break;case 1:lr(t,r,a,l);break;case 3:lr(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&pl(t)));break;case 12:if(f&2048){lr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Je(r,r.return,I)}}else lr(t,r,a,l);break;case 31:lr(t,r,a,l);break;case 13:lr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?lr(t,r,a,l):Il(t,r):d._visibility&2?lr(t,r,a,l):(d._visibility|=2,ro(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Bd(v,r);break;case 24:lr(t,r,a,l),f&2048&&qd(r.alternate,r);break;default:lr(t,r,a,l)}}function ro(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,w=a,I=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:ro(d,v,w,I,f),Cl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?ro(d,v,w,I,f):Il(d,v):(X._visibility|=2,ro(d,v,w,I,f)),f&&H&2048&&Bd(v.alternate,v);break;case 24:ro(d,v,w,I,f),f&&H&2048&&qd(v.alternate,v);break;default:ro(d,v,w,I,f)}r=r.sibling}}function Il(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Il(a,l),f&2048&&Bd(l.alternate,l);break;case 24:Il(a,l),f&2048&&qd(l.alternate,l);break;default:Il(a,l)}r=r.sibling}}var Dl=8192;function io(t,r,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)U0(t,r,a),t=t.sibling}function U0(t,r,a){switch(t.tag){case 26:io(t,r,a),t.flags&Dl&&t.memoizedState!==null&&Cx(a,or,t.memoizedState,t.memoizedProps);break;case 5:io(t,r,a);break;case 3:case 4:var l=or;or=$c(t.stateNode.containerInfo),io(t,r,a),or=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,io(t,r,a),Dl=l):io(t,r,a));break;default:io(t,r,a)}}function z0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ol(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,q0(l,t)}z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)B0(t),t=t.sibling}function B0(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Xi(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,jc(t)):Ol(t);break;default:Ol(t)}}function jc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,q0(l,t)}z0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Xi(8,r,r.return),jc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,jc(r));break;default:jc(r)}t=t.sibling}}function q0(t,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Xi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var f=l.sibling,d=l.return;if(O0(l),l===a){qt=null;break e}if(f!==null){f.return=d,qt=f;break e}qt=d}}}var Hw={getCacheForType:function(t){var r=Yt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Yt(Rt).controller.signal}},Fw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,nt=null,Oe=null,ke=0,Xe=0,Cn=null,Ji=!1,so=!1,Hd=!1,fi=0,mt=0,Wi=0,oa=0,Fd=0,Nn=0,ao=0,Ml=null,gn=null,Gd=!1,Pc=0,H0=0,Lc=1/0,Uc=null,Zi=null,Pt=0,es=null,oo=null,di=0,Kd=0,Qd=null,F0=null,kl=0,Yd=null;function In(){return(Ge&2)!==0&&ke!==0?ke&-ke:$.T!==null?em():zu()}function G0(){if(Nn===0)if((ke&536870912)===0||Ue){var t=ks;ks<<=1,(ks&3932160)===0&&(ks=262144),Nn=t}else Nn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Nn}function yn(t,r,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(lo(t,0),ts(t,ke,Nn,!1)),Vs(t,a),((Ge&2)===0||t!==nt)&&(t===nt&&((Ge&2)===0&&(oa|=a),mt===4&&ts(t,ke,Nn,!1)),Pr(t))}function K0(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Wn(t,r),f=l?Qw(t,r):Xd(t,r,!0),d=l;do{if(f===0){so&&!l&&ts(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Gw(a)){f=Xd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var w=t;f=Ml;var I=w.current.memoizedState.isDehydrated;if(I&&(lo(w,v).flags|=256),v=Xd(w,v,!1),v!==2){if(Hd&&!I){w.errorRecoveryDisabledLanes|=d,oa|=d,f=4;break e}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){lo(t,0),ts(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ts(l,r,Nn,!Ji);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Pc+300-on(),10<f)){if(ts(l,r,Nn,!Ji),vr(l,0,!0)!==0)break e;di=r,l.timeoutHandle=w_(Q0.bind(null,l,a,gn,Uc,Gd,r,Nn,oa,ao,Ji,d,"Throttled",-0,0),f);break e}Q0(l,a,gn,Uc,Gd,r,Nn,oa,ao,Ji,d,null,-0,0)}}break}while(!0);Pr(t)}function Q0(t,r,a,l,f,d,v,w,I,H,X,ee,F,Y){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tr},U0(r,d,ee);var ce=(d&62914560)===d?Pc-on():(d&4194048)===d?H0-on():0;if(ce=Nx(ee,ce),ce!==null){di=d,t.cancelPendingCommit=ce(t_.bind(null,t,r,d,a,l,f,v,w,I,X,ee,null,F,Y)),ts(t,d,v,!H);return}}t_(t,r,d,a,l,f,v,w,I)}function Gw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!xn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ts(t,r,a,l){r&=~Fd,r&=~oa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-yt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&js(t,a,r)}function zc(){return(Ge&6)===0?(Vl(0),!1):!0}function $d(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,ni=Ws=null,hd(t),Wa=null,yl=0,t=Oe;for(;t!==null;)x0(t.alternate,t),t=t.return;Oe=null}}function lo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),di=0,$d(),nt=t,Oe=a=ei(t.current,null),ke=r,Xe=0,Cn=null,Ji=!1,so=Wn(t,r),Hd=!1,ao=Nn=Fd=oa=Wi=mt=0,gn=Ml=null,Gd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-yt(l),d=1<<f;r|=t[f],l&=~d}return fi=r,oc(),a}function Y0(t,r){Re=null,$.H=Al,r===Ja||r===pc?(r=cy(),Xe=3):r===Zf?(r=cy(),Xe=4):Xe=r===Rd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Oe===null&&(mt=1,Nc(t,zn(r,t.current)))}function $0(){var t=Sn.current;return t===null?!0:(ke&4194048)===ke?Fn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Fn:!1}function X0(){var t=$.H;return $.H=Al,t===null?Al:t}function J0(){var t=$.A;return $.A=Hw,t}function Bc(){mt=4,Ji||(ke&4194048)!==ke&&Sn.current!==null||(so=!0),(Wi&134217727)===0&&(oa&134217727)===0||nt===null||ts(nt,ke,Nn,!1)}function Xd(t,r,a){var l=Ge;Ge|=2;var f=X0(),d=J0();(nt!==t||ke!==r)&&(Uc=null,lo(t,r)),r=!1;var v=mt;e:do try{if(Xe!==0&&Oe!==null){var w=Oe,I=Cn;switch(Xe){case 8:$d(),v=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var H=Xe;if(Xe=0,Cn=null,uo(t,w,I,H),a&&so){v=0;break e}break;default:H=Xe,Xe=0,Cn=null,uo(t,w,I,H)}}Kw(),v=mt;break}catch(X){Y0(t,X)}while(!0);return r&&t.shellSuspendCounter++,ni=Ws=null,Ge=l,$.H=f,$.A=d,Oe===null&&(nt=null,ke=0,oc()),v}function Kw(){for(;Oe!==null;)W0(Oe)}function Qw(t,r){var a=Ge;Ge|=2;var l=X0(),f=J0();nt!==t||ke!==r?(Uc=null,Lc=on()+500,lo(t,r)):so=Wn(t,r);e:do try{if(Xe!==0&&Oe!==null){r=Oe;var d=Cn;t:switch(Xe){case 1:Xe=0,Cn=null,uo(t,r,d,1);break;case 2:case 9:if(ly(d)){Xe=0,Cn=null,Z0(r);break}r=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Pr(t)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:ly(d)?(Xe=0,Cn=null,Z0(r)):(Xe=0,Cn=null,uo(t,r,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var w=Oe;if(v?L_(v):w.stateNode.complete){Xe=0,Cn=null;var I=w.sibling;if(I!==null)Oe=I;else{var H=w.return;H!==null?(Oe=H,qc(H)):Oe=null}break t}}Xe=0,Cn=null,uo(t,r,d,5);break;case 6:Xe=0,Cn=null,uo(t,r,d,6);break;case 8:$d(),mt=6;break e;default:throw Error(s(462))}}Yw();break}catch(X){Y0(t,X)}while(!0);return ni=Ws=null,$.H=l,$.A=f,Ge=a,Oe!==null?0:(nt=null,ke=0,oc(),mt)}function Yw(){for(;Oe!==null&&!Sf();)W0(Oe)}function W0(t){var r=T0(t.alternate,t,fi);t.memoizedProps=t.pendingProps,r===null?qc(t):Oe=r}function Z0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=g0(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=g0(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:hd(r);default:x0(a,r),r=Oe=Jg(r,fi),r=T0(a,r,fi)}t.memoizedProps=t.pendingProps,r===null?qc(t):Oe=r}function uo(t,r,a,l){ni=Ws=null,hd(r),Wa=null,yl=0;var f=r.return;try{if(jw(t,f,r,a,ke)){mt=1,Nc(t,zn(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;mt=1,Nc(t,zn(a,t.current)),Oe=null;return}r.flags&32768?(Ue||l===1?t=!0:so||(ke&536870912)!==0?t=!1:(Ji=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),e_(r,t)):qc(r)}function qc(t){var r=t;do{if((r.flags&32768)!==0){e_(r,Ji);return}t=r.return;var a=Uw(r.alternate,r,fi);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);mt===0&&(mt=5)}function e_(t,r){do{var a=zw(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function t_(t,r,a,l,f,d,v,w,I){t.cancelPendingCommit=null;do Hc();while(Pt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Lf,Nf(t,a,d,v,w,I),t===nt&&(Oe=nt=null,ke=0),oo=r,es=t,di=a,Kd=d,Qd=f,F0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ww(Di,function(){return a_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ie.p,ie.p=2,v=Ge,Ge|=4;try{Bw(t,r,a)}finally{Ge=v,ie.p=f,$.T=l}}Pt=1,n_(),r_(),i_()}}function n_(){if(Pt===1){Pt=0;var t=es,r=oo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ie.p;ie.p=2;var f=Ge;Ge|=4;try{j0(r,t);var d=lm,v=qg(t.containerInfo),w=d.focusedElem,I=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&Bg(w.ownerDocument.documentElement,w)){if(I!==null&&Mf(w)){var H=I.start,X=I.end;if(X===void 0&&(X=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(X,w.value.length);else{var ee=w.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ce=w.textContent.length,_e=Math.min(I.start,ce),tt=I.end===void 0?_e:Math.min(I.end,ce);!Y.extend&&_e>tt&&(v=tt,tt=_e,_e=v);var L=zg(w,_e),M=zg(w,tt);if(L&&M&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var q=ee.createRange();q.setStart(L.node,L.offset),Y.removeAllRanges(),_e>tt?(Y.addRange(q),Y.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),Y.addRange(q))}}}}for(ee=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var W=ee[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}th=!!om,lm=om=null}finally{Ge=f,ie.p=l,$.T=a}}t.current=r,Pt=2}}function r_(){if(Pt===2){Pt=0;var t=es,r=oo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ie.p;ie.p=2;var f=Ge;Ge|=4;try{D0(t,r.alternate,r)}finally{Ge=f,ie.p=l,$.T=a}}Pt=3}}function i_(){if(Pt===4||Pt===3){Pt=0,Mu();var t=es,r=oo,a=di,l=F0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,oo=es=null,s_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Zi=null),Xr(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Jn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,f=ie.p,ie.p=2,$.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{$.T=r,ie.p=f}}(di&3)!==0&&Hc(),Pr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Yd?kl++:(kl=0,Yd=t):kl=0,Vl(0)}}function s_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,pl(r)))}function Hc(){return n_(),r_(),i_(),a_()}function a_(){if(Pt!==5)return!1;var t=es,r=Kd;Kd=0;var a=Xr(di),l=$.T,f=ie.p;try{ie.p=32>a?32:a,$.T=null,a=Qd,Qd=null;var d=es,v=di;if(Pt=0,oo=es=null,di=0,(Ge&6)!==0)throw Error(s(331));var w=Ge;if(Ge|=4,B0(d.current),L0(d,d.current,v,a),Ge=w,Vl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Jn,d)}catch{}return!0}finally{ie.p=f,$.T=l,s_(t,r)}}function o_(t,r,a){r=zn(a,r),r=Sd(t.stateNode,r,2),t=Qi(t,r,2),t!==null&&(Vs(t,2),Pr(t))}function Je(t,r,a){if(t.tag===3)o_(t,t,a);else for(;r!==null;){if(r.tag===3){o_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=zn(a,t),a=l0(2),l=Qi(r,a,2),l!==null&&(u0(a,l,r,t),Vs(l,2),Pr(l));break}}r=r.return}}function Jd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Fw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Hd=!0,f.add(a),t=$w.bind(null,t,r,a),r.then(t,t))}function $w(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(ke&a)===a&&(mt===4||mt===3&&(ke&62914560)===ke&&300>on()-Pc?(Ge&2)===0&&lo(t,0):Fd|=a,ao===ke&&(ao=0)),Pr(t)}function l_(t,r){r===0&&(r=Uu()),t=$s(t,r),t!==null&&(Vs(t,r),Pr(t))}function Xw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),l_(t,a)}function Jw(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),l_(t,a)}function Ww(t,r){return jt(t,r)}var Fc=null,co=null,Wd=!1,Gc=!1,Zd=!1,ns=0;function Pr(t){t!==co&&t.next===null&&(co===null?Fc=co=t:co=co.next=t),Gc=!0,Wd||(Wd=!0,ex())}function Vl(t,r){if(!Zd&&Gc){Zd=!0;do for(var a=!1,l=Fc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=f&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,f_(l,d))}else d=ke,d=vr(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,f_(l,d));l=l.next}while(a);Zd=!1}}function Zw(){u_()}function u_(){Gc=Wd=!1;var t=0;ns!==0&&cx()&&(t=ns);for(var r=on(),a=null,l=Fc;l!==null;){var f=l.next,d=c_(l,r);d===0?(l.next=null,a===null?Fc=f:a.next=f,f===null&&(co=a)):(a=l,(t!==0||(d&3)!==0)&&(Gc=!0)),l=f}Pt!==0&&Pt!==5||Vl(t),ns!==0&&(ns=0)}function c_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-yt(d),w=1<<v,I=f[v];I===-1?((w&a)===0||(w&l)!==0)&&(f[v]=Cf(w,r)):I<=r&&(t.expiredLanes|=w),d&=~w}if(r=nt,a=ke,a=vr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ii(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ii(l),Xr(a)){case 2:case 8:a=Go;break;case 32:a=Di;break;case 268435456:a=ku;break;default:a=Di}return l=h_.bind(null,t),a=jt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ii(l),t.callbackPriority=2,t.callbackNode=null,2}function h_(t,r){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Hc()&&t.callbackNode!==a)return null;var l=ke;return l=vr(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(K0(t,l,r),c_(t,on()),t.callbackNode!=null&&t.callbackNode===a?h_.bind(null,t):null)}function f_(t,r){if(Hc())return null;K0(t,r,!0)}function ex(){fx(function(){(Ge&6)!==0?jt(Fo,Zw):u_()})}function em(){if(ns===0){var t=$a;t===0&&(t=yr,yr<<=1,(yr&261888)===0&&(yr=256)),ns=t}return ns}function d_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ka(""+t)}function m_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function tx(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=d_((f[zt]||null).action),v=l.submitter;v&&(r=(r=v[zt]||null)?d_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var w=new Ir("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ns!==0){var I=v?m_(f,v):new FormData(f);Ed(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=v?m_(f,v):new FormData(f),Ed(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var tm=0;tm<Pf.length;tm++){var nm=Pf[tm],nx=nm.toLowerCase(),rx=nm[0].toUpperCase()+nm.slice(1);ar(nx,"on"+rx)}ar(Gg,"onAnimationEnd"),ar(Kg,"onAnimationIteration"),ar(Qg,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(vw,"onTransitionRun"),ar(Ew,"onTransitionStart"),ar(bw,"onTransitionCancel"),ar(Yg,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function p_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var w=l[v],I=w.instance,H=w.currentTarget;if(w=w.listener,I!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=H;try{d(f)}catch(X){ac(X)}f.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(w=l[v],I=w.instance,H=w.currentTarget,w=w.listener,I!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=H;try{d(f)}catch(X){ac(X)}f.currentTarget=null,d=I}}}}function Me(t,r){var a=r[Na];a===void 0&&(a=r[Na]=new Set);var l=t+"__bubble";a.has(l)||(g_(r,t,2,!1),a.add(l))}function rm(t,r,a){var l=0;r&&(l|=4),g_(a,t,l,r)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function im(t){if(!t[Kc]){t[Kc]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(ix.has(a)||rm(a,!1,t),rm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Kc]||(r[Kc]=!0,rm("selectionchange",!1,r))}}function g_(t,r,a,l){switch(G_(r)){case 2:var f=Ox;break;case 8:f=Mx;break;default:f=vm}a=f.bind(null,r,a,t),f=void 0,!Bs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function sm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===f)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;w!==null;){if(v=wr(w),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}w=w.parentNode}}l=l.return}Pi(function(){var H=d,X=jn(a),ee=[];e:{var F=$g.get(t);if(F!==void 0){var Y=Ir,ce=t;switch(t){case"keypress":if(Hs(a)===0)break e;case"keydown":case"keyup":Y=rc;break;case"focusin":ce="focus",Y=Gs;break;case"focusout":ce="blur",Y=Gs;break;case"beforeblur":case"afterblur":Y=Gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Gg:case Kg:case Qg:Y=Xu;break;case Yg:Y=x;break;case"scroll":case"scrollend":Y=al;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Zr;break;case"toggle":case"beforetoggle":Y=Se}var _e=(r&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),L=_e?F!==null?F+"Capture":null:F;_e=[];for(var M=H,q;M!==null;){var W=M;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||L===null||(W=nr(M,L),W!=null&&_e.push(Pl(M,W,q))),tt)break;M=M.return}0<_e.length&&(F=new Y(F,ce,null,a,X),ee.push({event:F,listeners:_e}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==rl&&(ce=a.relatedTarget||a.fromElement)&&(wr(ce)||ce[br]))break e;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ce=a.relatedTarget||a.toElement,Y=H,ce=ce?wr(ce):null,ce!==null&&(tt=u(ce),_e=ce.tag,ce!==tt||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(Y=null,ce=H),Y!==ce)){if(_e=ol,W="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Zr,W="onPointerLeave",L="onPointerEnter",M="pointer"),tt=Y==null?F:Tn(Y),q=ce==null?F:Tn(ce),F=new _e(W,M+"leave",Y,a,X),F.target=tt,F.relatedTarget=q,W=null,wr(X)===H&&(_e=new _e(L,M+"enter",ce,a,X),_e.target=q,_e.relatedTarget=tt,W=_e),tt=W,Y&&ce)t:{for(_e=sx,L=Y,M=ce,q=0,W=L;W;W=_e(W))q++;W=0;for(var ge=M;ge;ge=_e(ge))W++;for(;0<q-W;)L=_e(L),q--;for(;0<W-q;)M=_e(M),W--;for(;q--;){if(L===M||M!==null&&L===M.alternate){_e=L;break t}L=_e(L),M=_e(M)}_e=null}else _e=null;Y!==null&&y_(ee,F,Y,_e,!1),ce!==null&&tt!==null&&y_(ee,tt,ce,_e,!0)}}e:{if(F=H?Tn(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var qe=kg;else if(Og(F))if(Vg)qe=gw;else{qe=mw;var de=dw}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ma(H.elementType)&&(qe=kg):qe=pw;if(qe&&(qe=qe(t,H))){Mg(ee,qe,a,X);break e}de&&de(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&el(F,"number",F.value)}switch(de=H?Tn(H):window,t){case"focusin":(Og(de)||de.contentEditable==="true")&&(Ba=de,kf=H,fl=null);break;case"focusout":fl=kf=Ba=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Hg(ee,a,X);break;case"selectionchange":if(_w)break;case"keydown":case"keyup":Hg(ee,a,X)}var Ne;if(Fe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else za?Ks(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(Mr&&a.locale!=="ko"&&(za||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&za&&(Ne=sl()):(Nr=X,il="value"in Nr?Nr.value:Nr.textContent,za=!0)),de=Qc(H,Ve),0<de.length&&(Ve=new Or(Ve,t,null,a,X),ee.push({event:Ve,listeners:de}),Ne?Ve.data=Ne:(Ne=Ua(a),Ne!==null&&(Ve.data=Ne)))),(Ne=Ln?uw(t,a):cw(t,a))&&(Ve=Qc(H,"onBeforeInput"),0<Ve.length&&(de=new Or("onBeforeInput","beforeinput",null,a,X),ee.push({event:de,listeners:Ve}),de.data=Ne)),tx(ee,t,H,a,X)}p_(ee,r)})}function Pl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Qc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=nr(t,a),f!=null&&l.unshift(Pl(t,f,d)),f=nr(t,r),f!=null&&l.push(Pl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function sx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y_(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var w=a,I=w.alternate,H=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||H===null||(I=H,f?(H=nr(a,d),H!=null&&v.unshift(Pl(a,H,I))):f||(H=nr(a,d),H!=null&&v.push(Pl(a,H,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var ax=/\r\n?/g,ox=/\u0000|\uFFFD/g;function __(t){return(typeof t=="string"?t:""+t).replace(ax,`
`).replace(ox,"")}function v_(t,r){return r=__(r),__(t)===r}function et(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&fn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":nl(t,l,d);break;case"data":if(r!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ka(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&et(t,r,"name",f.name,f,null),et(t,r,"formEncType",f.formEncType,f,null),et(t,r,"formMethod",f.formMethod,f,null),et(t,r,"formTarget",f.formTarget,f,null)):(et(t,r,"encType",f.encType,f,null),et(t,r,"method",f.method,f,null),et(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ka(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=tr);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Da(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qu.get(a)||a,Da(t,a,l))}}function am(t,r,a,l,f,d){switch(a){case"style":nl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Da(t,a,l)}}}function Xt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,d,v,a,null)}}f&&et(t,r,"srcSet",a.srcSet,a,null),l&&et(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var w=d=v=f=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:et(t,r,l,X,a,null)}}Fu(t,d,w,I,H,v,f,!1);return;case"select":Me("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:et(t,r,f,w,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Mi(t,!!l,r,!1):a!=null&&Mi(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:et(t,r,v,w,a,null)}ki(t,l,f,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,r,I,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)Me(jl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,H,l,a,null)}return;default:if(Ma(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&am(t,r,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&et(t,r,w,l,a,null))}function lx(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,w=null,I=null,H=null,X=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(Y)||et(t,r,Y,null,l,ee)}}for(var F in l){var Y=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(Y!=null||ee!=null))switch(F){case"type":d=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ee&&et(t,r,F,Y,l,ee)}}Oa(t,v,w,I,H,X,d,f);return;case"select":Y=v=w=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(d)||et(t,r,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==I&&et(t,r,f,d,l,I)}r=w,a=v,l=Y,F!=null?Mi(t,!!a,F,!1):!!l!=!!a&&(r!=null?Mi(t,!!a,r,!0):Mi(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(t,r,w,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(t,r,v,f,l,d)}Gu(t,F,Y);return;case"option":for(var ce in a)if(F=a[ce],a.hasOwnProperty(ce)&&F!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:et(t,r,ce,null,l,F)}for(I in l)if(F=l[I],Y=a[I],l.hasOwnProperty(I)&&F!==Y&&(F!=null||Y!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:et(t,r,I,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&et(t,r,_e,null,l,F);for(H in l)if(F=l[H],Y=a[H],l.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:et(t,r,H,F,l,Y)}return;default:if(Ma(r)){for(var tt in a)F=a[tt],a.hasOwnProperty(tt)&&F!==void 0&&!l.hasOwnProperty(tt)&&am(t,r,tt,void 0,l,F);for(X in l)F=l[X],Y=a[X],!l.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||am(t,r,X,F,l,Y);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&et(t,r,L,null,l,F);for(ee in l)F=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||F===Y||F==null&&Y==null||et(t,r,ee,F,l,Y)}function E_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ux(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,w=f.duration;if(d&&w&&E_(v)){for(v=0,w=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],H=I.startTime;if(H>w)break;var X=I.transferSize,ee=I.initiatorType;X&&E_(ee)&&(I=I.responseEnd,v+=X*(I<w?1:(w-H)/(I-H)))}if(--l,r+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var om=null,lm=null;function Yc(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function um(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cm=null;function cx(){var t=window.event;return t&&t.type==="popstate"?t===cm?!1:(cm=t,!0):(cm=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,hx=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(t){return x_.resolve(null).then(t).catch(dx)}:w_;function dx(t){setTimeout(function(){throw t})}function rs(t){return t==="head"}function A_(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),po(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var v=d.nextSibling,w=d.nodeName;d[Tr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ll(t.ownerDocument.body);a=f}while(a);po(r)}function S_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function hm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),Ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mx(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Tr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function px(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function R_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Gn(t.nextSibling),t===null))return null;return t}function fm(t){return t.data==="$?"||t.data==="$~"}function dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gx(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var mm=null;function C_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Gn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function N_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function I_(t,r,a){switch(r=Yc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ia(t)}var Kn=new Map,D_=new Set;function $c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mi=ie.d;ie.d={f:yx,r:_x,D:vx,C:Ex,L:bx,m:Tx,X:xx,S:wx,M:Ax};function yx(){var t=mi.f(),r=zc();return t||r}function _x(t){var r=Vn(t);r!==null&&r.tag===5&&r.type==="form"?Yy(r):mi.r(t)}var ho=typeof document>"u"?null:document;function O_(t,r,a){var l=ho;if(l&&typeof r=="string"&&r){var f=hn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),D_.has(f)||(D_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Xt(r,"link",t),At(r),l.head.appendChild(r)))}}function vx(t){mi.D(t),O_("dns-prefetch",t,null)}function Ex(t,r){mi.C(t,r),O_("preconnect",t,r)}function bx(t,r,a){mi.L(t,r,a);var l=ho;if(l&&t&&r){var f='link[rel="preload"][as="'+hn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var d=f;switch(r){case"style":d=fo(t);break;case"script":d=mo(t)}Kn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Kn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ul(d))||r==="script"&&l.querySelector(zl(d))||(r=l.createElement("link"),Xt(r,"link",t),At(r),l.head.appendChild(r)))}}function Tx(t,r){mi.m(t,r);var a=ho;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(t)}if(!Kn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Kn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(d)))return}l=a.createElement("link"),Xt(l,"link",t),At(l),a.head.appendChild(l)}}}function wx(t,r,a){mi.S(t,r,a);var l=ho;if(l&&t){var f=xr(l).hoistableStyles,d=fo(t);r=r||"default";var v=f.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(Ul(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Kn.get(d))&&pm(t,a);var I=v=l.createElement("link");At(I),Xt(I,"link",t),I._p=new Promise(function(H,X){I.onload=H,I.onerror=X}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Xc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:w},f.set(d,v)}}}function xx(t,r){mi.X(t,r);var a=ho;if(a&&t){var l=xr(a).hoistableScripts,f=mo(t),d=l.get(f);d||(d=a.querySelector(zl(f)),d||(t=T({src:t,async:!0},r),(r=Kn.get(f))&&gm(t,r),d=a.createElement("script"),At(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ax(t,r){mi.M(t,r);var a=ho;if(a&&t){var l=xr(a).hoistableScripts,f=mo(t),d=l.get(f);d||(d=a.querySelector(zl(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Kn.get(f))&&gm(t,r),d=a.createElement("script"),At(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function M_(t,r,a,l){var f=(f=Ce.current)?$c(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=fo(a.href),a=xr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fo(a.href);var d=xr(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Ul(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),d||Sx(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(a),a=xr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fo(t){return'href="'+hn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Sx(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xt(r,"link",a),At(r),t.head.appendChild(r))}function mo(t){return'[src="'+hn(t)+'"]'}function zl(t){return"script[async]"+t}function V_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return r.instance=l,At(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Xt(l,"style",f),Xc(l,a.precedence,t),r.instance=l;case"stylesheet":f=fo(a.href);var d=t.querySelector(Ul(f));if(d)return r.state.loading|=4,r.instance=d,At(d),d;l=k_(a),(f=Kn.get(f))&&pm(l,f),d=(t.ownerDocument||t).createElement("link"),At(d);var v=d;return v._p=new Promise(function(w,I){v.onload=w,v.onerror=I}),Xt(d,"link",l),r.state.loading|=4,Xc(d,a.precedence,t),r.instance=d;case"script":return d=mo(a.src),(f=t.querySelector(zl(d)))?(r.instance=f,At(f),f):(l=a,(f=Kn.get(d))&&(l=T({},a),gm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),Xt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Xc(l,a.precedence,t));return r.instance}function Xc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function pm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function gm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Jc=null;function j_(t,r,a){if(Jc===null){var l=new Map,f=Jc=new Map;f.set(a,l)}else f=Jc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Tr]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function P_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Rx(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function L_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Cx(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=fo(l.href),d=r.querySelector(Ul(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Wc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=r.ownerDocument||r,l=k_(l),(f=Kn.get(f))&&pm(l,f),d=d.createElement("link"),At(d);var v=d;v._p=new Promise(function(w,I){v.onload=w,v.onerror=I}),Xt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var ym=0;function Nx(t,r){return t.stylesheets&&t.count===0&&eh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&eh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&ym===0&&(ym=62500*ux());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&eh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>ym?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zc=null;function eh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zc=new Map,r.forEach(Ix,t),Zc=null,Wc.call(t))}function Ix(t,r){if(!(r.state.loading&4)){var a=Zc.get(t);if(a)var l=a.get(null);else{a=new Map,Zc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Wc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Bl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Dx(t,r,a,l,f,d,v,w,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.hiddenUpdates=Er(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function U_(t,r,a,l,f,d,v,w,I,H,X,ee){return t=new Dx(t,r,a,v,I,H,X,ee,w),r=1,d===!0&&(r|=24),d=An(3,null,null,r),t.current=d,d.stateNode=t,r=Xf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},ed(d),t}function z_(t){return t?(t=Fa,t):Fa}function B_(t,r,a,l,f,d){f=z_(f),l.context===null?l.context=f:l.pendingContext=f,l=Ki(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Qi(t,l,r),a!==null&&(yn(a,t,r),vl(a,t,r))}function q_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function _m(t,r){q_(t,r),(t=t.alternate)&&q_(t,r)}function H_(t){if(t.tag===13||t.tag===31){var r=$s(t,67108864);r!==null&&yn(r,t,67108864),_m(t,67108864)}}function F_(t){if(t.tag===13||t.tag===31){var r=In();r=Ps(r);var a=$s(t,r);a!==null&&yn(a,t,r),_m(t,r)}}var th=!0;function Ox(t,r,a,l){var f=$.T;$.T=null;var d=ie.p;try{ie.p=2,vm(t,r,a,l)}finally{ie.p=d,$.T=f}}function Mx(t,r,a,l){var f=$.T;$.T=null;var d=ie.p;try{ie.p=8,vm(t,r,a,l)}finally{ie.p=d,$.T=f}}function vm(t,r,a,l){if(th){var f=Em(l);if(f===null)sm(t,r,l,nh,a),K_(t,l);else if(Vx(f,t,r,a,l))l.stopPropagation();else if(K_(t,l),r&4&&-1<kx.indexOf(t)){for(;f!==null;){var d=Vn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=_r(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var I=1<<31-yt(v);w.entanglements[1]|=I,v&=~I}Pr(d),(Ge&6)===0&&(Lc=on()+500,Vl(0))}}break;case 31:case 13:w=$s(d,2),w!==null&&yn(w,d,2),zc(),_m(d,2)}if(d=Em(l),d===null&&sm(t,r,l,nh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else sm(t,r,l,null,a)}}function Em(t){return t=jn(t),bm(t)}var nh=null;function bm(t){if(nh=null,t=wr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return nh=t,null}function G_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ms()){case Fo:return 2;case Go:return 8;case Di:case Rf:return 32;case ku:return 268435456;default:return 32}default:return 32}}var Tm=!1,is=null,ss=null,as=null,ql=new Map,Hl=new Map,os=[],kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(t,r){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ql.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(r.pointerId)}}function Fl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Vn(r),r!==null&&H_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Vx(t,r,a,l,f){switch(r){case"focusin":return is=Fl(is,t,r,a,l,f),!0;case"dragenter":return ss=Fl(ss,t,r,a,l,f),!0;case"mouseover":return as=Fl(as,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return ql.set(d,Fl(ql.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Hl.set(d,Fl(Hl.get(d)||null,t,r,a,l,f)),!0}return!1}function Q_(t){var r=wr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Zn(t.priority,function(){F_(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Zn(t.priority,function(){F_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return r=Vn(a),r!==null&&H_(r),t.blockedOn=a,!1;r.shift()}return!0}function Y_(t,r,a){rh(t)&&a.delete(r)}function jx(){Tm=!1,is!==null&&rh(is)&&(is=null),ss!==null&&rh(ss)&&(ss=null),as!==null&&rh(as)&&(as=null),ql.forEach(Y_),Hl.forEach(Y_)}function ih(t,r){t.blockedOn===r&&(t.blockedOn=null,Tm||(Tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jx)))}var sh=null;function $_(t){sh!==t&&(sh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){sh===t&&(sh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(bm(l||a)===null)continue;break}var d=Vn(a);d!==null&&(t.splice(r,3),r-=3,Ed(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function po(t){function r(I){return ih(I,t)}is!==null&&ih(is,t),ss!==null&&ih(ss,t),as!==null&&ih(as,t),ql.forEach(r),Hl.forEach(r);for(var a=0;a<os.length;a++){var l=os[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&os.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[zt]||null;if(typeof d=="function")v||$_(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[zt]||null)w=v.formAction;else if(bm(f)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),$_(a)}}}function X_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function wm(t){this._internalRoot=t}ah.prototype.render=wm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=In();B_(a,l,t,r,null,null)},ah.prototype.unmount=wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;B_(t.current,2,null,t,null,null),zc(),r[br]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var r=zu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<os.length&&r!==0&&r<os[a].priority;a++);os.splice(a,0,t),a===0&&Q_(t)}};var J_=e.version;if(J_!=="19.2.0")throw Error(s(527,J_,"19.2.0"));ie.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Px={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Jn=oh.inject(Px),Gt=oh}catch{}}return Kl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=i0,d=s0,v=a0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=U_(t,1,!1,null,null,a,l,null,f,d,v,X_),t[br]=r.current,im(t),new wm(r)},Kl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=i0,v=s0,w=a0,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=U_(t,1,!0,r,a??null,l,f,I,d,v,w,X_),r.context=z_(null),a=r.current,l=In(),l=Ps(l),f=Ki(l),f.callback=null,Qi(a,f,l),a=l,r.current.lanes=a,Vs(r,a),Pr(r),t[br]=r.current,im(t),new ah(r)},Kl.version="19.2.0",Kl}var ov;function Yx(){if(ov)return Sm.exports;ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sm.exports=Qx(),Sm.exports}var $x=Yx();const Xx=$E($x);var lv="popstate";function Jx(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Km("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:uu(o)}return Zx(e,n,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $n(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wx(){return Math.random().toString(36).substring(2,10)}function uv(i,e){return{usr:i.state,key:i.key,idx:e}}function Km(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:n,key:e&&e.key||s||Wx()}}function uu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Oo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Zx(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function T(){m="POP";let j=b(),G=j==null?null:j-g;g=j,p&&p({action:m,location:Q.location,delta:G})}function A(j,G){m="PUSH";let J=Km(Q.location,j,G);g=b()+1;let Z=uv(J,g),he=Q.createHref(J);try{h.pushState(Z,"",he)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(he)}u&&p&&p({action:m,location:Q.location,delta:1})}function V(j,G){m="REPLACE";let J=Km(Q.location,j,G);g=b();let Z=uv(J,g),he=Q.createHref(J);h.replaceState(Z,"",he),u&&p&&p({action:m,location:Q.location,delta:0})}function U(j){return eA(j)}let Q={get action(){return m},get location(){return i(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(lv,T),p=j,()=>{o.removeEventListener(lv,T),p=null}},createHref(j){return e(o,j)},createURL:U,encodeLocation(j){let G=U(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:V,go(j){return h.go(j)}};return Q}function eA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:uu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function XE(i,e,n="/"){return tA(i,e,n,!1)}function tA(i,e,n,s){let o=typeof e=="string"?Oo(e):e,u=bi(o.pathname||"/",n);if(u==null)return null;let h=JE(i);nA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=dA(u);m=hA(h[p],g,s)}return m}function JE(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;ht(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=_i([s,b.relativePath]),A=n.concat(b);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),JE(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:uA(T,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of WE(h.path))u(h,m,!0,p)}),e}function WE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=WE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function nA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:cA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var rA=/^:[\w-]+$/,iA=3,sA=2,aA=1,oA=10,lA=-2,cv=i=>i==="*";function uA(i,e){let n=i.split("/"),s=n.length;return n.some(cv)&&(s+=lA),e&&(s+=sA),n.filter(o=>!cv(o)).reduce((o,u)=>o+(rA.test(u)?iA:u===""?aA:oA),s)}function cA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function hA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:_i([u,T.pathname]),pathnameBase:_A(_i([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=_i([u,T.pathnameBase]))}return h}function Ih(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=fA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:T},A)=>{if(b==="*"){let U=m[A]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const V=m[A];return T&&!V?g[b]=void 0:g[b]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function fA(i,e=!1,n=!0){$n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function bi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var mA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pA=i=>mA.test(i);function gA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Oo(i):i,u;if(n)if(pA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=hv(n.substring(1),"/"):u=hv(n,e)}else u=e;return{pathname:u,search:vA(s),hash:EA(o)}}function hv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ap(i){let e=yA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Sp(i,e,n,s=!1){let o;typeof i=="string"?o=Oo(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=gA(o,m),g=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var _i=i=>i.join("/").replace(/\/\/+/g,"/"),_A=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),vA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,EA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function bA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var TA=["GET",...ZE];new Set(TA);var Mo=z.createContext(null);Mo.displayName="DataRouter";var Zh=z.createContext(null);Zh.displayName="DataRouterState";z.createContext(!1);var eb=z.createContext({isTransitioning:!1});eb.displayName="ViewTransition";var wA=z.createContext(new Map);wA.displayName="Fetchers";var xA=z.createContext(null);xA.displayName="Await";var fr=z.createContext(null);fr.displayName="Navigation";var bu=z.createContext(null);bu.displayName="Location";var Yr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Yr.displayName="Route";var Rp=z.createContext(null);Rp.displayName="RouteError";function AA(i,{relative:e}={}){ht(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(fr),{hash:o,pathname:u,search:h}=Tu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:_i([n,u])),s.createHref({pathname:m,search:h,hash:o})}function ko(){return z.useContext(bu)!=null}function dr(){return ht(ko(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(bu).location}var tb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nb(i){z.useContext(fr).static||z.useLayoutEffect(i)}function mr(){let{isDataRoute:i}=z.useContext(Yr);return i?LA():SA()}function SA(){ht(ko(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(Mo),{basename:e,navigator:n}=z.useContext(fr),{matches:s}=z.useContext(Yr),{pathname:o}=dr(),u=JSON.stringify(Ap(s)),h=z.useRef(!1);return nb(()=>{h.current=!0}),z.useCallback((p,g={})=>{if($n(h.current,tb),!h.current)return;if(typeof p=="number"){n.go(p);return}let b=Sp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:_i([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,i])}z.createContext(null);function Tu(i,{relative:e}={}){let{matches:n}=z.useContext(Yr),{pathname:s}=dr(),o=JSON.stringify(Ap(n));return z.useMemo(()=>Sp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function RA(i,e){return rb(i,e)}function rb(i,e,n,s,o){ht(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(fr),{matches:h}=z.useContext(Yr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";ib(g,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let A=dr(),V;if(e){let J=typeof e=="string"?Oo(e):e;ht(b==="/"||J.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${J.pathname}" was given in the \`location\` prop.`),V=J}else V=A;let U=V.pathname||"/",Q=U;if(b!=="/"){let J=b.replace(/^\//,"").split("/");Q="/"+U.replace(/^\//,"").split("/").slice(J.length).join("/")}let j=XE(i,{pathname:Q});$n(T||j!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),$n(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=OA(j&&j.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:_i([b,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?b:_i([b,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),h,n,s,o);return e&&G?z.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},G):G}function CA(){let i=PA(),e=bA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var NA=z.createElement(CA,null),IA=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?z.createElement(Yr.Provider,{value:this.props.routeContext},z.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DA({routeContext:i,match:e,children:n}){let s=z.useContext(Mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Yr.Provider,{value:i},n)}function OA(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let b=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ht(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=b),T.route.id){let{loaderData:A,errors:V}=n,U=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(b,T)=>{s(b,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:T})}:void 0;return u.reduceRight((b,T,A)=>{let V,U=!1,Q=null,j=null;n&&(V=h&&T.route.id?h[T.route.id]:void 0,Q=T.route.errorElement||NA,m&&(p<0&&A===0?(ib("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,j=null):p===A&&(U=!0,j=T.route.hydrateFallbackElement||null)));let G=e.concat(u.slice(0,A+1)),J=()=>{let Z;return V?Z=Q:U?Z=j:T.route.Component?Z=z.createElement(T.route.Component,null):T.route.element?Z=T.route.element:Z=b,z.createElement(DA,{match:T,routeContext:{outlet:b,matches:G,isDataRoute:n!=null},children:Z})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?z.createElement(IA,{location:n.location,revalidation:n.revalidation,component:Q,error:V,children:J(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:g}):J()},null)}function Cp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MA(i){let e=z.useContext(Mo);return ht(e,Cp(i)),e}function kA(i){let e=z.useContext(Zh);return ht(e,Cp(i)),e}function VA(i){let e=z.useContext(Yr);return ht(e,Cp(i)),e}function Np(i){let e=VA(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function jA(){return Np("useRouteId")}function PA(){let i=z.useContext(Rp),e=kA("useRouteError"),n=Np("useRouteError");return i!==void 0?i:e.errors?.[n]}function LA(){let{router:i}=MA("useNavigate"),e=Np("useNavigate"),n=z.useRef(!1);return nb(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{$n(n.current,tb),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var fv={};function ib(i,e,n){!e&&!fv[i]&&(fv[i]=!0,$n(!1,n))}z.memo(UA);function UA({routes:i,future:e,state:n,unstable_onError:s}){return rb(i,void 0,n,s,e)}function lh({to:i,replace:e,state:n,relative:s}){ht(ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(fr);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(Yr),{pathname:h}=dr(),m=mr(),p=Sp(i,Ap(u),h,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Dn(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Oo(n));let{pathname:p="/",search:g="",hash:b="",state:T=null,key:A="default"}=n,V=z.useMemo(()=>{let U=bi(p,h);return U==null?null:{location:{pathname:U,search:g,hash:b,state:T,key:A},navigationType:s}},[h,p,g,b,T,A,s]);return $n(V!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:z.createElement(fr.Provider,{value:m},z.createElement(bu.Provider,{children:e,value:V}))}function BA({children:i,location:e}){return RA(Qm(i),e)}function Qm(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Qm(s.props.children,u));return}ht(s.type===Dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Qm(s.props.children,u)),n.push(h)}),n}var _h="get",vh="application/x-www-form-urlencoded";function ef(i){return i!=null&&typeof i.tagName=="string"}function qA(i){return ef(i)&&i.tagName.toLowerCase()==="button"}function HA(i){return ef(i)&&i.tagName.toLowerCase()==="form"}function FA(i){return ef(i)&&i.tagName.toLowerCase()==="input"}function GA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function KA(i,e){return i.button===0&&(!e||e==="_self")&&!GA(i)}var uh=null;function QA(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var YA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(i){return i!=null&&!YA.has(i)?($n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):i}function $A(i,e){let n,s,o,u,h;if(HA(i)){let m=i.getAttribute("action");s=m?bi(m,e):null,n=i.getAttribute("method")||_h,o=Dm(i.getAttribute("enctype"))||vh,u=new FormData(i)}else if(qA(i)||FA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?bi(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||_h,o=Dm(i.getAttribute("formenctype"))||Dm(m.getAttribute("enctype"))||vh,u=new FormData(m,i),!QA()){let{name:g,type:b,value:T}=i;if(b==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(ef(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,s=null,o=vh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function XA(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&bi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function JA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ZA(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await JA(u,n);return h.links?h.links():[]}return[]}));return rS(s.flat(1).filter(WA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dv(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function eS(i,e,{includeHydrateFallback:n}={}){return tS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function tS(i){return[...new Set(i)]}function nS(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function rS(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(nS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function sb(){let i=z.useContext(Mo);return Ip(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function iS(){let i=z.useContext(Zh);return Ip(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dp=z.createContext(void 0);Dp.displayName="FrameworkContext";function ab(){let i=z.useContext(Dp);return Ip(i,"You must render this element inside a <HydratedRouter> element"),i}function sS(i,e){let n=z.useContext(Dp),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,A=z.useRef(null);z.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Q=G=>{G.forEach(J=>{h(J.isIntersecting)})},j=new IntersectionObserver(Q,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[i]),z.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let V=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Ql(m,V),onBlur:Ql(p,U),onMouseEnter:Ql(g,V),onMouseLeave:Ql(b,U),onTouchStart:Ql(T,V)}]:[!1,A,{}]}function Ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function aS({page:i,...e}){let{router:n}=sb(),s=z.useMemo(()=>XE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(lS,{page:i,matches:s,...e}):null}function oS(i){let{manifest:e,routeModules:n}=ab(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return ZA(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function lS({page:i,matches:e,...n}){let s=dr(),{manifest:o,routeModules:u}=ab(),{basename:h}=sb(),{loaderData:m,matches:p}=iS(),g=z.useMemo(()=>dv(i,e,p,o,s,"data"),[i,e,p,o,s]),b=z.useMemo(()=>dv(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,Q=!1;if(e.forEach(G=>{let J=o.routes[G.route.id];!J||!J.hasLoader||(!g.some(Z=>Z.route.id===G.route.id)&&G.route.id in m&&u[G.route.id]?.shouldRevalidate||J.hasClientLoader?Q=!0:U.add(G.route.id))}),U.size===0)return[];let j=XA(i,h,"data");return Q&&U.size>0&&j.searchParams.set("_routes",e.filter(G=>U.has(G.route.id)).map(G=>G.route.id).join(",")),[j.pathname+j.search]},[h,m,s,o,g,e,i,u]),A=z.useMemo(()=>eS(b,o),[b,o]),V=oS(b);return z.createElement(z.Fragment,null,T.map(U=>z.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),A.map(U=>z.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),V.map(({key:U,link:Q})=>z.createElement("link",{key:U,nonce:n.nonce,...Q})))}function uS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ob&&(window.__reactRouterVersion="7.9.6")}catch{}function cS({basename:i,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=Jx({window:n,v5Compat:!0}));let o=s.current,[u,h]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(zA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:b,viewTransition:T,...A},V){let{basename:U}=z.useContext(fr),Q=typeof g=="string"&&lb.test(g),j,G=!1;if(typeof g=="string"&&Q&&(j=g,ob))try{let R=new URL(window.location.href),D=g.startsWith("//")?new URL(R.protocol+g):new URL(g),O=bi(D.pathname,U);D.origin===R.origin&&O!=null?g=O+D.search+D.hash:G=!0}catch{$n(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=AA(g,{relative:o}),[Z,he,ve]=sS(s,A),ae=mS(g,{replace:h,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:T});function C(R){e&&e(R),R.defaultPrevented||ae(R)}let S=z.createElement("a",{...A,...ve,href:j||J,onClick:G||u?e:C,ref:uS(V,he),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return Z&&!Q?z.createElement(z.Fragment,null,S,z.createElement(aS,{page:J})):S});Ot.displayName="Link";var hS=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},b){let T=Tu(h,{relative:g.relative}),A=dr(),V=z.useContext(Zh),{navigator:U,basename:Q}=z.useContext(fr),j=V!=null&&vS(T)&&m===!0,G=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,J=A.pathname,Z=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(J=J.toLowerCase(),Z=Z?Z.toLowerCase():null,G=G.toLowerCase()),Z&&Q&&(Z=bi(Z,Q)||Z);const he=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ve=J===G||!o&&J.startsWith(G)&&J.charAt(he)==="/",ae=Z!=null&&(Z===G||!o&&Z.startsWith(G)&&Z.charAt(G.length)==="/"),C={isActive:ve,isPending:ae,isTransitioning:j},S=ve?e:void 0,R;typeof s=="function"?R=s(C):R=[s,ve?"active":null,ae?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(C):u;return z.createElement(Ot,{...g,"aria-current":S,className:R,ref:b,style:D,to:h,viewTransition:m},typeof p=="function"?p(C):p)});hS.displayName="NavLink";var fS=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=_h,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:T,...A},V)=>{let U=yS(),Q=_S(m,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&lb.test(m),J=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let he=Z.nativeEvent.submitter,ve=he?.getAttribute("formmethod")||h;U(he||Z.currentTarget,{fetcherKey:e,method:ve,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:T})};return z.createElement("form",{ref:V,method:j,action:Q,onSubmit:s?p:J,...A,"data-discover":!G&&i==="render"?"true":void 0})});fS.displayName="Form";function dS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ub(i){let e=z.useContext(Mo);return ht(e,dS(i)),e}function mS(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=mr(),p=dr(),g=Tu(i,{relative:u});return z.useCallback(b=>{if(KA(b,e)){b.preventDefault();let T=n!==void 0?n:uu(p)===uu(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var pS=0,gS=()=>`__${String(++pS)}__`;function yS(){let{router:i}=ub("useSubmit"),{basename:e}=z.useContext(fr),n=jA();return z.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=$A(s,e);if(o.navigate===!1){let b=o.fetcherKey||gS();await i.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function _S(i,{relative:e}={}){let{basename:n}=z.useContext(fr),s=z.useContext(Yr);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Tu(i||".",{relative:e})},h=dr();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:_i([n,u.pathname])),uu(u)}function vS(i,{relative:e}={}){let n=z.useContext(eb);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ub("useViewTransitionState"),o=Tu(i,{relative:e});if(!n.isTransitioning)return!1;let u=bi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=bi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ih(o.pathname,h)!=null||Ih(o.pathname,u)!=null}const ES=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),mv=i=>{const e=bS(i);return e.charAt(0).toUpperCase()+e.slice(1)},cb=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),TS=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var wS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xS=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>z.createElement("svg",{ref:p,...wS,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:cb("lucide",o),...!u&&!TS(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,b])=>z.createElement(g,b)),...Array.isArray(u)?u:[u]]));const Ke=(i,e)=>{const n=z.forwardRef(({className:s,...o},u)=>z.createElement(xS,{ref:u,iconNode:e,className:cb(`lucide-${ES(mv(i))}`,`lucide-${i}`,s),...o}));return n.displayName=mv(i),n};const AS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rs=Ke("arrow-left",AS);const SS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],RS=Ke("briefcase",SS);const CS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],NS=Ke("building-2",CS);const IS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],DS=Ke("camera",IS);const OS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pv=Ke("chevron-right",OS);const MS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kS=Ke("circle-alert",MS);const VS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cu=Ke("circle-check-big",VS);const jS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],PS=Ke("circle-x",jS);const LS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],US=Ke("download",LS);const zS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ym=Ke("external-link",zS);const BS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hb=Ke("file-text",BS);const qS=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],HS=Ke("hard-hat",qS);const FS=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],GS=Ke("key-round",FS);const KS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],QS=Ke("log-in",KS);const YS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$S=Ke("lock",YS);const XS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],JS=Ke("mail",XS);const WS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ZS=Ke("moon",WS);const e2=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],t2=Ke("palette",e2);const n2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],r2=Ke("plus",n2);const i2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],s2=Ke("save",i2);const a2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$m=Ke("search",a2);const o2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],l2=Ke("send",o2);const u2=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],c2=Ke("share",u2);const h2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],f2=Ke("shield",h2);const d2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],m2=Ke("shopping-cart",d2);const p2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],g2=Ke("sun",p2);const y2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_2=Ke("trash-2",y2);const v2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fb=Ke("triangle-alert",v2);const E2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hu=Ke("user",E2);const b2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],db=Ke("users",b2);const T2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mb=Ke("x",T2),w2=()=>{};var gv={};const pb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},x2=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,V=g&63;p||(V=64,h||(A=64)),s.push(n[b],n[T],n[A],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(pb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):x2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new A2;const A=u<<2|m>>4;if(s.push(A),g!==64){const V=m<<4&240|g>>2;if(s.push(V),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class A2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S2=function(i){const e=pb(i);return gb.encodeByteArray(e,!0)},Dh=function(i){return S2(i).replace(/\./g,"")},yb=function(i){try{return gb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function R2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const C2=()=>R2().__FIREBASE_DEFAULTS__,N2=()=>{if(typeof process>"u"||typeof gv>"u")return;const i=gv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},I2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&yb(i[1]);return e&&JSON.parse(e)},tf=()=>{try{return w2()||C2()||N2()||I2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_b=i=>tf()?.emulatorHosts?.[i],vb=i=>{const e=_b(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Eb=()=>tf()?.config,bb=i=>tf()?.[`_${i}`];class D2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Cs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Op(i){return(await fetch(i,{credentials:"include"})).ok}function Tb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Dh(JSON.stringify(n)),Dh(JSON.stringify(h)),""].join(".")}const nu={};function O2(){const i={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?i.emulator.push(e):i.prod.push(e);return i}function M2(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let yv=!1;function Mp(i,e){if(typeof window>"u"||typeof document>"u"||!Cs(window.location.host)||nu[i]===e||nu[i]||yv)return;nu[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=O2().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{yv=!0,h()},A}function b(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=M2(s),V=n("text"),U=document.getElementById(V)||document.createElement("span"),Q=n("learnmore"),j=document.getElementById(Q)||document.createElement("a"),G=n("preprendIcon"),J=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Z=A.element;m(Z),b(j,Q);const he=g();p(J,G),Z.append(J,U,j,he),document.body.appendChild(Z)}u?(U.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function V2(){const i=tf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function L2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U2(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function z2(){return!V2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B2(){try{return typeof indexedDB=="object"}catch{return!1}}function q2(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const H2="FirebaseError";class $r extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=H2,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?F2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new $r(o,m,s)}}function F2(i,e){return i.replace(G2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const G2=/\{\$([^}]+)}/g;function K2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function da(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(_v(u)&&_v(h)){if(!da(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function _v(i){return i!==null&&typeof i=="object"}function xu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Jl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function Q2(i,e){const n=new Y2(i,e);return n.subscribe.bind(n)}class Y2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Om),o.error===void 0&&(o.error=Om),o.complete===void 0&&(o.complete=Om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Om(){}function ot(i){return i&&i._delegate?i._delegate:i}class Es{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class X2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new D2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W2(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:J2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J2(i){return i===la?void 0:i}function W2(i){return i.instantiationMode==="EAGER"}class Z2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(je||(je={}));const eR={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},tR=je.INFO,nR={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},rR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=nR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=tR,this._logHandler=rR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const iR=(i,e)=>e.some(n=>i instanceof n);let vv,Ev;function sR(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aR(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wb=new WeakMap,Xm=new WeakMap,xb=new WeakMap,Mm=new WeakMap,Vp=new WeakMap;function oR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(gs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&wb.set(n,i)}).catch(()=>{}),Vp.set(e,i),e}function lR(i){if(Xm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Xm.set(i,e)}let Jm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Xm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||xb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function uR(i){Jm=i(Jm)}function cR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(km(this),e,...n);return xb.set(s,e.sort?e.sort():[e]),gs(s)}:aR().includes(i)?function(...e){return i.apply(km(this),e),gs(wb.get(this))}:function(...e){return gs(i.apply(km(this),e))}}function hR(i){return typeof i=="function"?cR(i):(i instanceof IDBTransaction&&lR(i),iR(i,sR())?new Proxy(i,Jm):i)}function gs(i){if(i instanceof IDBRequest)return oR(i);if(Mm.has(i))return Mm.get(i);const e=hR(i);return e!==i&&(Mm.set(i,e),Vp.set(e,i)),e}const km=i=>Vp.get(i);function fR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=gs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(gs(h.result),p.oldVersion,p.newVersion,gs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const dR=["get","getKey","getAll","getAllKeys","count"],mR=["put","add","delete","clear"],Vm=new Map;function bv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=mR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||dR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Vm.set(e,u),u}uR(i=>({...i,get:(e,n,s)=>bv(e,n)||i.get(e,n,s),has:(e,n)=>!!bv(e,n)||i.has(e,n)}));class pR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function gR(i){return i.getComponent()?.type==="VERSION"}const Wm="@firebase/app",Tv="0.14.6";const Ti=new kp("@firebase/app"),yR="@firebase/app-compat",_R="@firebase/analytics-compat",vR="@firebase/analytics",ER="@firebase/app-check-compat",bR="@firebase/app-check",TR="@firebase/auth",wR="@firebase/auth-compat",xR="@firebase/database",AR="@firebase/data-connect",SR="@firebase/database-compat",RR="@firebase/functions",CR="@firebase/functions-compat",NR="@firebase/installations",IR="@firebase/installations-compat",DR="@firebase/messaging",OR="@firebase/messaging-compat",MR="@firebase/performance",kR="@firebase/performance-compat",VR="@firebase/remote-config",jR="@firebase/remote-config-compat",PR="@firebase/storage",LR="@firebase/storage-compat",UR="@firebase/firestore",zR="@firebase/ai",BR="@firebase/firestore-compat",qR="firebase",HR="12.6.0";const Zm="[DEFAULT]",FR={[Wm]:"fire-core",[yR]:"fire-core-compat",[vR]:"fire-analytics",[_R]:"fire-analytics-compat",[bR]:"fire-app-check",[ER]:"fire-app-check-compat",[TR]:"fire-auth",[wR]:"fire-auth-compat",[xR]:"fire-rtdb",[AR]:"fire-data-connect",[SR]:"fire-rtdb-compat",[RR]:"fire-fn",[CR]:"fire-fn-compat",[NR]:"fire-iid",[IR]:"fire-iid-compat",[DR]:"fire-fcm",[OR]:"fire-fcm-compat",[MR]:"fire-perf",[kR]:"fire-perf-compat",[VR]:"fire-rc",[jR]:"fire-rc-compat",[PR]:"fire-gcs",[LR]:"fire-gcs-compat",[UR]:"fire-fst",[BR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};const Oh=new Map,GR=new Map,ep=new Map;function wv(i,e){try{i.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ma(i){const e=i.name;if(ep.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,i);for(const n of Oh.values())wv(n,i);for(const n of GR.values())wv(n,i);return!0}function nf(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function vn(i){return i==null?!1:i.settings!==void 0}const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new wu("app","Firebase",KR);class QR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}const Ea=HR;function Ab(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Zm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ys.create("bad-app-name",{appName:String(o)});if(n||(n=Eb()),!n)throw ys.create("no-options");const u=Oh.get(o);if(u){if(da(n,u.options)&&da(s,u.config))return u;throw ys.create("duplicate-app",{appName:o})}const h=new Z2(o);for(const p of ep.values())h.addComponent(p);const m=new QR(n,s,h);return Oh.set(o,m),m}function jp(i=Zm){const e=Oh.get(i);if(!e&&i===Zm&&Eb())return Ab();if(!e)throw ys.create("no-app",{appName:i});return e}function zr(i,e,n){let s=FR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(h.join(" "));return}ma(new Es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const YR="firebase-heartbeat-database",$R=1,fu="firebase-heartbeat-store";let jm=null;function Sb(){return jm||(jm=fR(YR,$R,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ys.create("idb-open",{originalErrorMessage:i.message})})),jm}async function XR(i){try{const n=(await Sb()).transaction(fu),s=await n.objectStore(fu).get(Rb(i));return await n.done,s}catch(e){if(e instanceof $r)Ti.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(n.message)}}}async function xv(i,e){try{const s=(await Sb()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,Rb(i)),await s.done}catch(n){if(n instanceof $r)Ti.warn(n.message);else{const s=ys.create("idb-set",{originalErrorMessage:n?.message});Ti.warn(s.message)}}}function Rb(i){return`${i.name}!${i.options.appId}`}const JR=1024,WR=30;class ZR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>WR){const o=nC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Av(),{heartbeatsToSend:n,unsentEntries:s}=eC(this._heartbeatsCache.heartbeats),o=Dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ti.warn(e),""}}}function Av(){return new Date().toISOString().substring(0,10)}function eC(i,e=JR){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Sv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Sv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B2()?q2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Sv(i){return Dh(JSON.stringify({version:2,heartbeats:i})).length}function nC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function rC(i){ma(new Es("platform-logger",e=>new pR(e),"PRIVATE")),ma(new Es("heartbeat",e=>new ZR(e),"PRIVATE")),zr(Wm,Tv,i),zr(Wm,Tv,"esm2020"),zr("fire-js","")}rC("");var iC="firebase",sC="12.6.0";zr(iC,sC,"app");function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=Cb,Nb=new wu("auth","Firebase",Cb());const Mh=new kp("@firebase/auth");function oC(i,...e){Mh.logLevel<=je.WARN&&Mh.warn(`Auth (${Ea}): ${i}`,...e)}function Eh(i,...e){Mh.logLevel<=je.ERROR&&Mh.error(`Auth (${Ea}): ${i}`,...e)}function Xn(i,...e){throw Lp(i,...e)}function cr(i,...e){return Lp(i,...e)}function Pp(i,e,n){const s={...aC(),[e]:n};return new wu("auth","Firebase",s).create(e,{appName:i.name})}function vi(i){return Pp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lC(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Xn(i,"argument-error"),Pp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Nb.create(i,...e)}function pe(i,e,...n){if(!i)throw Lp(e,...n)}function gi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Eh(e),new Error(e)}function wi(i,e){i||gi(e)}function tp(){return typeof self<"u"&&self.location?.href||""}function uC(){return Rv()==="http:"||Rv()==="https:"}function Rv(){return typeof self<"u"&&self.location?.protocol||null}function cC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uC()||P2()||"connection"in navigator)?navigator.onLine:!0}function hC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=k2()||L2()}get(){return cC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Up(i,e){wi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Ib{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const dC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mC=new Au(3e4,6e4);function Ri(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function pr(i,e,n,s,o={}){return Db(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=xu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return j2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Cs(i.emulatorConfig.host)&&(g.credentials="include"),Ib.fetch()(await Ob(i,i.config.apiHost,n,m),g)})}async function Db(i,e,n){i._canInitEmulator=!1;const s={...fC,...e};try{const o=new gC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ch(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ch(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ch(i,"user-disabled",h);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Pp(i,b,g);Xn(i,b)}}catch(o){if(o instanceof $r)throw o;Xn(i,"network-request-failed",{message:String(o)})}}async function Su(i,e,n,s,o={}){const u=await pr(i,e,n,s,o);return"mfaPendingCredential"in u&&Xn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ob(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Up(i.config,o):`${i.config.apiScheme}://${o}`;return dC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function pC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(cr(this.auth,"network-request-failed")),mC.get())})}}function ch(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=cr(i,e,s);return o.customData._tokenResponse=n,o}function Cv(i){return i!==void 0&&i.enterprise!==void 0}class yC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _C(i,e){return pr(i,"GET","/v2/recaptchaConfig",Ri(i,e))}async function vC(i,e){return pr(i,"POST","/v1/accounts:delete",e)}async function kh(i,e){return pr(i,"POST","/v1/accounts:lookup",e)}function ru(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EC(i,e=!1){const n=ot(i),s=await n.getIdToken(e),o=zp(s);pe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:ru(Pm(o.auth_time)),issuedAtTime:ru(Pm(o.iat)),expirationTime:ru(Pm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Pm(i){return Number(i)*1e3}function zp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=yb(n);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Nv(i){const e=zp(i);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pa(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof $r&&bC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function bC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class TC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Vh(i){const e=i.auth,n=await i.getIdToken(),s=await pa(i,kh(e,{idToken:n}));pe(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Mb(o.providerUserInfo):[],h=xC(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,b)}async function wC(i){const e=ot(i);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Mb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function AC(i,e){const n=await Db(i,{},async()=>{const s=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await Ob(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Cs(i.emulatorConfig.host)&&(p.credentials="include"),Ib.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SC(i,e){return pr(i,"POST","/v2/accounts:revokeToken",Ri(i,e))}class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=Nv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await AC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Eo;return s&&(pe(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(pe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(pe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return gi("not implemented")}}function us(i,e){pe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new TC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await pa(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EC(this,e)}reload(){return wC(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await pa(this,vC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:V,providerData:U,stsTokenManager:Q}=n;pe(T&&Q,e,"internal-error");const j=Eo.fromJSON(this.name,Q);pe(typeof T=="string",e,"internal-error"),us(s,e.name),us(o,e.name),pe(typeof A=="boolean",e,"internal-error"),pe(typeof V=="boolean",e,"internal-error"),us(u,e.name),us(h,e.name),us(m,e.name),us(p,e.name),us(g,e.name),us(b,e.name);const G=new ur({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:V,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:b});return U&&Array.isArray(U)&&(G.providerData=U.map(J=>({...J}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(e,n,s=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new ur({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];pe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Mb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Eo;m.updateFromIdToken(s);const p=new ur({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const Iv=new Map;function yi(i){wi(i instanceof Function,"Expected a class definition");let e=Iv.get(i);return e?(wi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Iv.set(i,e),e)}class kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kb.type="NONE";const Dv=kb;function bh(i,e,n){return`firebase:${i}:${e}:${n}`}class bo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,u),this.fullPersistenceKey=bh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?ur._fromGetAccountInfoResponse(this.auth,n,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new bo(yi(Dv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||yi(Dv);const h=bh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(h);if(b){let T;if(typeof b=="string"){const A=await kh(e,{idToken:b}).catch(()=>{});if(!A)break;T=await ur._fromGetAccountInfoResponse(e,A,b)}else T=ur._fromJSON(e,b);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new bo(u,e,s))}}function Ov(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zb(e))return"Blackberry";if(Bb(e))return"Webos";if(jb(e))return"Safari";if((e.includes("chrome/")||Pb(e))&&!e.includes("edge/"))return"Chrome";if(Ub(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Vb(i=an()){return/firefox\//i.test(i)}function jb(i=an()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pb(i=an()){return/crios\//i.test(i)}function Lb(i=an()){return/iemobile/i.test(i)}function Ub(i=an()){return/android/i.test(i)}function zb(i=an()){return/blackberry/i.test(i)}function Bb(i=an()){return/webos/i.test(i)}function Bp(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function RC(i=an()){return Bp(i)&&!!window.navigator?.standalone}function CC(){return U2()&&document.documentMode===10}function qb(i=an()){return Bp(i)||Ub(i)||Bb(i)||zb(i)||/windows phone/i.test(i)||Lb(i)}function Hb(i,e=[]){let n;switch(i){case"Browser":n=Ov(an());break;case"Worker":n=`${Ov(an())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ea}/${s}`}class NC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function IC(i,e={}){return pr(i,"GET","/v2/passwordPolicy",Ri(i,e))}const DC=6;class OC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class MC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new NC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),s=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(vi(this));const n=e?ot(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IC(this),n=new OC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ci(i){return ot(i)}class Mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q2(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kC(i){rf=i}function Fb(i){return rf.loadJS(i)}function VC(){return rf.recaptchaEnterpriseScript}function jC(){return rf.gapiScript}function PC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class LC{constructor(){this.enterprise=new UC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zC="recaptcha-enterprise",Gb="NO_RECAPTCHA";class BC{constructor(e){this.type=zC,this.auth=Ci(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{_C(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new yC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;Cv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Gb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&Cv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VC();p.length!==0&&(p+=m),Fb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function kv(i,e,n,s=!1,o=!1){const u=new BC(i);let h;if(o)h=Gb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function jh(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await kv(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await kv(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function qC(i,e){const n=nf(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(da(u,e??{}))return o;Xn(o,"already-initialized")}return n.initialize({options:e})}function HC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(yi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function FC(i,e,n){const s=Ci(i);pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Kb(e),{host:h,port:m}=GC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pe(da(g,s.config.emulator)&&da(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Cs(h)?(Op(`${u}//${h}${p}`),Mp("Auth",!0)):KC()}function Kb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function GC(i){const e=Kb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Vv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Vv(h)}}}function Vv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function KC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function QC(i,e){return pr(i,"POST","/v1/accounts:update",e)}async function YC(i,e){return pr(i,"POST","/v1/accounts:signUp",e)}async function $C(i,e){return Su(i,"POST","/v1/accounts:signInWithPassword",Ri(i,e))}async function XC(i,e){return pr(i,"POST","/v1/accounts:sendOobCode",Ri(i,e))}async function JC(i,e){return XC(i,e)}async function WC(i,e){return Su(i,"POST","/v1/accounts:signInWithEmailLink",Ri(i,e))}async function ZC(i,e){return Su(i,"POST","/v1/accounts:signInWithEmailLink",Ri(i,e))}class du extends qp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new du(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new du(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jh(e,n,"signInWithPassword",$C);case"emailLink":return WC(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jh(e,s,"signUpPassword",YC);case"emailLink":return ZC(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function To(i,e){return Su(i,"POST","/v1/accounts:signInWithIdp",Ri(i,e))}const eN="http://localhost";class xi extends qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new xi(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,To(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:eN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}function tN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nN(i){const e=Xl(Jl(i)).link,n=e?Xl(Jl(e)).deep_link_id:null,s=Xl(Jl(i)).deep_link_id;return(s?Xl(Jl(s)).link:null)||s||n||e||i}class Hp{constructor(e){const n=Xl(Jl(e)),s=n.apiKey??null,o=n.oobCode??null,u=tN(n.mode??null);pe(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=nN(e);try{return new Hp(n)}catch{return null}}}class ba{constructor(){this.providerId=ba.PROVIDER_ID}static credential(e,n){return du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Hp.parseLink(n);return pe(s,"argument-error"),du._fromEmailAndCode(e,s.code,s.tenantId)}}ba.PROVIDER_ID="password";ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vo extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wo extends Vo{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return pe("providerId"in n&&"signInMethod"in n,"argument-error"),xi._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return pe(e.idToken||e.accessToken,"argument-error"),xi._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return wo.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return wo.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:u,nonce:h,providerId:m}=e;if(!s&&!o&&!n&&!u||!m)return null;try{return new wo(m)._credential({idToken:n,accessToken:s,nonce:h,pendingToken:u})}catch{return null}}}class cs extends Vo{constructor(){super("facebook.com")}static credential(e){return xi._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";class hs extends Vo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xi._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hs.credential(n,s)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";class fs extends Vo{constructor(){super("github.com")}static credential(e){return xi._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";class ds extends Vo{constructor(){super("twitter.com")}static credential(e,n){return xi._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";async function rN(i,e){return Su(i,"POST","/v1/accounts:signUp",Ri(i,e))}class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ur._fromIdTokenResponse(e,s,o),h=jv(s);return new ga({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=jv(s);return new ga({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function jv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Ph extends $r{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function Qb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(i,u,e,s):u})}async function iN(i,e,n=!1){const s=await pa(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ga._forOperation(i,"link",s)}async function Yb(i,e,n=!1){const{auth:s}=i;if(vn(s.app))return Promise.reject(vi(s));const o="reauthenticate";try{const u=await pa(i,Qb(s,o,e,i),n);pe(u.idToken,s,"internal-error");const h=zp(u.idToken);pe(h,s,"internal-error");const{sub:m}=h;return pe(i.uid===m,s,"user-mismatch"),ga._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Xn(s,"user-mismatch"),u}}async function $b(i,e,n=!1){if(vn(i.app))return Promise.reject(vi(i));const s="signIn",o=await Qb(i,s,e),u=await ga._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function sN(i,e){return $b(Ci(i),e)}async function aN(i,e){return Yb(ot(i),e)}function oN(i,e,n){pe(n.url?.length>0,i,"invalid-continue-uri"),pe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),pe(typeof n.linkDomain>"u"||n.linkDomain.length>0,i,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pe(n.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(pe(n.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function Xb(i){const e=Ci(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lN(i,e,n){const s=Ci(i),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&oN(s,o,n),await jh(s,o,"getOobCode",JC)}async function uN(i,e,n){if(vn(i.app))return Promise.reject(vi(i));const s=Ci(i),h=await jh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Xb(i),p}),m=await ga._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function cN(i,e,n){return vn(i.app)?Promise.reject(vi(i)):sN(ot(i),ba.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Xb(i),s})}async function hN(i,e){return pr(i,"POST","/v1/accounts:update",e)}async function fN(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ot(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await pa(s,hN(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function dN(i,e){return mN(ot(i),null,e)}async function mN(i,e,n){const{auth:s}=i,u={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const h=await pa(i,QC(s,u));await i._updateTokensIfNecessary(h,!0)}function pN(i,e){return ot(i).setPersistence(e)}function gN(i,e,n,s){return ot(i).onIdTokenChanged(e,n,s)}function yN(i,e,n){return ot(i).beforeAuthStateChanged(e,n)}function _N(i,e,n,s){return ot(i).onAuthStateChanged(e,n,s)}function pi(i){return ot(i).signOut()}const Lh="__sak";class Jb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vN=1e3,EN=10;class Wb extends Jb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);CC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,EN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wb.type="LOCAL";const Zb=Wb;class eT extends Jb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eT.type="SESSION";const tT=eT;function bN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await bN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];function Gp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class TN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Gp("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Br(){return window}function wN(i){Br().location.href=i}function nT(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function xN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AN(){return navigator?.serviceWorker?.controller||null}function SN(){return nT()?self:null}const rT="firebaseLocalStorageDb",RN=1,Uh="firebaseLocalStorage",iT="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function af(i,e){return i.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function CN(){const i=indexedDB.deleteDatabase(rT);return new Ru(i).toPromise()}function rp(){const i=indexedDB.open(rT,RN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Uh,{keyPath:iT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Uh)?e(s):(s.close(),await CN(),e(await rp()))})})}async function Pv(i,e,n){const s=af(i,!0).put({[iT]:e,value:n});return new Ru(s).toPromise()}async function NN(i,e){const n=af(i,!1).get(e),s=await new Ru(n).toPromise();return s===void 0?null:s.value}function Lv(i,e){const n=af(i,!0).delete(e);return new Ru(n).toPromise()}const IN=800,DN=3;class sT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>DN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(SN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xN(),!this.activeServiceWorker)return;this.sender=new TN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await Pv(e,Lh,"1"),await Lv(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Pv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>NN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=af(o,!1).getAll();return new Ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sT.type="LOCAL";const ON=sT;new Au(3e4,6e4);function aT(i,e){return e?yi(e):(pe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Kp extends qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MN(i){return $b(i.auth,new Kp(i),i.bypassAuthState)}function kN(i){const{auth:e,user:n}=i;return pe(n,e,"internal-error"),Yb(n,new Kp(i),i.bypassAuthState)}async function VN(i){const{auth:e,user:n}=i;return pe(n,e,"internal-error"),iN(n,new Kp(i),i.bypassAuthState)}class oT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MN;case"linkViaPopup":case"linkViaRedirect":return VN;case"reauthViaPopup":case"reauthViaRedirect":return kN;default:Xn(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jN=new Au(2e3,1e4);async function lT(i,e,n){if(vn(i.app))return Promise.reject(cr(i,"operation-not-supported-in-this-environment"));const s=Ci(i);lC(i,e,Fp);const o=aT(s,n);return new ua(s,"signInViaPopup",e,o).executeNotNull()}class ua extends oT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jN.get())};e()}}ua.currentPopupAction=null;const PN="pendingRedirect",Th=new Map;class LN extends oT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const s=await UN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UN(i,e){const n=qN(e),s=BN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function zN(i,e){Th.set(i._key(),e)}function BN(i){return yi(i._redirectPersistence)}function qN(i){return bh(PN,i.config.apiKey,i.name)}async function HN(i,e,n=!1){if(vn(i.app))return Promise.reject(vi(i));const s=Ci(i),o=aT(s,e),h=await new LN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const FN=600*1e3;class GN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!uT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(cr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(e))}saveEventToCache(e){this.cachedEventUids.add(Uv(e)),this.lastProcessedEventTime=Date.now()}}function Uv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function uT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function KN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(i);default:return!1}}async function QN(i,e={}){return pr(i,"GET","/v1/projects",e)}const YN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$N=/^https?/;async function XN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await QN(i);for(const n of e)try{if(JN(n))return}catch{}Xn(i,"unauthorized-domain")}function JN(i){const e=tp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!$N.test(n))return!1;if(YN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const WN=new Au(3e4,6e4);function zv(){const i=Br().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function ZN(i){return new Promise((e,n)=>{function s(){zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zv(),n(cr(i,"network-request-failed"))},timeout:WN.get()})}if(Br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Br().gapi?.load)s();else{const o=PC("iframefcb");return Br()[o]=()=>{gapi.load?s():n(cr(i,"network-request-failed"))},Fb(`${jC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw wh=null,e})}let wh=null;function eI(i){return wh=wh||ZN(i),wh}const tI=new Au(5e3,15e3),nI="__/auth/iframe",rI="emulator/auth/iframe",iI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aI(i){const e=i.config;pe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Up(e,rI):`https://${i.config.authDomain}/${nI}`,s={apiKey:e.apiKey,appName:i.name,v:Ea},o=sI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${xu(s).slice(1)}`}async function oI(i){const e=await eI(i),n=Br().gapi;return pe(n,i,"internal-error"),e.open({where:document.body,url:aI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=cr(i,"network-request-failed"),m=Br().setTimeout(()=>{u(h)},tI.get());function p(){Br().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,cI=600,hI="_blank",fI="http://localhost";class Bv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dI(i,e,n,s=uI,o=cI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...lI,width:s.toString(),height:o.toString(),top:u,left:h},g=an().toLowerCase();n&&(m=Pb(g)?hI:n),Vb(g)&&(e=e||fI,p.scrollbars="yes");const b=Object.entries(p).reduce((A,[V,U])=>`${A}${V}=${U},`,"");if(RC(g)&&m!=="_self")return mI(e||"",m),new Bv(null);const T=window.open(e||"",m,b);pe(T,i,"popup-blocked");try{T.focus()}catch{}return new Bv(T)}function mI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const pI="__/auth/handler",gI="emulator/auth/handler",yI=encodeURIComponent("fac");async function qv(i,e,n,s,o,u){pe(i.config.authDomain,i,"auth-domain-config-required"),pe(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ea,eventId:o};if(e instanceof Fp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",K2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))h[b]=T}if(e instanceof Vo){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(h.scopes=b.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await i._getAppCheckToken(),g=p?`#${yI}=${encodeURIComponent(p)}`:"";return`${_I(i)}?${xu(m).slice(1)}${g}`}function _I({config:i}){return i.emulator?Up(i,gI):`https://${i.authDomain}/${pI}`}const Lm="webStorageSupport";class vI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tT,this._completeRedirectFn=HN,this._overrideRedirectResult=zN}async _openPopup(e,n,s,o){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await qv(e,n,s,tp(),o);return dI(e,u,Gp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await qv(e,n,s,tp(),o);return wN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oI(e),s=new GN(e);return n.register("authEvent",o=>(pe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lm,{type:Lm},o=>{const u=o?.[0]?.[Lm];u!==void 0&&n(!!u),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qb()||jb()||Bp()}}const EI=vI;var Hv="@firebase/auth",Fv="1.11.1";class bI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wI(i){ma(new Es("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;pe(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(i)},g=new MC(s,o,u,p);return HC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ma(new Es("auth-internal",e=>{const n=Ci(e.getProvider("auth").getImmediate());return(s=>new bI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(Hv,Fv,TI(i)),zr(Hv,Fv,"esm2020")}const xI=300,AI=bb("authIdTokenMaxAge")||xI;let Gv=null;const SI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>AI)return;const o=n?.token;Gv!==o&&(Gv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RI(i=jp()){const e=nf(i,"auth");if(e.isInitialized())return e.getImmediate();const n=qC(i,{popupRedirectResolver:EI,persistence:[ON,Zb,tT]}),s=bb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=SI(u.toString());yN(n,h,()=>h(n.currentUser)),gN(n,m=>h(m))}}const o=_b("auth");return o&&FC(n,`http://${o}`),n}function CI(){return document.getElementsByTagName("head")?.[0]??document}kC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=cr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",CI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wI("Browser");var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _s,cT;(function(){var i;function e(C,S){function R(){}R.prototype=S.prototype,C.F=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(D,O,P){for(var N=Array(arguments.length-2),De=2;De<arguments.length;De++)N[De-2]=arguments[De];return S.prototype[O].apply(D,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,R){R||(R=0);const D=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)D[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;O<16;++O)D[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],O=C.g[2];let P=C.g[3],N;N=S+(P^R&(O^P))+D[0]+3614090360&4294967295,S=R+(N<<7&4294967295|N>>>25),N=P+(O^S&(R^O))+D[1]+3905402710&4294967295,P=S+(N<<12&4294967295|N>>>20),N=O+(R^P&(S^R))+D[2]+606105819&4294967295,O=P+(N<<17&4294967295|N>>>15),N=R+(S^O&(P^S))+D[3]+3250441966&4294967295,R=O+(N<<22&4294967295|N>>>10),N=S+(P^R&(O^P))+D[4]+4118548399&4294967295,S=R+(N<<7&4294967295|N>>>25),N=P+(O^S&(R^O))+D[5]+1200080426&4294967295,P=S+(N<<12&4294967295|N>>>20),N=O+(R^P&(S^R))+D[6]+2821735955&4294967295,O=P+(N<<17&4294967295|N>>>15),N=R+(S^O&(P^S))+D[7]+4249261313&4294967295,R=O+(N<<22&4294967295|N>>>10),N=S+(P^R&(O^P))+D[8]+1770035416&4294967295,S=R+(N<<7&4294967295|N>>>25),N=P+(O^S&(R^O))+D[9]+2336552879&4294967295,P=S+(N<<12&4294967295|N>>>20),N=O+(R^P&(S^R))+D[10]+4294925233&4294967295,O=P+(N<<17&4294967295|N>>>15),N=R+(S^O&(P^S))+D[11]+2304563134&4294967295,R=O+(N<<22&4294967295|N>>>10),N=S+(P^R&(O^P))+D[12]+1804603682&4294967295,S=R+(N<<7&4294967295|N>>>25),N=P+(O^S&(R^O))+D[13]+4254626195&4294967295,P=S+(N<<12&4294967295|N>>>20),N=O+(R^P&(S^R))+D[14]+2792965006&4294967295,O=P+(N<<17&4294967295|N>>>15),N=R+(S^O&(P^S))+D[15]+1236535329&4294967295,R=O+(N<<22&4294967295|N>>>10),N=S+(O^P&(R^O))+D[1]+4129170786&4294967295,S=R+(N<<5&4294967295|N>>>27),N=P+(R^O&(S^R))+D[6]+3225465664&4294967295,P=S+(N<<9&4294967295|N>>>23),N=O+(S^R&(P^S))+D[11]+643717713&4294967295,O=P+(N<<14&4294967295|N>>>18),N=R+(P^S&(O^P))+D[0]+3921069994&4294967295,R=O+(N<<20&4294967295|N>>>12),N=S+(O^P&(R^O))+D[5]+3593408605&4294967295,S=R+(N<<5&4294967295|N>>>27),N=P+(R^O&(S^R))+D[10]+38016083&4294967295,P=S+(N<<9&4294967295|N>>>23),N=O+(S^R&(P^S))+D[15]+3634488961&4294967295,O=P+(N<<14&4294967295|N>>>18),N=R+(P^S&(O^P))+D[4]+3889429448&4294967295,R=O+(N<<20&4294967295|N>>>12),N=S+(O^P&(R^O))+D[9]+568446438&4294967295,S=R+(N<<5&4294967295|N>>>27),N=P+(R^O&(S^R))+D[14]+3275163606&4294967295,P=S+(N<<9&4294967295|N>>>23),N=O+(S^R&(P^S))+D[3]+4107603335&4294967295,O=P+(N<<14&4294967295|N>>>18),N=R+(P^S&(O^P))+D[8]+1163531501&4294967295,R=O+(N<<20&4294967295|N>>>12),N=S+(O^P&(R^O))+D[13]+2850285829&4294967295,S=R+(N<<5&4294967295|N>>>27),N=P+(R^O&(S^R))+D[2]+4243563512&4294967295,P=S+(N<<9&4294967295|N>>>23),N=O+(S^R&(P^S))+D[7]+1735328473&4294967295,O=P+(N<<14&4294967295|N>>>18),N=R+(P^S&(O^P))+D[12]+2368359562&4294967295,R=O+(N<<20&4294967295|N>>>12),N=S+(R^O^P)+D[5]+4294588738&4294967295,S=R+(N<<4&4294967295|N>>>28),N=P+(S^R^O)+D[8]+2272392833&4294967295,P=S+(N<<11&4294967295|N>>>21),N=O+(P^S^R)+D[11]+1839030562&4294967295,O=P+(N<<16&4294967295|N>>>16),N=R+(O^P^S)+D[14]+4259657740&4294967295,R=O+(N<<23&4294967295|N>>>9),N=S+(R^O^P)+D[1]+2763975236&4294967295,S=R+(N<<4&4294967295|N>>>28),N=P+(S^R^O)+D[4]+1272893353&4294967295,P=S+(N<<11&4294967295|N>>>21),N=O+(P^S^R)+D[7]+4139469664&4294967295,O=P+(N<<16&4294967295|N>>>16),N=R+(O^P^S)+D[10]+3200236656&4294967295,R=O+(N<<23&4294967295|N>>>9),N=S+(R^O^P)+D[13]+681279174&4294967295,S=R+(N<<4&4294967295|N>>>28),N=P+(S^R^O)+D[0]+3936430074&4294967295,P=S+(N<<11&4294967295|N>>>21),N=O+(P^S^R)+D[3]+3572445317&4294967295,O=P+(N<<16&4294967295|N>>>16),N=R+(O^P^S)+D[6]+76029189&4294967295,R=O+(N<<23&4294967295|N>>>9),N=S+(R^O^P)+D[9]+3654602809&4294967295,S=R+(N<<4&4294967295|N>>>28),N=P+(S^R^O)+D[12]+3873151461&4294967295,P=S+(N<<11&4294967295|N>>>21),N=O+(P^S^R)+D[15]+530742520&4294967295,O=P+(N<<16&4294967295|N>>>16),N=R+(O^P^S)+D[2]+3299628645&4294967295,R=O+(N<<23&4294967295|N>>>9),N=S+(O^(R|~P))+D[0]+4096336452&4294967295,S=R+(N<<6&4294967295|N>>>26),N=P+(R^(S|~O))+D[7]+1126891415&4294967295,P=S+(N<<10&4294967295|N>>>22),N=O+(S^(P|~R))+D[14]+2878612391&4294967295,O=P+(N<<15&4294967295|N>>>17),N=R+(P^(O|~S))+D[5]+4237533241&4294967295,R=O+(N<<21&4294967295|N>>>11),N=S+(O^(R|~P))+D[12]+1700485571&4294967295,S=R+(N<<6&4294967295|N>>>26),N=P+(R^(S|~O))+D[3]+2399980690&4294967295,P=S+(N<<10&4294967295|N>>>22),N=O+(S^(P|~R))+D[10]+4293915773&4294967295,O=P+(N<<15&4294967295|N>>>17),N=R+(P^(O|~S))+D[1]+2240044497&4294967295,R=O+(N<<21&4294967295|N>>>11),N=S+(O^(R|~P))+D[8]+1873313359&4294967295,S=R+(N<<6&4294967295|N>>>26),N=P+(R^(S|~O))+D[15]+4264355552&4294967295,P=S+(N<<10&4294967295|N>>>22),N=O+(S^(P|~R))+D[6]+2734768916&4294967295,O=P+(N<<15&4294967295|N>>>17),N=R+(P^(O|~S))+D[13]+1309151649&4294967295,R=O+(N<<21&4294967295|N>>>11),N=S+(O^(R|~P))+D[4]+4149444226&4294967295,S=R+(N<<6&4294967295|N>>>26),N=P+(R^(S|~O))+D[11]+3174756917&4294967295,P=S+(N<<10&4294967295|N>>>22),N=O+(S^(P|~R))+D[2]+718787259&4294967295,O=P+(N<<15&4294967295|N>>>17),N=R+(P^(O|~S))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+P&4294967295}s.prototype.v=function(C,S){S===void 0&&(S=C.length);const R=S-this.blockSize,D=this.C;let O=this.h,P=0;for(;P<S;){if(O==0)for(;P<=R;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<S;)if(D[O++]=C.charCodeAt(P++),O==this.blockSize){o(this,D),O=0;break}}else for(;P<S;)if(D[O++]=C[P++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=S},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)C[S++]=this.g[R]>>>D&255;return C};function u(C,S){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function h(C,S){this.h=S;const R=[];let D=!0;for(let O=C.length-1;O>=0;O--){const P=C[O]|0;D&&P==S||(R[O]=P,D=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(S){return new h([S|0],S<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return j(g(-C));const S=[];let R=1;for(let D=0;C>=R;D++)S[D]=C/R|0,R*=4294967296;return new h(S,0)}function b(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return j(b(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(S,8));let D=T;for(let P=0;P<C.length;P+=8){var O=Math.min(8,C.length-P);const N=parseInt(C.substring(P,P+O),S);O<8?(O=g(Math.pow(S,O)),D=D.j(O).add(g(N))):(D=D.j(R),D=D.add(g(N)))}return D}var T=p(0),A=p(1),V=p(16777216);i=h.prototype,i.m=function(){if(Q(this))return-j(this).m();let C=0,S=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);C+=(D>=0?D:4294967296+D)*S,S*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(U(this))return"0";if(Q(this))return"-"+j(this).toString(C);const S=g(Math.pow(C,6));var R=this;let D="";for(;;){const O=he(R,S).g;R=G(R,O.j(S));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=O,U(R))return P+D;for(;P.length<6;)P="0"+P;D=P+D}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function U(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function Q(C){return C.h==-1}i.l=function(C){return C=G(this,C),Q(C)?-1:U(C)?0:1};function j(C){const S=C.g.length,R=[];for(let D=0;D<S;D++)R[D]=~C.g[D];return new h(R,~C.h).add(A)}i.abs=function(){return Q(this)?j(this):this},i.add=function(C){const S=Math.max(this.g.length,C.g.length),R=[];let D=0;for(let O=0;O<=S;O++){let P=D+(this.i(O)&65535)+(C.i(O)&65535),N=(P>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);D=N>>>16,P&=65535,N&=65535,R[O]=N<<16|P}return new h(R,R[R.length-1]&-2147483648?-1:0)};function G(C,S){return C.add(j(S))}i.j=function(C){if(U(this)||U(C))return T;if(Q(this))return Q(C)?j(this).j(j(C)):j(j(this).j(C));if(Q(C))return j(this.j(j(C)));if(this.l(V)<0&&C.l(V)<0)return g(this.m()*C.m());const S=this.g.length+C.g.length,R=[];for(var D=0;D<2*S;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let O=0;O<C.g.length;O++){const P=this.i(D)>>>16,N=this.i(D)&65535,De=C.i(O)>>>16,Te=C.i(O)&65535;R[2*D+2*O]+=N*Te,J(R,2*D+2*O),R[2*D+2*O+1]+=P*Te,J(R,2*D+2*O+1),R[2*D+2*O+1]+=N*De,J(R,2*D+2*O+1),R[2*D+2*O+2]+=P*De,J(R,2*D+2*O+2)}for(C=0;C<S;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=S;C<2*S;C++)R[C]=0;return new h(R,0)};function J(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function Z(C,S){this.g=C,this.h=S}function he(C,S){if(U(S))throw Error("division by zero");if(U(C))return new Z(T,T);if(Q(C))return S=he(j(C),S),new Z(j(S.g),j(S.h));if(Q(S))return S=he(C,j(S)),new Z(j(S.g),S.h);if(C.g.length>30){if(Q(C)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,D=S;D.l(C)<=0;)R=ve(R),D=ve(D);var O=ae(R,1),P=ae(D,1);for(D=ae(D,2),R=ae(R,2);!U(D);){var N=P.add(D);N.l(C)<=0&&(O=O.add(R),P=N),D=ae(D,1),R=ae(R,1)}return S=G(C,O.j(S)),new Z(O,S)}for(O=T;C.l(S)>=0;){for(R=Math.max(1,Math.floor(C.m()/S.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),P=g(R),N=P.j(S);Q(N)||N.l(C)>0;)R-=D,P=g(R),N=P.j(S);U(P)&&(P=A),O=O.add(P),C=G(C,N)}return new Z(O,C)}i.B=function(C){return he(this,C).h},i.and=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)&C.i(D);return new h(R,this.h&C.h)},i.or=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)|C.i(D);return new h(R,this.h|C.h)},i.xor=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)^C.i(D);return new h(R,this.h^C.h)};function ve(C){const S=C.g.length+1,R=[];for(let D=0;D<S;D++)R[D]=C.i(D)<<1|C.i(D-1)>>>31;return new h(R,C.h)}function ae(C,S){const R=S>>5;S%=32;const D=C.g.length-R,O=[];for(let P=0;P<D;P++)O[P]=S>0?C.i(P+R)>>>S|C.i(P+R+1)<<32-S:C.i(P+R);return new h(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=b,_s=h}).apply(typeof Kv<"u"?Kv:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hT,Wl,fT,xh,ip,dT,mT,pT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var x=0;x<c.length-1;x++){var B=c[x];if(!(B in E))break e;E=E[B]}c=c[c.length-1],x=E[c],y=y(x),y!=x&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],x;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&E.push([x,y[x]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function b(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(x,B,K){for(var se=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return y.prototype[B].apply(x,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const y=c.length;if(y>0){const E=Array(y);for(let x=0;x<y;x++)E[x]=c[x];return E}return[]}function U(c,y){for(let x=1;x<arguments.length;x++){const B=arguments[x];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=c.length||0;const K=B.length||0;c.length=E+K;for(let se=0;se<K;se++)c[E+se]=B[se]}else c.push(B)}}class Q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(c){h.setTimeout(()=>{throw c},0)}function G(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,E){const x=Z.get();x.set(y,E),this.h?this.h.next=x:this.g=x,this.h=x}}var Z=new Q(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ae=!1,C=new J,S=()=>{const c=Promise.resolve(void 0);ve=()=>{c.then(R)}};function R(){for(var c;c=G();){try{c.h.call(c.g)}catch(E){j(E)}var y=Z;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ae=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function De(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(De,O),De.prototype.init=function(c,y){const E=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),$=0;function ie(c,y,E,x,B){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!x,this.ha=B,this.key=++$,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,y,E){for(const x in c)y.call(E,c[x],x,c)}function Ye(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function k(c){const y={};for(const E in c)y[E]=c[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let E,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(E in x)c[E]=x[E];for(let K=0;K<te.length;K++)E=te[K],Object.prototype.hasOwnProperty.call(x,E)&&(c[E]=x[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,E,x,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Ce(c,y,x,B);return se>-1?(y=c[se],E||(y.fa=!1)):(y=new ie(y,this.src,K,!!x,B),y.fa=E,c.push(y)),y};function be(c,y){const E=y.type;if(E in c.g){var x=c.g[E],B=Array.prototype.indexOf.call(x,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(x,B,1),K&&(me(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,y,E,x){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==x)return B}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Vt={};function lt(c,y,E,x,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)lt(c,y[K],E,x,B);return null}return E=Ho(E),c&&c[Te]?c.J(y,E,m(x)?!!x.capture:!1,B):Ds(c,y,E,!1,x,B)}function Ds(c,y,E,x,B,K){if(!y)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let Se=Os(c);if(Se||(c[ze]=Se=new ue(c)),E=Se.add(y,E,x,se,K),E.proxy)return E;if(x=Aa(),E.proxy=x,x.src=c,x.listener=E,c.addEventListener)P||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),x,B);else if(c.attachEvent)c.attachEvent(gr(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Aa(){function c(E){return y.call(c.src,c.listener,E)}const y=Bo;return c}function Sa(c,y,E,x,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)Sa(c,y[K],E,x,B);else x=m(x)?!!x.capture:!!x,E=Ho(E),c&&c[Te]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Ce(y,E,x,B),E>-1&&(me(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Os(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,E,x,B)),(E=c>-1?y[c]:null)&&Ra(E))}function Ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Te])be(y.i,c);else{var E=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(E,x,c.capture):y.detachEvent?y.detachEvent(gr(E),x):y.addListener&&y.removeListener&&y.removeListener(x),(E=Os(y))?(be(E,c),E.h==0&&(E.src=null,y[ze]=null)):me(c)}}}function gr(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function Bo(c,y){if(c.da)c=!0;else{y=new De(y,this);const E=c.listener,x=c.ha||c.src;c.fa&&Ra(c),c=E.call(x,y)}return c}function Os(c){return c=c[ze],c instanceof ue?c:null}var qo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ho(c){return typeof c=="function"?c:(c[qo]||(c[qo]=function(y){return c.handleEvent(y)}),c[qo])}function Tt(){D.call(this),this.i=new ue(this),this.M=this,this.G=null}T(Tt,D),Tt.prototype[Te]=!0,Tt.prototype.removeEventListener=function(c,y,E,x){Sa(this,c,y,E,x)};function jt(c,y){var E,x=c.G;if(x)for(E=[];x;x=x.G)E.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var B=y;y=new O(x,c),oe(y,B)}B=!0;let K,se;if(E)for(se=E.length-1;se>=0;se--)K=y.g=E[se],B=Ii(K,x,!0,y)&&B;if(K=y.g=c,B=Ii(K,x,!0,y)&&B,B=Ii(K,x,!1,y)&&B,E)for(se=0;se<E.length;se++)K=y.g=E[se],B=Ii(K,x,!1,y)&&B}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let x=0;x<E.length;x++)me(E[x]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,E,x){return this.i.add(String(c),y,!1,E,x)},Tt.prototype.K=function(c,y,E,x){return this.i.add(String(c),y,!0,E,x)};function Ii(c,y,E,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==E){const Se=se.listener,_t=se.ha||se.src;se.fa&&be(c.i,se),B=Se.call(_t,x)!==!1&&B}}return B&&!x.defaultPrevented}function Sf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Mu(c){c.g=Sf(()=>{c.g=null,c.i&&(c.i=!1,Mu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class on extends D{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(c){D.call(this),this.h=c,this.g={}}T(Ms,D);var Fo=[];function Go(c){Ie(c.g,function(y,E){this.g.hasOwnProperty(E)&&Ra(y)},c),c.g={}}Ms.prototype.N=function(){Ms.Z.N.call(this),Go(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=h.JSON.stringify,Rf=h.JSON.parse,ku=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Vu(){}function ju(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){O.call(this,"d")}T(Gt,O);function kn(){O.call(this,"c")}T(kn,O);var yt={},Pu=null;function Ca(){return Pu=Pu||new Tt}yt.Ia="serverreachability";function Lu(c){O.call(this,yt.Ia,c)}T(Lu,O);function yr(c){const y=Ca();jt(y,new Lu(y))}yt.STAT_EVENT="statevent";function ks(c,y){O.call(this,yt.STAT_EVENT,c),this.stat=y}T(ks,O);function wt(c){const y=Ca();jt(y,new ks(y,c))}yt.Ja="timingevent";function _r(c,y){O.call(this,yt.Ja,c),this.size=y}T(_r,O);function vr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Cf(c,y,E,x,B,K){c.info(function(){if(c.g)if(K){var se="",Se=K.split("&");for(let Fe=0;Fe<Se.length;Fe++){var _t=Se[Fe].split("=");if(_t.length>1){const ut=_t[0];_t=_t[1];const Ln=ut.split("_");se=Ln.length>=2&&Ln[1]=="type"?se+(ut+"="+_t+"&"):se+(ut+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+y+`
`+E+`
`+se})}function Uu(c,y,E,x,B,K,se){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+y+`
`+E+`
`+K+" "+se})}function Er(c,y,E,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Nf(c,E)+(x?" "+x:"")})}function Vs(c,y){c.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function Nf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var x=E[1];if(Array.isArray(x)&&!(x.length<1)){var B=x[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<x.length;se++)x[se]=""}}}}return Di(K)}catch{return y}}var js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qo;function Ps(){}T(Ps,Vu),Ps.prototype.g=function(){return new XMLHttpRequest},Qo=new Ps;function Xr(c){return encodeURIComponent(String(c))}function zu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Zn(c,y,E,x){this.j=c,this.i=y,this.l=E,this.S=x||1,this.V=new Ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new er}function er(){this.i=null,this.g="",this.h=!1}var xt={},zt={};function br(c,y,E){c.M=1,c.A=Ls(St(y)),c.u=E,c.R=!0,Na(c,null)}function Na(c,y){c.F=Date.now(),Tr(c),c.B=St(c.A);var E=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),Ma(E.i,"t",x),c.C=0,E=c.j.L,c.h=new er,c.g=tc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new on(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,x=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Fo[0]=B.toString()),B=Fo);for(let K=0;K<B.length;K++){const se=lt(E,B[K],x||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),yr(),Cf(c.i,c.v,c.B,c.l,c.S,c.u)}Zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&rr(c)==3?y.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=rr(this.g),_t=this.g.ya(),Fe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Se!=4||_t==7||(_t==8||Fe<=0?yr(3):yr(2)),wr(this);var y=this.g.ca();this.X=y;var E=If(this);if(this.o=y==200,Uu(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var x,B=this.g;if((x=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var K=x;break t}}K=null}if(c=K)Er(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xr(this,c);else{this.o=!1,this.m=3,wt(12),Tn(this),Vn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=qu(this,E),ut==zt){Se==4&&(this.m=4,wt(14),c=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==xt){this.m=4,wt(15),Er(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Er(this.i,this.l,ut,null),xr(this,ut);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||E.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)Er(this.i,this.l,E,"[Invalid Chunked Response]"),Tn(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ll(se),se.P=!0,wt(11))}}else Er(this.i,this.l,E,null),xr(this,E);Se==4&&Tn(this),this.o&&!this.K&&(Se==4?Ju(this.j,this):(this.o=!1,Tr(this)))}else Wr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Tn(this),Vn(this)}}}catch{}finally{}};function If(c){if(!Bu(c))return c.g.la();const y=Kt(c.g);if(y==="")return"";let E="";const x=y.length,B=rr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Tn(c),Vn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<x;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(B&&K==x-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Bu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function qu(c,y){var E=c.C,x=y.indexOf(`
`,E);return x==-1?zt:(E=Number(y.substring(E,x)),isNaN(E)?xt:(x+=1,x+E>y.length?zt:(y=y.slice(x,x+E),c.C=x+E,y)))}Zn.prototype.cancel=function(){this.K=!0,Tn(this)};function Tr(c){c.T=Date.now()+c.H,Ia(c,c.H)}function Ia(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=vr(g(c.aa,c),y)}function wr(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(yr(),wt(17)),Tn(this),this.m=2,Vn(this)):Ia(this,this.T-c)};function Vn(c){c.j.I==0||c.K||Ju(c.j,c)}function Tn(c){wr(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Go(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function xr(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Sr(E.h,c))){if(!c.L&&Sr(E.h,c)&&E.I==3){try{var x=E.Ba.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)La(E),Ui(E);else break e;Gs(E),wt(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vr(g(E.Va,E),6e3));Ar(E.h)<=1&&E.ta&&(E.ta=void 0)}else Or(E,11)}else if((c.L||E.g==c)&&La(E),!N(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Fe=B[y];const ut=Fe[0];if(!(ut<=E.K))if(E.K=ut,Fe=Fe[1],E.I==2)if(Fe[0]=="c"){E.M=Fe[1],E.ba=Fe[2];const Ln=Fe[3];Ln!=null&&(E.ka=Ln,E.j.info("VER="+E.ka));const Mr=Fe[4];Mr!=null&&(E.za=Mr,E.j.info("SVER="+E.za));const ir=Fe[5];ir!=null&&typeof ir=="number"&&ir>0&&(x=1.5*ir,E.O=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const sr=c.g;if(sr){const Ks=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var K=x.h;K.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Xo(K,K.h),K.h=null))}if(x.G){const Ua=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(x.wa=Ua,$e(x.J,x.G,Ua))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),x=E;var se=c;if(x.na=ec(x,x.L?x.ba:null,x.W),se.L){Jo(x.h,se);var Se=se,_t=x.O;_t&&(Se.H=_t),Se.D&&(wr(Se),Tr(Se)),x.g=se}else $u(x);E.i.length>0&&Dr(E)}else Fe[0]!="stop"&&Fe[0]!="close"||Or(E,7);else E.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Or(E,7):al(E):Fe[0]!="noop"&&E.l&&E.l.qa(Fe),E.A=0)}}yr(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function Yo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ar(c){return c.h?1:c.g?c.g.size:0}function Sr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Xo(c,y){c.g?c.g.add(y):c.h=y}function Jo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yo.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return V(c.i)}var Hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const x=c[E].indexOf("=");let B,K=null;x>=0?(B=c[E].substring(0,x),K=c[E].substring(x+1)):B=c[E],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function wn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof wn?(this.l=c.l,Bt(this,c.j),this.o=c.o,this.g=c.g,Oi(this,c.u),this.h=c.h,Zo(this,Qu(c.i)),this.m=c.m):c&&(y=String(c).match(Hu))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Rr(y[2]||""),this.g=Rr(y[3]||"",!0),Oi(this,y[4]),this.h=Rr(y[5]||"",!0),Zo(this,y[6]||"",!0),this.m=Rr(y[7]||"")):(this.l=!1,this.i=new ki(null,this.l))}wn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Us(y,Oa,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Us(y,Oa,!0),"@"),c.push(Xr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Us(E,E.charAt(0)=="/"?el:Fu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Us(E,Gu)),c.join("")},wn.prototype.resolve=function(c){const y=St(this);let E=!!c.j;E?Bt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var x=c.h;if(E)Oi(y,c.u);else if(E=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var B=y.h.lastIndexOf("/");B!=-1&&(x=y.h.slice(0,B+1)+x)}if(B=x,B==".."||B==".")x="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){x=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let se=0;se<B.length;){const Se=B[se++];Se=="."?x&&se==B.length&&K.push(""):Se==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),x&&se==B.length&&K.push("")):(K.push(Se),x=!0)}x=K.join("/")}else x=B}return E?y.h=x:E=c.i.toString()!=="",E?Zo(y,Qu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function St(c){return new wn(c)}function Bt(c,y,E){c.j=E?Rr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Oi(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Zo(c,y,E){y instanceof ki?(c.i=y,ka(c.i,c.l)):(E||(y=Us(y,Mi)),c.i=new ki(y,c.l))}function $e(c,y,E){c.i.set(y,E)}function Ls(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Rr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Us(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,hn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oa=/[#\/\?@]/g,Fu=/[#\?:]/g,el=/[#\?]/g,Mi=/[#\?@]/g,Gu=/#/g;function ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&Da(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=ki.prototype,i.add=function(c,y){fn(this),this.i=null,c=Vi(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Ku(c,y){fn(c),y=Vi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function tl(c,y){return fn(c),y=Vi(c,y),c.g.has(y)}i.forEach=function(c,y){fn(this),this.g.forEach(function(E,x){E.forEach(function(B){c.call(y,B,x,this)},this)},this)};function nl(c,y){fn(c);let E=[];if(typeof y=="string")tl(c,y)&&(E=E.concat(c.g.get(Vi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}i.set=function(c,y){return fn(this),this.i=null,c=Vi(this,c),tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=nl(this,c),c.length>0?String(c[0]):y):y};function Ma(c,y,E){Ku(c,y),E.length>0&&(c.i=null,c.g.set(Vi(c,y),V(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let x=0;x<y.length;x++){var E=y[x];const B=Xr(E);E=nl(this,E);for(let K=0;K<E.length;K++){let se=B;E[K]!==""&&(se+="="+Xr(E[K])),c.push(se)}}return this.i=c.join("&")};function Qu(c){const y=new ki;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Vi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ka(c,y){y&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(E,x){const B=x.toLowerCase();x!=B&&(Ku(this,x),Ma(this,B,E))},c)),c.j=y}function tr(c,y){const E=new Wn;if(h.Image){const x=new Image;x.onload=b(jn,E,"TestLoadImage: loaded",!0,y,x),x.onerror=b(jn,E,"TestLoadImage: error",!1,y,x),x.onabort=b(jn,E,"TestLoadImage: abort",!1,y,x),x.ontimeout=b(jn,E,"TestLoadImage: timeout",!1,y,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function rl(c,y){const E=new Wn,x=new AbortController,B=setTimeout(()=>{x.abort(),jn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(K=>{clearTimeout(B),K.ok?jn(E,"TestPingServer: ok",!0,y):jn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),jn(E,"TestPingServer: error",!1,y)})}function jn(c,y,E,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(E)}catch{}}function ji(){this.g=new ku}function Cr(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Cr,Vu),Cr.prototype.g=function(){return new zs(this.i,this.h)};function zs(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(zs,Tt),i=zs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,nr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Pi(this):nr(this),this.readyState==3&&Va(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Pi(this))},i.Na=function(c){this.g&&(this.response=c,Pi(this))},i.ga=function(){this.g&&Pi(this)};function Pi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,nr(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pn(c){let y="";return Ie(c,function(E,x){y+=x,y+=":",y+=E,y+=`\r
`}),y}function Bs(c,y,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=Pn(E),typeof c=="string"?E!=null&&Xr(E):$e(c,y,E))}function We(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,Tt);var Nr=/^https?$/i,il=["POST","PUT"];i=We.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){qs(this,K);return}if(c=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)E.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())E.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(il,y,void 0)>=0)||x||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of E)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){qs(this,K)}};function qs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,sl(c),Jr(c)}function sl(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,jt(this,"complete"),jt(this,"abort"),Jr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jr(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Hs(this):this.Xa())},i.Xa=function(){Hs(this)};function Hs(c){if(c.h&&typeof u<"u"){if(c.v&&rr(c)==4)setTimeout(c.Ca.bind(c),0);else if(jt(c,"readystatechange"),rr(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var x;if(x=K===0){let se=String(c.D).match(Hu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),x=!Nr.test(se?se.toLowerCase():"")}E=x}if(E)jt(c,"complete"),jt(c,"success");else{c.o=6;try{var B=rr(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",sl(c)}}finally{Jr(c)}}}}function Jr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||jt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}i.ca=function(){try{return rr(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Rf(y)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wr(c){const y={};c=(c.g&&rr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(N(c[x]))continue;var E=zu(c[x]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[B]||[];y[B]=K,K.push(E)}Ye(y,function(x){return x.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Li(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ir("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ir("baseRetryDelayMs",5e3,c),this.Za=Ir("retryDelaySeedMs",1e4,c),this.Ta=Ir("forwardChannelMaxRetries",2,c),this.va=Ir("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Ba=new ji,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Li.prototype,i.ka=8,i.I=1,i.connect=function(c,y,E,x){wt(0),this.W=c,this.H=y||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.J=ec(this,null,this.W),Dr(this)};function al(c){if(ja(c),c.I==3){var y=c.V++,E=St(c.J);if($e(E,"SID",c.M),$e(E,"RID",y),$e(E,"TYPE","terminate"),Fs(c,E),y=new Zn(c,c.j,y),y.M=2,y.A=Ls(St(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=tc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Tr(y)}Zu(c)}function Ui(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function ja(c){Ui(c),c.v&&(h.clearTimeout(c.v),c.v=null),La(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Dr(c){if(!$o(c.h)&&!c.m){c.m=!0;var y=c.Ea;ve||S(),ae||(ve(),ae=!0),C.add(y,c),c.D=0}}function Pa(c,y){return Ar(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=vr(g(c.Ea,c,y),Wu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Zn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=k(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Yu(this,B,y),E=St(this.J),$e(E,"RID",c),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Fs(this,E),K&&(this.R?y="headers="+Xr(Pn(K))+"&"+y:this.u&&Bs(E,this.u,K)),Xo(this.h,B),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",y),$e(E,"SID","null"),B.U=!0,br(B,E,null)):br(B,E,y),this.I=2}}else this.I==3&&(c?ol(this,c):this.i.length==0||$o(this.h)||ol(this))};function ol(c,y){var E;y?E=y.l:E=c.V++;const x=St(c.J);$e(x,"SID",c.M),$e(x,"RID",E),$e(x,"AID",c.K),Fs(c,x),c.u&&c.o&&Bs(x,c.u,c.o),E=new Zn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Yu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Xo(c.h,E),br(E,x,y)}function Fs(c,y){c.H&&Ie(c.H,function(E,x){$e(y,x,E)}),c.l&&Ie({},function(E,x){$e(y,x,E)})}function Yu(c,y,E){E=Math.min(c.i.length,E);const x=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Se=-1;for(;;){const _t=["count="+E];Se==-1?E>0?(Se=B[0].g,_t.push("ofs="+Se)):Se=0:_t.push("ofs="+Se);let Fe=!0;for(let ut=0;ut<E;ut++){var K=B[ut].g;const Ln=B[ut].map;if(K-=Se,K<0)Se=Math.max(0,B[ut].g-100),Fe=!1;else try{K="req"+K+"_"||"";try{var se=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Mr,ir]of se){let sr=ir;m(ir)&&(sr=Di(ir)),_t.push(K+Mr+"="+encodeURIComponent(sr))}}catch(Mr){throw _t.push(K+"type="+encodeURIComponent("_badmap")),Mr}}catch{x&&x(Ln)}}if(Fe){se=_t.join("&");break e}}se=void 0}return c=c.i.splice(0,E),y.G=c,se}function $u(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ve||S(),ae||(ve(),ae=!0),C.add(y,c),c.A=0}}function Gs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=vr(g(c.Da,c),Wu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=vr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Ui(this),Xu(this))};function ll(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Xu(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=St(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Fs(c,y),c.u&&c.o&&Bs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ls(St(y)),E.u=null,E.R=!0,Na(E,c)}i.Va=function(){this.C!=null&&(this.C=null,Ui(this),Gs(this),wt(19))};function La(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ju(c,y){var E=null;if(c.g==y){La(c),ll(c),c.g=null;var x=2}else if(Sr(c.h,y))E=y.G,Jo(c.h,y),x=1;else return;if(c.I!=0){if(y.o)if(x==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;x=Ca(),jt(x,new _r(x,E)),Dr(c)}else $u(c);else if(B=y.m,B==3||B==0&&y.X>0||!(x==1&&Pa(c,y)||x==2&&Gs(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),B){case 1:Or(c,5);break;case 4:Or(c,10);break;case 3:Or(c,6);break;default:Or(c,2)}}}function Wu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Or(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),x=c.Ua;const B=!x;x=new wn(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bt(x,"https"),Ls(x),B?tr(x.toString(),E):rl(x.toString(),E)}else wt(2);c.I=0,c.l&&c.l.pa(y),Zu(c),ja(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Zu(c){if(c.I=0,c.ja=[],c.l){const y=Wo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ja,y),U(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function ec(c,y,E){var x=E instanceof wn?St(E):new wn(E);if(x.g!="")y&&(x.g=y+"."+x.g),Oi(x,x.u);else{var B=h.location;x=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new wn(null);x&&Bt(K,x),y&&(K.g=y),B&&Oi(K,B),E&&(K.h=E),x=K}return E=c.G,y=c.wa,E&&y&&$e(x,E,y),$e(x,"VER",c.ka),Fs(c,x),x}function tc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new Cr({ab:E})):new We(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}i=nc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function zi(){}zi.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){Tt.call(this),this.g=new Li(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Zr(this)}T(ln,Tt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){al(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Di(c),c=E);y.i.push(new At(y.Ya++,c)),y.I==3&&Dr(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,ln.Z.N.call(this)};function rc(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(rc,Gt);function ic(){kn.call(this),this.status=1}T(ic,kn);function Zr(c){this.g=c}T(Zr,nc),Zr.prototype.ra=function(){jt(this.g,"a")},Zr.prototype.qa=function(c){jt(this.g,new rc(c))},Zr.prototype.pa=function(c){jt(this.g,new ic)},Zr.prototype.oa=function(){jt(this.g,"b")},zi.prototype.createWebChannel=zi.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,pT=function(){return new zi},mT=function(){return Ca()},dT=yt,ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,xh=js,Ko.COMPLETE="complete",fT=Ko,ju.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Wl=ju,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,hT=We}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const Qv="@firebase/firestore",Yv="4.9.2";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let jo="12.3.0";const ya=new kp("@firebase/firestore");function go(){return ya.logLevel}function le(i,...e){if(ya.logLevel<=je.DEBUG){const n=e.map(Qp);ya.debug(`Firestore (${jo}): ${i}`,...n)}}function Ai(i,...e){if(ya.logLevel<=je.ERROR){const n=e.map(Qp);ya.error(`Firestore (${jo}): ${i}`,...n)}}function So(i,...e){if(ya.logLevel<=je.WARN){const n=e.map(Qp);ya.warn(`Firestore (${jo}): ${i}`,...n)}}function Qp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,gT(i,s,n)}function gT(i,e,n){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ai(s),new Error(s)}function Qe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||gT(e,o,s)}function Ae(i,e){return i}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends $r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class yT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class II{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DI{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ei,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ei)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new yT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class OI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new OI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $v(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=VI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function sp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Um(o)===Um(u)?Pe(o,u):Um(o)?1:-1}return Pe(i.length,e.length)}const jI=55296,PI=57343;function Um(i){const e=i.charCodeAt(0);return e>=jI&&e<=PI}function Ro(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const Xv="__name__";class Lr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Lr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Lr.isNumericId(e),o=Lr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Lr.extractNumericId(e).compare(Lr.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class st extends Lr{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const LI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Lr{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return LI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xv}static keyField(){return new Wt([Xv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}function _T(i,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function UI(i,e,n,s){if(e===!0&&s===!0)throw new fe(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Jv(i){if(!ye.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wv(i){if(ye.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function $p(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function hr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(i);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Mt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Cu(i,e){if(!vT(i))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}const Zv=-62135596800,eE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*eE);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Zv)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Mt("string",at._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new at(0,0))}static max(){return new we(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mu=-1;function zI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new bs(o,ye.empty(),e)}function BI(i){return new bs(i.readTime,i.key,mu)}class bs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new bs(we.min(),ye.empty(),mu)}static max(){return new bs(we.max(),ye.empty(),mu)}}function qI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}const HI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Po(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==HI)throw i;le("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((b=>{h[g]=b,++m,m===u&&s(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function GI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(i){return i.name==="IndexedDbTransactionError"}class of{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}of.ce=-1;const Xp=-1;function lf(i){return i==null}function zh(i){return i===0&&1/i==-1/0}function KI(i){return typeof i=="number"&&Number.isInteger(i)&&!zh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ET="";function QI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=tE(e)),e=YI(i.get(n),e);return tE(e)}function YI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ET:n+="";break;default:n+=u}}return n}function tE(i){return i+ET+""}function nE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ns(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function bT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class rE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Ut(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class TT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new TT("Invalid base64 string: "+u):u}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const $I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const n=$I.exec(i);if(Qe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ws(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}const wT="server_timestamp",xT="__type__",AT="__previous_value__",ST="__local_write_time__";function Jp(i){return(i?.mapValue?.fields||{})[xT]?.stringValue===wT}function uf(i){const e=i.mapValue.fields[AT];return Jp(e)?uf(e):e}function pu(i){const e=Ts(i.mapValue.fields[ST].timestampValue);return new at(e.seconds,e.nanos)}class XI{constructor(e,n,s,o,u,h,m,p,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Bh="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}const RT="__type__",JI="__max__",dh={mapValue:{}},CT="__vector__",qh="value";function xs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jp(i)?4:ZI(i)?9007199254740991:WI(i)?10:11:Ee(28295,{value:i})}function Kr(i,e){if(i===e)return!0;const n=xs(i);if(n!==xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return pu(i).isEqual(pu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ts(o.timestampValue),m=Ts(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ws(o.bytesValue).isEqual(ws(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),m=bt(u.doubleValue);return h===m?zh(h)===zh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Ro(i.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(nE(h)!==nE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Kr(h[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function yu(i,e){return(i.values||[]).find((n=>Kr(n,e)))!==void 0}function Co(i,e){if(i===e)return 0;const n=xs(i),s=xs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=bt(u.integerValue||u.doubleValue),p=bt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return iE(i.timestampValue,e.timestampValue);case 4:return iE(pu(i),pu(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=ws(u),p=ws(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Pe(m[g],p[g]);if(b!==0)return b}return Pe(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Pe(bt(u.latitude),bt(h.latitude));return m!==0?m:Pe(bt(u.longitude),bt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return sE(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[qh]?.arrayValue,b=p[qh]?.arrayValue,T=Pe(g?.values?.length||0,b?.values?.length||0);return T!==0?T:sE(g,b)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===dh.mapValue&&h===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(h===dh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const A=sp(p[T],b[T]);if(A!==0)return A;const V=Co(m[p[T]],g[b[T]]);if(V!==0)return V}return Pe(p.length,b.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function iE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=Ts(i),s=Ts(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function sE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function No(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Ts(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ws(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ap(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Ah(i){switch(xs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(i);return e?16+Ah(e):16;case 5:return 2*i.stringValue.length;case 6:return ws(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ah(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ns(s.fields,((u,h)=>{o+=u.length+Ah(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function op(i){return!!i&&"integerValue"in i}function Wp(i){return!!i&&"arrayValue"in i}function aE(i){return!!i&&"nullValue"in i}function oE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sh(i){return!!i&&"mapValue"in i}function WI(i){return(i?.mapValue?.fields||{})[RT]?.stringValue===CT}function iu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ns(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=iu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(i.arrayValue.values[n]);return e}return{...i}}function ZI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=iu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ns(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(iu(this.value))}}function NT(i){const e=[];return Ns(i.fields,((n,s)=>{const o=new Wt([n]);if(Sh(s)){const u=NT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new On(e)}class rn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function lE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=Co(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function uE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Kr(i.position[n],e.position[n]))return!1;return!0}class Fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function e4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class IT{}class Lt extends IT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new n4(e,n,s):n==="array-contains"?new s4(e,s):n==="in"?new a4(e,s):n==="not-in"?new o4(e,s):n==="array-contains-any"?new l4(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new r4(e,s):new i4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends IT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qr(e,n)}matches(e){return DT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DT(i){return i.op==="and"}function OT(i){return t4(i)&&DT(i)}function t4(i){for(const e of i.filters)if(e instanceof Qr)return!1;return!0}function lp(i){if(i instanceof Lt)return i.field.canonicalString()+i.op.toString()+No(i.value);if(OT(i))return i.filters.map((e=>lp(e))).join(",");{const e=i.filters.map((n=>lp(n))).join(",");return`${i.op}(${e})`}}function MT(i,e){return i instanceof Lt?(function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&Kr(s.value,o.value)})(i,e):i instanceof Qr?(function(s,o){return o instanceof Qr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&MT(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function kT(i){return i instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(i):i instanceof Qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(kT).join(" ,")+"}"})(i):"Filter"}class n4 extends Lt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class r4 extends Lt{constructor(e,n){super(e,"in",n),this.keys=VT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class i4 extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=VT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function VT(i,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class s4 extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wp(n)&&yu(n.arrayValue,this.value)}}class a4 extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class o4 extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class l4 extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yu(this.value.arrayValue,s)))}}class u4{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function cE(i,e=null,n=[],s=[],o=null,u=null,h=null){return new u4(i,e,n,s,o,u,h)}function Zp(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>lp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>No(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>No(s))).join(",")),e.Te=n}return e.Te}function eg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!e4(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!MT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!uE(i.startAt,e.startAt)&&uE(i.endAt,e.endAt)}function up(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class cf{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function c4(i,e,n,s,o,u,h,m){return new cf(i,e,n,s,o,u,h,m)}function tg(i){return new cf(i)}function hE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function h4(i){return i.collectionGroup!==null}function su(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut(Wt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Fh(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new Fh(Wt.keyField(),s))}return e.Ie}function qr(i){const e=Ae(i);return e.Ee||(e.Ee=f4(e,su(i))),e.Ee}function f4(i,e){if(i.limitType==="F")return cE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Fh(o.field,u)}));const n=i.endAt?new Hh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hh(i.startAt.position,i.startAt.inclusive):null;return cE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function cp(i,e,n){return new cf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function hf(i,e){return eg(qr(i),qr(e))&&i.limitType===e.limitType}function jT(i){return`${Zp(qr(i))}|lt:${i.limitType}`}function yo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>kT(o))).join(", ")}]`),lf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${s})`})(qr(i))}; limitType=${i.limitType})`}function ff(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=lE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,su(s),o)||s.endAt&&!(function(h,m,p){const g=lE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,su(s),o))})(i,e)}function d4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function PT(i){return(e,n)=>{let s=!1;for(const o of su(i)){const u=m4(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function m4(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Co(p,g):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return bT(this.inner)}size(){return this.innerSize}}const p4=new ft(ye.comparator);function Si(){return p4}const LT=new ft(ye.comparator);function Zl(...i){let e=LT;for(const n of i)e=e.insert(n.key,n);return e}function UT(i){let e=LT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ca(){return au()}function zT(){return au()}function au(){return new Ta((i=>i.toString()),((i,e)=>i.isEqual(e)))}const g4=new ft(ye.comparator),y4=new Ut(ye.comparator);function Le(...i){let e=y4;for(const n of i)e=e.add(n);return e}const _4=new Ut(Pe);function v4(){return _4}function ng(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function BT(i){return{integerValue:""+i}}function E4(i,e){return KI(e)?BT(e):ng(i,e)}class df{constructor(){this._=void 0}}function b4(i,e,n){return i instanceof Gh?(function(o,u){const h={fields:{[xT]:{stringValue:wT},[ST]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jp(u)&&(u=uf(u)),u&&(h.fields[AT]=u),{mapValue:h}})(n,e):i instanceof _u?HT(i,e):i instanceof vu?FT(i,e):(function(o,u){const h=qT(o,u),m=fE(h)+fE(o.Ae);return op(h)&&op(o.Ae)?BT(m):ng(o.serializer,m)})(i,e)}function T4(i,e,n){return i instanceof _u?HT(i,e):i instanceof vu?FT(i,e):n}function qT(i,e){return i instanceof Kh?(function(s){return op(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Gh extends df{}class _u extends df{constructor(e){super(),this.elements=e}}function HT(i,e){const n=GT(e);for(const s of i.elements)n.some((o=>Kr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class vu extends df{constructor(e){super(),this.elements=e}}function FT(i,e){let n=GT(e);for(const s of i.elements)n=n.filter((o=>!Kr(o,s)));return{arrayValue:{values:n}}}class Kh extends df{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fE(i){return bt(i.integerValue||i.doubleValue)}function GT(i){return Wp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function w4(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof _u&&o instanceof _u||s instanceof vu&&o instanceof vu?Ro(s.elements,o.elements,Kr):s instanceof Kh&&o instanceof Kh?Kr(s.Ae,o.Ae):s instanceof Gh&&o instanceof Gh})(i.transform,e.transform)}class x4{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class mf{}function KT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new rg(i.key,Yn.none()):new Nu(i.key,i.data,Yn.none());{const n=i.data,s=En.empty();let o=new Ut(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Is(i.key,s,new On(o.toArray()),Yn.none())}}function A4(i,e,n){i instanceof Nu?(function(o,u,h){const m=o.value.clone(),p=mE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Is?(function(o,u,h){if(!Rh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=mE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(QT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ou(i,e,n,s){return i instanceof Nu?(function(u,h,m,p){if(!Rh(u.precondition,h))return m;const g=u.value.clone(),b=pE(u.fieldTransforms,p,h);return g.setAll(b),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Is?(function(u,h,m,p){if(!Rh(u.precondition,h))return m;const g=pE(u.fieldTransforms,p,h),b=h.data;return b.setAll(QT(u)),b.setAll(g),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,m){return Rh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function S4(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=qT(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function dE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,((u,h)=>w4(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Nu extends mf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends mf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function QT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function mE(i,e,n){const s=new Map;Qe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,T4(h,m,n[o]))}return s}function pE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,b4(u,h,e))}return s}class rg extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R4 extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class C4{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&A4(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ou(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ou(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=zT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=KT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((n,s)=>dE(n,s)))&&Ro(this.baseMutations,e.baseMutations,((n,s)=>dE(n,s)))}}class ig{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return g4})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ig(e,n,s,o)}}class N4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class I4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,Be;function D4(i){switch(i){case re.OK:return Ee(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function YT(i){if(i===void 0)return Ai("GRPC error has no .code"),re.UNKNOWN;switch(i){case Dt.OK:return re.OK;case Dt.CANCELLED:return re.CANCELLED;case Dt.UNKNOWN:return re.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return re.INTERNAL;case Dt.UNAVAILABLE:return re.UNAVAILABLE;case Dt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Dt.NOT_FOUND:return re.NOT_FOUND;case Dt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Dt.ABORTED:return re.ABORTED;case Dt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Dt.DATA_LOSS:return re.DATA_LOSS;default:return Ee(39323,{code:i})}}(Be=Dt||(Dt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function O4(){return new TextEncoder}const M4=new _s([4294967295,4294967295],0);function gE(i){const e=O4().encode(i),n=new cT;return n.update(e),new Uint8Array(n.digest())}function yE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _s([n,s],0),new _s([o,u],0)]}class sg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_s.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(_s.fromNumber(s)));return o.compare(M4)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gE(e),[s,o]=yE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new sg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=gE(e),[s,o]=yE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pf(we.min(),o,new ft(Pe),Si(),Le())}}class Iu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Iu(s,n,Le(),Le(),Le())}}class Ch{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class $T{constructor(e,n){this.targetId=e,this.Ce=n}}class XT{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class _E{constructor(){this.ve=0,this.Fe=vE(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Iu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=vE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class k4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Si(),this.Je=mh(),this.He=mh(),this.Ye=new ft(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(up(u))if(s===0){const h=new ye(u.path);this.et(n,h,rn.newNoDocument(h,we.min()))}else Qe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ws(s).toUint8Array()}catch(p){if(p instanceof TT)return So("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new sg(h,o,u)}catch(p){return So(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&up(m.target)){const p=new ye(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,rn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new pf(e,n,this.Ye,this.je,s);return this.je=Si(),this.Je=mh(),this.He=mh(),this.Ye=new ft(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _E,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _E),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mh(){return new ft(ye.comparator)}function vE(){return new ft(ye.comparator)}const V4={asc:"ASCENDING",desc:"DESCENDING"},j4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P4={and:"AND",or:"OR"};class L4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(i,e){return i.useProto3Json||lf(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function U4(i,e){return Qh(i,e.toTimestamp())}function Hr(i){return Qe(!!i,49232),we.fromTimestamp((function(n){const s=Ts(n);return new at(s.seconds,s.nanos)})(i))}function ag(i,e){return fp(i,e).canonicalString()}function fp(i,e){const n=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function WT(i){const e=st.fromString(i);return Qe(r1(e),10190,{key:e.toString()}),e}function dp(i,e){return ag(i.databaseId,e.path)}function zm(i,e){const n=WT(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(e1(n))}function ZT(i,e){return ag(i.databaseId,e)}function z4(i){const e=WT(i);return e.length===4?st.emptyPath():e1(e)}function mp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function e1(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function EE(i,e,n){return{name:dp(i,e),fields:n.value.mapValue.fields}}function B4(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Qe(b===void 0||typeof b=="string",58123),Zt.fromBase64String(b||"")):(Qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Zt.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const b=g.code===void 0?re.UNKNOWN:YT(g.code);return new fe(b,g.message||"")})(h);n=new XT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zm(i,s.document.name),u=Hr(s.document.updateTime),h=s.document.createTime?Hr(s.document.createTime):we.min(),m=new En({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,h,m),g=s.targetIds||[],b=s.removedTargetIds||[];n=new Ch(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zm(i,s.document),u=s.readTime?Hr(s.readTime):we.min(),h=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ch([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zm(i,s.document),u=s.removedTargetIds||[];n=new Ch([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new I4(o,u),m=s.targetId;n=new $T(m,h)}}return n}function q4(i,e){let n;if(e instanceof Nu)n={update:EE(i,e.key,e.value)};else if(e instanceof rg)n={delete:dp(i,e.key)};else if(e instanceof Is)n={update:EE(i,e.key,e.data),updateMask:J4(e.fieldMask)};else{if(!(e instanceof R4))return Ee(16599,{Vt:e.type});n={verify:dp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Gh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:U4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function H4(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Hr(o.updateTime):Hr(u);return h.isEqual(we.min())&&(h=Hr(u)),new x4(h,o.transformResults||[])})(n,e)))):[]}function F4(i,e){return{documents:[ZT(i,e.path)]}}function G4(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ZT(i,o);const u=(function(g){if(g.length!==0)return n1(Qr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((b=>(function(A){return{field:_o(A.field),direction:Y4(A.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=hp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function K4(i){let e=z4(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const A=t1(T);return A instanceof Qr&&OT(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(U){return new Fh(vo(U.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,lf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,V=T.values||[];return new Hh(V,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,V=T.values||[];return new Hh(V,A)})(n.endAt)),c4(e,o,h,u,m,"F",p,g)}function Q4(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=vo(n.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Lt.create(vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Qr.create(n.compositeFilter.filters.map((s=>t1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function Y4(i){return V4[i]}function $4(i){return j4[i]}function X4(i){return P4[i]}function _o(i){return{fieldPath:i.canonicalString()}}function vo(i){return Wt.fromServerFormat(i.fieldPath)}function n1(i){return i instanceof Lt?(function(n){if(n.op==="=="){if(oE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(aE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(aE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:$4(n.op),value:n.value}}})(i):i instanceof Qr?(function(n){const s=n.getFilters().map((o=>n1(o)));return s.length===1?s[0]:{compositeFilter:{op:X4(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function J4(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function r1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ps{constructor(e,n,s,o,u=we.min(),h=we.min(),m=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class W4{constructor(e){this.yt=e}}function Z4(i){const e=K4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?cp(e,e.limit,"L"):e}class eD{constructor(){this.Cn=new tD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(bs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class tD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(st.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(st.comparator)).toArray()}}const bE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i1=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(i1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}const TE="LruGarbageCollector",nD=1048576;function wE([i,e],[n,s]){const o=Pe(i,n);return o===0?Pe(e,s):o}class rD{constructor(e){this.Ir=e,this.buffer=new Ut(wE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();wE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(TE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?le(TE,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Vr(3e5)}))}}class sD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(of.ce);const s=new rD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(bE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),go()<=je.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function aD(i,e){return new sD(i,e)}class oD{constructor(){this.changes=new Ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class uD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ou(s.mutation,o,On.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Zl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ca();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Si();const h=au(),m=(function(){return au()})();return n.forEach(((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof Is)?u=u.insert(g.key,g):b!==void 0?(h.set(g.key,b.mutation.getFieldMask()),ou(b.mutation,g,b.mutation.getFieldMask(),at.now())):h.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,b)=>h.set(g,b))),n.forEach(((g,b)=>m.set(g,new lD(b,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=au();let o=new ft(((h,m)=>h-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let b=s.get(p)||On.empty();b=m.applyToLocalView(g,b),s.set(p,b);const T=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,T=zT();b.forEach((A=>{if(!u.has(A)){const V=KT(n.get(A),s.get(A));V!==null&&T.set(A,V),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):h4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ca());let m=mu,p=u;return h.next((g=>ne.forEach(g,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?ne.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{p=p.insert(b,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Le()))).next((b=>({batchId:m,changes:UT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Zl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,A){return new cf(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((b=>{b.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const b=g.getKey();h.get(b)===null&&(h=h.insert(b,rn.newInvalidDocument(b)))}));let m=Zl();return h.forEach(((p,g)=>{const b=u.get(p);b!==void 0&&ou(b.mutation,g,On.empty(),at.now()),ff(n,g)&&(m=m.insert(p,g))})),m}))}}class cD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hr(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Z4(o.bundledQuery),readTime:Hr(o.readTime)}})(n)),ne.resolve()}}class hD{constructor(){this.overlays=new ft(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ca();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ca(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((g,b)=>g-b));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=ca(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=ca(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new N4(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class fD{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class og{constructor(){this.Qr=new Ut(Ht.$r),this.Ur=new Ut(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new st([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new st([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ht(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class dD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Ht.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new C4(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Xp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Pe);return n.forEach((o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new ye(u),0);let m=new Ut(Pe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mD{constructor(e){this.ri=e,this.docs=(function(){return new ft(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=Si();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Si();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||qI(BI(b),s)<=0||(o.has(b.key)||ff(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new pD(this)}getSize(e){return ne.resolve(this.size)}}class pD extends oD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class gD{constructor(e){this.persistence=e,this.si=new Ta((n=>Zp(n)),eg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new og,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class s1{constructor(e,n){this.ui={},this.overlays={},this.ci=new of(0),this.li=!1,this.li=!0,this.hi=new fD,this.referenceDelegate=e(this),this.Pi=new gD(this),this.indexManager=new eD,this.remoteDocumentCache=(function(o){return new mD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new W4(n),this.Ii=new cD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new dD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new yD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class yD extends FI{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new og,this.Vi=null}static mi(e){return new lg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.pi=new Ta((s=>QI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=aD(this,n)}static mi(e,n){return new Yh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ah(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ug{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ug(e,n.fromCache,s,o)}}class _D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return z2()?8:GI(an())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new _D;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(go()<=je.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(go()<=je.DEBUG&&le("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(go()<=je.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):ne.resolve())}ys(e,n){if(hE(n))return ne.resolve(null);let s=qr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=cp(n,null,"F"),s=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Le(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,cp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return hE(n)||o.isEqual(we.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(go()<=je.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.vs(e,h,n,zI(o,mu)).next((m=>m)))}))}Ds(e,n){let s=new Ut(PT(e));return n.forEach(((o,u)=>{ff(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return go()<=je.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(e,n,bs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const cg="LocalStore",ED=3e8;class bD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Pe),this.xs=new Ta((u=>Zp(u)),eg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TD(i,e,n,s){return new bD(i,e,n,s)}async function a1(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Le();for(const g of o){h.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function wD(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const T=g.batch,A=T.keys();let V=ne.resolve();return A.forEach((U=>{V=V.next((()=>b.getEntry(p,U))).next((Q=>{const j=g.docVersions.get(U);Qe(j!==null,48541),Q.version.compareTo(j)<0&&(T.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),b.addEntry(Q)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function o1(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xD(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,T))));let V=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(Zt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(b.resumeToken,s)),o=o.insert(T,V),(function(Q,j,G){return Q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=ED?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(A,V,b)&&m.push(n.Pi.updateTargetData(u,V))}));let p=Si(),g=Le();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(AD(u,h,e.documentUpdates).next((b=>{p=b.ks,g=b.qs}))),!s.isEqual(we.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function AD(i,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Si();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(cg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function SD(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Xp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function RD(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ps(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function pp(i,e,n){const s=Ae(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Lo(h))throw h;le(cg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function xE(i,e,n){const s=Ae(i);let o=we.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,b){const T=Ae(p),A=T.xs.get(b);return A!==void 0?ne.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,b)})(s,h,qr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:Le()))).next((m=>(CD(s,d4(e),m),{documents:m,Qs:u})))))}function CD(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class AE{constructor(){this.activeTargetIds=v4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ND{constructor(){this.Mo=new AE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ID{Oo(e){}shutdown(){}}const SE="ConnectivityMonitor";class RE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(SE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(SE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ph=null;function gp(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}const Bm="RestConnection",DD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=gp(),m=this.zo(e,n.toUriEncodedString());le(Bm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),b=Cs(g);return this.Jo(e,m,p,s,b).then((T=>(le(Bm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw So(Bm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=DD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class MD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class kD extends OD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=gp();return new Promise(((m,p)=>{const g=new hT;g.setWithCredentials(!0),g.listenOnce(fT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case xh.NO_ERROR:const T=g.getResponseJson();le(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case xh.TIMEOUT:le(tn,`RPC '${e}' ${h} timed out`),p(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const A=g.getStatus();if(le(tn,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const U=V?.error;if(U&&U.status&&U.message){const Q=(function(G){const J=G.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(J)>=0?J:re.UNKNOWN})(U.status);p(new fe(Q,U.message))}else p(new fe(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(tn,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);le(tn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=gp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=pT(),m=mT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");le(tn,`Creating RPC '${e}' stream ${o}: ${b}`,p);const T=h.createWebChannel(b,p);this.I_(T);let A=!1,V=!1;const U=new MD({Yo:j=>{V?le(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(A||(le(tn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),le(tn,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Zo:()=>T.close()}),Q=(j,G,J)=>{j.listen(G,(Z=>{try{J(Z)}catch(he){setTimeout((()=>{throw he}),0)}}))};return Q(T,Wl.EventType.OPEN,(()=>{V||(le(tn,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),Q(T,Wl.EventType.CLOSE,(()=>{V||(V=!0,le(tn,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),Q(T,Wl.EventType.ERROR,(j=>{V||(V=!0,So(tn,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),U.a_(new fe(re.UNAVAILABLE,"The operation could not be completed")))})),Q(T,Wl.EventType.MESSAGE,(j=>{if(!V){const G=j.data[0];Qe(!!G,16349);const J=G,Z=J?.error||J[0]?.error;if(Z){le(tn,`RPC '${e}' stream ${o} received error:`,Z);const he=Z.status;let ve=(function(S){const R=Dt[S];if(R!==void 0)return YT(R)})(he),ae=Z.message;ve===void 0&&(ve=re.INTERNAL,ae="Unknown error status: "+he+" with message "+Z.message),V=!0,U.a_(new fe(ve,ae)),T.close()}else le(tn,`RPC '${e}' stream ${o} received:`,G),U.u_(G)}})),Q(m,dT.STAT_EVENT,(j=>{j.stat===ip.PROXY?le(tn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===ip.NOPROXY&&le(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function qm(){return typeof document<"u"?document:null}function gf(i){return new L4(i,!0)}class l1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const CE="PersistentStream";class u1{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(CE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(CE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VD extends u1{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B4(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Hr(h.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=mp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=up(p)?{documents:F4(u,p)}:{query:G4(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=JT(u,h.resumeToken);const g=hp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Qh(u,h.snapshotVersion.toTimestamp());const g=hp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=Q4(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.q_(n)}}class jD extends u1{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=H4(e.writeResults,e.commitTime),s=Hr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=mp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>q4(this.serializer,s)))};this.q_(n)}}class PD{}class LD extends PD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,fp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(re.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,fp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(re.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _a="RemoteStore";class zD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{wa(this)&&(le(_a,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Du(g),g.Ra.set("Unknown"),g.Ea.delete(4),await yf(g)})(this))}))})),this.Ra=new UD(s,o)}}async function yf(i){if(wa(i))for(const e of i.da)await e(!0)}async function Du(i){for(const e of i.da)await e(!1)}function c1(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mg(n)?dg(n):Uo(n).O_()&&fg(n,e))}function hg(i,e){const n=Ae(i),s=Uo(n);n.Ia.delete(e),s.O_()&&h1(n,e),n.Ia.size===0&&(s.O_()?s.L_():wa(n)&&n.Ra.set("Unknown"))}function fg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(i).Y_(e)}function h1(i,e){i.Va.Ue(e),Uo(i).Z_(e)}function dg(i){i.Va=new k4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Uo(i).start(),i.Ra.ua()}function mg(i){return wa(i)&&!Uo(i).x_()&&i.Ia.size>0}function wa(i){return Ae(i).Ea.size===0}function f1(i){i.Va=void 0}async function BD(i){i.Ra.set("Online")}async function qD(i){i.Ia.forEach(((e,n)=>{fg(i,e)}))}async function HD(i,e){f1(i),mg(i)?(i.Ra.ha(e),dg(i)):i.Ra.set("Unknown")}async function FD(i,e,n){if(i.Ra.set("Online"),e instanceof XT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){le(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await $h(i,s)}else if(e instanceof Ch?i.Va.Ze(e):e instanceof $T?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await o1(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Zt.EMPTY_BYTE_STRING,b.snapshotVersion)),h1(u,p);const T=new ps(b.target,p,g,b.sequenceNumber);fg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){le(_a,"Failed to raise snapshot:",s),await $h(i,s)}}async function $h(i,e,n){if(!Lo(e))throw e;i.Ea.add(1),await Du(i),i.Ra.set("Offline"),n||(n=()=>o1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(_a,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await yf(i)}))}function d1(i,e){return e().catch((n=>$h(i,n,e)))}async function _f(i){const e=Ae(i),n=As(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xp;for(;GD(e);)try{const o=await SD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,KD(e,o)}catch(o){await $h(e,o)}m1(e)&&p1(e)}function GD(i){return wa(i)&&i.Ta.length<10}function KD(i,e){i.Ta.push(e);const n=As(i);n.O_()&&n.X_&&n.ea(e.mutations)}function m1(i){return wa(i)&&!As(i).x_()&&i.Ta.length>0}function p1(i){As(i).start()}async function QD(i){As(i).ra()}async function YD(i){const e=As(i);for(const n of i.Ta)e.ea(n.mutations)}async function $D(i,e,n){const s=i.Ta.shift(),o=ig.from(s,e,n);await d1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await _f(i)}async function XD(i,e){e&&As(i).X_&&await(async function(s,o){if((function(h){return D4(h)&&h!==re.ABORTED})(o.code)){const u=s.Ta.shift();As(s).B_(),await d1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await _f(s)}})(i,e),m1(i)&&p1(i)}async function NE(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),le(_a,"RemoteStore received new credentials");const s=wa(n);n.Ea.add(3),await Du(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yf(n)}async function JD(i,e){const n=Ae(i);e?(n.Ea.delete(2),await yf(n)):e||(n.Ea.add(2),await Du(n),n.Ra.set("Unknown"))}function Uo(i){return i.ma||(i.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new VD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:BD.bind(null,i),t_:qD.bind(null,i),r_:HD.bind(null,i),H_:FD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),mg(i)?dg(i):i.Ra.set("Unknown")):(await i.ma.stop(),f1(i))}))),i.ma}function As(i){return i.fa||(i.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new jD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:QD.bind(null,i),r_:XD.bind(null,i),ta:YD.bind(null,i),na:$D.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await _f(i)):(await i.fa.stop(),i.Ta.length>0&&(le(_a,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class pg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new pg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(i,e){if(Ai("AsyncQueue",`${e}: ${i}`),Lo(i))return new fe(re.UNAVAILABLE,`${e}: ${i}`);throw i}class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Zl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class IE{constructor(){this.ga=new ft(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Do{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Do(e,n,xo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class WD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZD{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=DE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function DE(){return new Ta((i=>jT(i)),hf)}async function g1(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new WD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=gg(h,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&yg(n)}async function y1(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function eO(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&yg(n)}function tO(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function yg(i){i.Ca.forEach((e=>{e.next()}))}var yp,OE;(OE=yp||(yp={})).Ma="default",OE.Cache="cache";class _1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Do(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yp.Cache}}class v1{constructor(e){this.key=e}}class E1{constructor(e){this.key=e}}class nO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=PT(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new IE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const A=o.get(b),V=ff(this.query,T)?T:null,U=!!A&&this.mutatedKeys.has(A.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let j=!1;A&&V?A.data.isEqual(V.data)?U!==Q&&(s.track({type:3,doc:V}),j=!0):this.su(A,V)||(s.track({type:2,doc:V}),j=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!A&&V?(s.track({type:0,doc:V}),j=!0):A&&!V&&(s.track({type:1,doc:A}),j=!0,(p||g)&&(m=!0)),j&&(V?(h=h.add(V),u=Q?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,T)=>(function(V,U){const Q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:j})}};return Q(V)-Q(U)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Do(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new E1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new v1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _g="SyncEngine";class rO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class iO{constructor(e){this.key=e,this.hu=!1}}class sO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ta((m=>jT(m)),hf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ye.comparator),this.Au=new Map,this.Ru=new og,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aO(i,e,n=!0){const s=S1(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await b1(s,e,n,!0),o}async function oO(i,e){const n=S1(i);await b1(n,e,!0,!1)}async function b1(i,e,n,s){const o=await RD(i.localStore,qr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await lO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&c1(i.remoteStore,o),m}async function lO(i,e,n,s,o){i.pu=(T,A,V)=>(async function(Q,j,G,J){let Z=j.view.ru(G);Z.Cs&&(Z=await xE(Q.localStore,j.query,!1).then((({documents:C})=>j.view.ru(C,Z))));const he=J&&J.targetChanges.get(j.targetId),ve=J&&J.targetMismatches.get(j.targetId)!=null,ae=j.view.applyChanges(Z,Q.isPrimaryClient,he,ve);return kE(Q,j.targetId,ae.au),ae.snapshot})(i,T,A,V);const u=await xE(i.localStore,e,!0),h=new nO(e,u.Qs),m=h.ru(u.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);kE(i,n,g.au);const b=new rO(e,n,h);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function uO(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!hf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hg(s.remoteStore,o.targetId),_p(s,o.targetId)})).catch(Po)):(_p(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function cO(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hg(n.remoteStore,s.targetId))}async function hO(i,e,n){const s=_O(i);try{const o=await(function(h,m){const p=Ae(h),g=at.now(),b=m.reduce(((V,U)=>V.add(U.key)),Le());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let U=Si(),Q=Le();return p.Ns.getEntries(V,b).next((j=>{U=j,U.forEach(((G,J)=>{J.isValidDocument()||(Q=Q.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,U))).next((j=>{T=j;const G=[];for(const J of m){const Z=S4(J,T.get(J.key).overlayedDocument);Z!=null&&G.push(new Is(J.key,Z,NT(Z.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,G,m)})).next((j=>{A=j;const G=j.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(V,j.batchId,G)}))})).then((()=>({batchId:A.batchId,changes:UT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ft(Pe)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Ou(s,o.changes),await _f(s.remoteStore)}catch(o){const u=gg(o,"Failed to persist write");n.reject(u)}}async function T1(i,e){const n=Ae(i);try{const s=await xD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await Ou(n,s,e)}catch(s){await Po(s)}}function ME(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((b,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&yg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fO(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(ye.comparator);h=h.insert(u,rn.newNoDocument(u,we.min()));const m=Le().add(u),p=new pf(we.min(),new Map,new ft(Pe),h,m);await T1(s,p),s.du=s.du.remove(u),s.Au.delete(e),vg(s)}else await pp(s.localStore,e,!1).then((()=>_p(s,e,n))).catch(Po)}async function dO(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await wD(n.localStore,e);x1(n,s,null),w1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(n,o)}catch(o){await Po(o)}}async function mO(i,e,n){const s=Ae(i);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qe(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(s.localStore,e);x1(s,e,n),w1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ou(s,o)}catch(o){await Po(o)}}function w1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function x1(i,e,n){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function _p(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||A1(i,s)}))}function A1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(hg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),vg(i))}function kE(i,e,n){for(const s of n)s instanceof v1?(i.Ru.addReference(s.key,e),pO(i,s)):s instanceof E1?(le(_g,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||A1(i,s.key)):Ee(19791,{wu:s})}function pO(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(le(_g,"New document in limbo: "+n),i.Eu.add(s),vg(i))}function vg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(st.fromString(e)),s=i.fu.next();i.Au.set(s,new iO(n)),i.du=i.du.insert(n,s),c1(i.remoteStore,new ps(qr(tg(n.path)),s,"TargetPurposeLimboResolution",of.ce))}}async function Ou(i,e,n){const s=Ae(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=ug.As(p.targetId,g);u.push(b)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const b=Ae(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(A=>ne.forEach(A.Es,(V=>b.persistence.referenceDelegate.addReference(T,A.targetId,V))).next((()=>ne.forEach(A.ds,(V=>b.persistence.referenceDelegate.removeReference(T,A.targetId,V)))))))))}catch(T){if(!Lo(T))throw T;le(cg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const V=b.Ms.get(A),U=V.snapshotVersion,Q=V.withLastLimboFreeSnapshotVersion(U);b.Ms=b.Ms.insert(A,Q)}}})(s.localStore,u))}async function gO(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){le(_g,"User change. New user:",e.toKey());const s=await a1(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new fe(re.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(n,s.Ls)}}function yO(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function S1(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fO.bind(null,e),e.Pu.H_=eO.bind(null,e.eventManager),e.Pu.yu=tO.bind(null,e.eventManager),e}function _O(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mO.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TD(this.persistence,new vD,e.initialUser,this.serializer)}Cu(e){return new s1(lg.mi,this.serializer)}Du(e){return new ND}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class vO extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new s1((s=>Yh.mi(s,n)),this.serializer)}}class vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ME(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gO.bind(null,this.syncEngine),await JD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZD})()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),s=(function(u){return new kD(u)})(e.databaseInfo);return(function(u,h,m,p){return new LD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new zD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>ME(this.syncEngine,n,0)),(function(){return RE.v()?new RE:new ID})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,b){const T=new sO(o,u,h,m,p,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(_a,"RemoteStore shutting down."),s.Ea.add(5),await Du(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vp.provider={build:()=>new vp};class R1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ss="FirestoreClient";class EO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(Ss,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(Ss,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=gg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Hm(i,e){i.asyncQueue.verifyOperationInProgress(),le(Ss,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await a1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function VE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await bO(i);le(Ss,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>NE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>NE(e.remoteStore,o))),i._onlineComponents=e}async function bO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(Ss,"Using user provided OfflineComponentProvider");try{await Hm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Hm(i,new Xh)}}else le(Ss,"Using default OfflineComponentProvider"),await Hm(i,new vO(void 0));return i._offlineComponents}async function C1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(Ss,"Using user provided OnlineComponentProvider"),await VE(i,i._uninitializedComponentsProvider._online)):(le(Ss,"Using default OnlineComponentProvider"),await VE(i,new vp))),i._onlineComponents}function TO(i){return C1(i).then((e=>e.syncEngine))}async function N1(i){const e=await C1(i),n=e.eventManager;return n.onListen=aO.bind(null,e.syncEngine),n.onUnlisten=uO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cO.bind(null,e.syncEngine),n}function wO(i,e,n={}){const s=new Ei;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const b=new R1({next:A=>{b.Nu(),h.enqueueAndForget((()=>y1(u,T)));const V=A.docs.has(m);!V&&A.fromCache?g.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&p&&p.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new _1(tg(m.path),b,{includeMetadataChanges:!0,qa:!0});return g1(u,T)})(await N1(i),i.asyncQueue,e,n,s))),s.promise}function xO(i,e,n={}){const s=new Ei;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const b=new R1({next:A=>{b.Nu(),h.enqueueAndForget((()=>y1(u,T))),A.fromCache&&p.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new _1(m,b,{includeMetadataChanges:!0,qa:!0});return g1(u,T)})(await N1(i),i.asyncQueue,e,n,s))),s.promise}function I1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const jE=new Map;const D1="firestore.googleapis.com",PE=!0;class LE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D1,this.ssl=PE}else this.host=e.host,this.ssl=e.ssl??PE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nD)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new NI;switch(s.type){case"firstParty":return new MI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=jE.get(n);s&&(le("ComponentProvider","Removing Datastore"),jE.delete(n),s.terminate())})(this),Promise.resolve()}}function AO(i,e,n,s={}){i=hr(i,vf);const o=Cs(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Op(`https://${m}`),Mp("Firestore",!0)),u.host!==D1&&u.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!da(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,b;if(typeof s.mockUserToken=="string")g=s.mockUserToken,b=nn.MOCK_USER;else{g=Tb(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new nn(T)}i._authCredentials=new II(new yT(g,b))}}class Ef{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ef(this.firestore,e,this._query)}}class kt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cu(n,kt._jsonSchema))return new kt(e,s||null,new ye(st.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Mt("string",kt._jsonSchemaVersion),referencePath:Mt("string")};class vs extends Ef{constructor(e,n,s){super(e,n,tg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new ye(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function Ep(i,e,...n){if(i=ot(i),_T("collection","path",e),i instanceof vf){const s=st.fromString(e,...n);return Wv(s),new vs(i,null,s)}{if(!(i instanceof kt||i instanceof vs))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return Wv(s),new vs(i.firestore,null,s)}}function bn(i,e,...n){if(i=ot(i),arguments.length===1&&(e=Yp.newId()),_T("doc","path",e),i instanceof vf){const s=st.fromString(e,...n);return Jv(s),new kt(i,null,new ye(s))}{if(!(i instanceof kt||i instanceof vs))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return Jv(s),new kt(i.firestore,i instanceof vs?i.converter:null,new ye(s))}}const UE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l1(this,"async_queue_retry"),this._c=()=>{const s=qm();s&&le(UE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lo(e))throw e;le(UE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",BE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=pg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:BE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class xa extends vf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new zE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function SO(i,e){const n=typeof i=="object"?i:jp(),s=typeof i=="string"?i:Bh,o=nf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=vb("firestore");u&&AO(o,...u)}return o}function Eg(i){if(i._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||RO(i),i._firestoreClient}function RO(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new XI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,I1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new EO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Zt.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Mt("string",Qn._jsonSchemaVersion),bytes:Mt("string")};class bf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bg{constructor(e){this._methodName=e}}class Fr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:Mt("string",Fr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class Gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gr(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gr._jsonSchemaVersion="firestore/vectorValue/1.0",Gr._jsonSchema={type:Mt("string",Gr._jsonSchemaVersion),vectorValues:Mt("object")};const CO=/^__.*__$/;class NO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class O1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function M1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Tg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(M1(this.Ac)&&CO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gf(e)}Cc(e,n,s,o=!1){return new Tg({Ac:e,methodName:n,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wg(i){const e=i._freezeSettings(),n=gf(i._databaseId);return new IO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function k1(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);xg("Data must be an object, but it was:",h,s);const m=V1(s,h);let p,g;if(u.merge)p=new On(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const A=bp(e,T,n);if(!h.contains(A))throw new fe(re.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);P1(b,A)||b.push(A)}p=new On(b),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new NO(new En(m),p,g)}class Tf extends bg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function DO(i,e,n,s){const o=i.Cc(1,e,n);xg("Data must be an object, but it was:",o,s);const u=[],h=En.empty();Ns(s,((p,g)=>{const b=Ag(e,p,n);g=ot(g);const T=o.yc(b);if(g instanceof Tf)u.push(b);else{const A=wf(g,T);A!=null&&(u.push(b),h.set(b,A))}}));const m=new On(u);return new O1(h,m,o.fieldTransforms)}function OO(i,e,n,s,o,u){const h=i.Cc(1,e,n),m=[bp(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(bp(e,u[A])),p.push(u[A+1]);const g=[],b=En.empty();for(let A=m.length-1;A>=0;--A)if(!P1(g,m[A])){const V=m[A];let U=p[A];U=ot(U);const Q=h.yc(V);if(U instanceof Tf)g.push(V);else{const j=wf(U,Q);j!=null&&(g.push(V),b.set(V,j))}}const T=new On(g);return new O1(b,T,h.fieldTransforms)}function wf(i,e){if(j1(i=ot(i)))return xg("Unsupported field value:",e,i),V1(i,e);if(i instanceof bg)return(function(s,o){if(!M1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=wf(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return E4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof Fr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:JT(o.serializer,s._byteString)};if(s instanceof kt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gr)return(function(h,m){return{mapValue:{fields:{[RT]:{stringValue:CT},[qh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return ng(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$p(s)}`)})(i,e)}function V1(i,e){const n={};return bT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(i,((s,o)=>{const u=wf(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function j1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Fr||i instanceof Qn||i instanceof kt||i instanceof bg||i instanceof Gr)}function xg(i,e,n){if(!j1(n)||!vT(n)){const s=$p(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function bp(i,e,n){if((e=ot(e))instanceof bf)return e._internalPath;if(typeof e=="string")return Ag(i,e);throw Jh("Field path arguments must be of type string or ",i,!1,void 0,n)}const MO=new RegExp("[~\\*/\\[\\]]");function Ag(i,e,n){if(e.search(MO)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new bf(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new fe(re.INVALID_ARGUMENT,m+i+p)}function P1(i,e){return i.some((n=>n.isEqual(e)))}class L1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(U1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kO extends L1{data(){return super.data()}}function U1(i,e){return typeof e=="string"?Ag(i,e):e instanceof bf?e._internalPath:e._delegate._internalPath}function VO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jO{convertValue(e,n="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ns(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[qh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new Gr(n)}convertGeoPoint(e){return new Fr(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=uf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Qe(r1(s),9688,{name:e});const o=new gu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Ai(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function z1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends L1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(U1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Mt("string",ha._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Nh extends ha{data(e={}){return super.data(e)}}class Ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new tu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Nh(this._firestore,this._userDataWriter,s.key,s,new tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:PO(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}function Eu(i){i=hr(i,kt);const e=hr(i.firestore,xa);return wO(Eg(e),i._key).then((n=>UO(e,i,n)))}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Mt("string",Ao._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class B1 extends jO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function q1(i){i=hr(i,Ef);const e=hr(i.firestore,xa),n=Eg(e),s=new B1(e);return VO(i._query),xO(n,i._query).then((o=>new Ao(e,s,i,o)))}function Tp(i,e,n){i=hr(i,kt);const s=hr(i.firestore,xa),o=z1(i.converter,e);return xf(s,[k1(wg(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Yn.none())])}function Wh(i,e,n,...s){i=hr(i,kt);const o=hr(i.firestore,xa),u=wg(o);let h;return h=typeof(e=ot(e))=="string"||e instanceof bf?OO(u,"updateDoc",i._key,e,n,s):DO(u,"updateDoc",i._key,e),xf(o,[h.toMutation(i._key,Yn.exists(!0))])}function H1(i){return xf(hr(i.firestore,xa),[new rg(i._key,Yn.none())])}function LO(i,e){const n=hr(i.firestore,xa),s=bn(i),o=z1(i.converter,e);return xf(n,[k1(wg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then((()=>s))}function xf(i,e){return(function(s,o){const u=new Ei;return s.asyncQueue.enqueueAndForget((async()=>hO(await TO(s),o,u))),u.promise})(Eg(i),e)}function UO(i,e,n){const s=n.docs.get(e._key),o=new B1(i);return new ha(i,o,e._key,s,new tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){jo=o})(Ea),ma(new Es("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new xa(new DI(s.getProvider("auth-internal")),new kI(h,s.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,b)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),zr(Qv,Yv,e),zr(Qv,Yv,"esm2020")})();const F1="firebasestorage.googleapis.com",G1="storageBucket",zO=120*1e3,BO=600*1e3;class gt extends $r{constructor(e,n,s=0){super(Fm(e),`Firebase Storage: ${n} (${Fm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Fm(i){return"storage/"+i}function Sg(){const i="An unknown error occurred, please check the error payload for server response.";return new gt(pt.UNKNOWN,i)}function qO(i){return new gt(pt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function HO(i){return new gt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(pt.UNAUTHENTICATED,i)}function GO(){return new gt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KO(i){return new gt(pt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function QO(){return new gt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YO(){return new gt(pt.CANCELED,"User canceled the upload/download.")}function $O(i){return new gt(pt.INVALID_URL,"Invalid URL '"+i+"'.")}function XO(i){return new gt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function JO(){return new gt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G1+"' property when initializing the app?")}function WO(){return new gt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZO(){return new gt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eM(i){return new gt(pt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wp(i){return new gt(pt.INVALID_ARGUMENT,i)}function K1(){return new gt(pt.APP_DELETED,"The Firebase app was deleted.")}function tM(i){return new gt(pt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lu(i,e){return new gt(pt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Yl(i){throw new gt(pt.INTERNAL_ERROR,"Internal error: "+i)}class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(s.path==="")return s;throw XO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(he){he.path_=decodeURIComponent(he.path)}const b="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",V=new RegExp(`^https?://${T}/${b}/b/${o}/o${A}`,"i"),U={bucket:1,path:3},Q=n===F1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",G=new RegExp(`^https?://${Q}/${o}/${j}`,"i"),Z=[{regex:m,indices:p,postModify:u},{regex:V,indices:U,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let he=0;he<Z.length;he++){const ve=Z[he],ae=ve.regex.exec(e);if(ae){const C=ae[ve.indices.bucket];let S=ae[ve.indices.path];S||(S=""),s=new Mn(C,S),ve.postModify(s);break}}if(s==null)throw $O(e);return s}}class nM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function rM(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function b(...j){g||(g=!0,e.apply(null,j))}function T(j){o=setTimeout(()=>{o=null,i(V,p())},j)}function A(){u&&clearTimeout(u)}function V(j,...G){if(g){A();return}if(j){A(),b.call(null,j,...G);return}if(p()||h){A(),b.call(null,j,...G);return}s<64&&(s*=2);let Z;m===1?(m=2,Z=0):Z=(s+Math.random())*1e3,T(Z)}let U=!1;function Q(j){U||(U=!0,A(),!g&&(o!==null?(j||(m=2),clearTimeout(o),T(0)):j||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,Q(!0)},n),Q}function iM(i){i(!1)}function sM(i){return i!==void 0}function aM(i){return typeof i=="object"&&!Array.isArray(i)}function Rg(i){return typeof i=="string"||i instanceof String}function qE(i){return Cg()&&i instanceof Blob}function Cg(){return typeof Blob<"u"}function HE(i,e,n,s){if(s<e)throw wp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw wp(`Invalid value for '${i}'. Expected ${n} or less.`)}function Ng(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function Q1(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var fa;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(fa||(fa={}));function oM(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class lM{constructor(e,n,s,o,u,h,m,p,g,b,T,A=!0,V=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,Q)=>{this.resolve_=U,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new gh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===fa.NO_ERROR,p=u.getStatus();if(!m||oM(p,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===fa.ABORT;s(!1,new gh(!1,null,b));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new gh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());sM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Sg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?K1():YO();h(p)}else{const p=QO();h(p)}};this.canceled_?n(!1,new gh(!1,null,!0)):this.backoffId_=rM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function uM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function cM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function fM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function dM(i,e,n,s,o,u,h=!0,m=!1){const p=Q1(i.urlParams),g=i.url+p,b=Object.assign({},i.headers);return hM(b,e),uM(b,n),cM(b,u),fM(b,s),new lM(g,i.method,b,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function mM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pM(...i){const e=mM();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Cg())return new Blob(i);throw new gt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gM(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}function yM(i){if(typeof atob>"u")throw eM("base-64");return atob(i)}const Ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gm{constructor(e,n){this.data=e,this.contentType=n||null}}function _M(i,e){switch(i){case Ur.RAW:return new Gm(Y1(e));case Ur.BASE64:case Ur.BASE64URL:return new Gm($1(i,e));case Ur.DATA_URL:return new Gm(EM(e),bM(e))}throw Sg()}function Y1(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function vM(i){let e;try{e=decodeURIComponent(i)}catch{throw lu(Ur.DATA_URL,"Malformed data URL.")}return Y1(e)}function $1(i,e){switch(i){case Ur.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ur.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yM(e)}catch(o){throw o.message.includes("polyfill")?o:lu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class X1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lu(Ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=TM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function EM(i){const e=new X1(i);return e.base64?$1(Ur.BASE64,e.rest):vM(e.rest)}function bM(i){return new X1(i).contentType}function TM(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class ms{constructor(e,n){let s=0,o="";qE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(qE(this.data_)){const s=this.data_,o=gM(s,e,n);return o===null?null:new ms(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ms(s,!0)}}static getBlob(...e){if(Cg()){const n=e.map(s=>s instanceof ms?s.data_:s);return new ms(pM.apply(null,n))}else{const n=e.map(h=>Rg(h)?_M(Ur.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new ms(o,!0)}}uploadData(){return this.data_}}function J1(i){let e;try{e=JSON.parse(i)}catch{return null}return aM(e)?e:null}function wM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function xM(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function W1(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function AM(i,e){return e}class cn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||AM}}let yh=null;function SM(i){return!Rg(i)||i.length<2?i:W1(i)}function Z1(){if(yh)return yh;const i=[];i.push(new cn("bucket")),i.push(new cn("generation")),i.push(new cn("metageneration")),i.push(new cn("name","fullPath",!0));function e(u,h){return SM(h)}const n=new cn("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new cn("size");return o.xform=s,i.push(o),i.push(new cn("timeCreated")),i.push(new cn("updated")),i.push(new cn("md5Hash",null,!0)),i.push(new cn("cacheControl",null,!0)),i.push(new cn("contentDisposition",null,!0)),i.push(new cn("contentEncoding",null,!0)),i.push(new cn("contentLanguage",null,!0)),i.push(new cn("contentType",null,!0)),i.push(new cn("metadata","customMetadata",!0)),yh=i,yh}function RM(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Mn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function CM(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return RM(s,i),s}function ew(i,e,n){const s=J1(e);return s===null?null:CM(i,s,n)}function NM(i,e,n,s){const o=J1(e);if(o===null||!Rg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const b=i.bucket,T=i.fullPath,A="/b/"+h(b)+"/o/"+h(T),V=Ng(A,n,s),U=Q1({alt:"media",token:g});return V+U})[0]}function IM(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class tw{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function nw(i){if(!i)throw Sg()}function DM(i,e){function n(s,o){const u=ew(i,o,e);return nw(u!==null),u}return n}function OM(i,e){function n(s,o){const u=ew(i,o,e);return nw(u!==null),NM(u,o,i.host,i._protocol)}return n}function rw(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=GO():o=FO():n.getStatus()===402?o=HO(i.bucket):n.getStatus()===403?o=KO(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function MM(i){const e=rw(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=qO(i.path)),u.serverResponse=o.serverResponse,u}return n}function kM(i,e,n){const s=e.fullServerUrl(),o=Ng(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new tw(o,u,OM(i,n),h);return m.errorHandler=MM(e),m}function VM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function jM(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=VM(null,e)),s}function PM(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let Z="";for(let he=0;he<2;he++)Z=Z+Math.random().toString().slice(2);return Z}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=jM(e,s,o),b=IM(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",V=ms.getBlob(T,s,A);if(V===null)throw WO();const U={name:g.fullPath},Q=Ng(u,i.host,i._protocol),j="POST",G=i.maxUploadRetryTime,J=new tw(Q,j,DM(i,n),G);return J.urlParams=U,J.headers=h,J.body=V.uploadData(),J.errorHandler=rw(e),J}class LM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Yl("cannot .send() more than once");if(Cs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class UM extends LM{initXhr(){this.xhr_.responseType="text"}}function iw(){return new UM}class va{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new va(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W1(this._location.path)}get storage(){return this._service}get parent(){const e=wM(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new va(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tM(e)}}function zM(i,e,n){i._throwIfRoot("uploadBytes");const s=PM(i.storage,i._location,Z1(),new ms(e,!0),n);return i.storage.makeRequestWithTokens(s,iw).then(o=>({metadata:o,ref:i}))}function BM(i){i._throwIfRoot("getDownloadURL");const e=kM(i.storage,i._location,Z1());return i.storage.makeRequestWithTokens(e,iw).then(n=>{if(n===null)throw ZO();return n})}function qM(i,e){const n=xM(i._location.path,e),s=new Mn(i._location.bucket,n);return new va(i.storage,s)}function HM(i){return/^[A-Za-z]+:\/\//.test(i)}function FM(i,e){return new va(i,e)}function sw(i,e){if(i instanceof Ig){const n=i;if(n._bucket==null)throw JO();const s=new va(n,n._bucket);return e!=null?sw(s,e):s}else return e!==void 0?qM(i,e):i}function GM(i,e){if(e&&HM(e)){if(i instanceof Ig)return FM(i,e);throw wp("To use ref(service, url), the first argument must be a Storage instance.")}else return sw(i,e)}function FE(i,e){const n=e?.[G1];return n==null?null:Mn.makeFromBucketSpec(n,i)}function KM(i,e,n,s={}){i.host=`${e}:${n}`;const o=Cs(e);o&&(Op(`https://${i.host}/b`),Mp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:Tb(u,i.app.options.projectId))}class Ig{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=F1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zO,this._maxUploadRetryTime=BO,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=FE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=FE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new va(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new nM(K1());{const h=dM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const GE="@firebase/storage",KE="0.14.0";const aw="storage";function QM(i,e,n){return i=ot(i),zM(i,e,n)}function YM(i){return i=ot(i),BM(i)}function $M(i,e){return i=ot(i),GM(i,e)}function XM(i=jp(),e){i=ot(i);const s=nf(i,aw).getImmediate({identifier:e}),o=vb("storage");return o&&JM(s,...o),s}function JM(i,e,n,s={}){KM(i,e,n,s)}function WM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Ig(n,s,o,e,Ea)}function ZM(){ma(new Es(aw,WM,"PUBLIC").setMultipleInstances(!0)),zr(GE,KE,""),zr(GE,KE,"esm2020")}ZM();const e6={apiKey:"AIzaSyCem70AILpaNNyWWFJgEm5RzDDFxyOVJUA",authDomain:"norahub-2655f.firebaseapp.com",projectId:"norahub-2655f",storageBucket:"norahub-2655f.firebasestorage.app",messagingSenderId:"827808998482",appId:"1:827808998482:web:8c6d7aa175fa3aee1aeb8b"},Dg=Ab(e6),Ft=RI(Dg),sn=SO(Dg),t6=XM(Dg);function n6(){const i=mr();return z.useEffect(()=>{pi(Ft).catch(()=>{})},[]),_.jsxs("div",{className:"min-h-screen w-full flex flex-col font-[Inter] overflow-x-hidden relative bg-gray-50 transition-colors duration-200",children:[_.jsxs("header",{className:"relative w-full flex items-center justify-center py-6 px-8 border-b border-gray-200 h-20 bg-white transition-colors duration-200",children:[_.jsxs("button",{onClick:()=>i("/login"),className:"absolute left-4 md:left-8 flex items-center gap-2 text-gray-500 hover:text-[#57B952] transition-colors font-medium text-sm",children:[_.jsx(QS,{size:18})," ",_.jsx("span",{className:"hidden sm:inline",children:"Login Admin"})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:"/img/petrobras.jpg",alt:"Logo Petrobras",className:"h-8 md:h-10 w-auto object-contain"}),_.jsx("span",{className:"text-gray-300 text-2xl font-light",children:"|"}),_.jsx("img",{src:"/img/Normatel Engenharia_PRETO.png",alt:"Logo Normatel",className:"h-8 md:h-10 w-auto object-contain"})]})]}),_.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center p-4 md:p-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Bem-vindo ao Portal Integrado"}),_.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Selecione sua organizao para acessar os servios."})]}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-8 justify-center items-stretch w-full max-w-5xl",children:[_.jsxs(Ot,{to:"/tutoriais",className:"group relative w-full md:w-96 bg-gradient-to-br from-[#008542] to-[#005c2e] p-1 rounded-2xl shadow-xl hover:shadow-2xl transition-all transform hover:-translate-y-2 text-white overflow-hidden no-underline",children:[_.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity"}),_.jsxs("div",{className:"bg-[#008542] h-full rounded-xl p-8 flex flex-col items-center text-center relative z-10",children:[_.jsx("div",{className:"bg-white/20 p-6 rounded-full mb-6 group-hover:scale-110 transition-transform",children:_.jsx(HS,{size:48,className:"text-white"})}),_.jsx("h2",{className:"text-3xl font-bold mb-2 text-white",children:"Sou Petrobras"}),_.jsx("p",{className:"text-white/80 mb-8",children:"Acesso  base de conhecimento e tutoriais."}),_.jsxs("div",{className:"mt-auto flex items-center gap-2 font-bold bg-white/20 px-6 py-3 rounded-full group-hover:bg-white group-hover:text-[#008542] transition-colors",children:["Acessar Tutoriais ",_.jsx(pv,{size:20})]})]})]}),_.jsxs(Ot,{to:"/login",className:"group relative w-full md:w-96 bg-gradient-to-br from-[#57B952] to-[#3d8c38] p-1 rounded-2xl shadow-xl hover:shadow-2xl transition-all transform hover:-translate-y-2 text-white overflow-hidden text-left",children:[_.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity"}),_.jsxs("div",{className:"bg-[#57B952] h-full rounded-xl p-8 flex flex-col items-center text-center relative z-10",children:[_.jsx("div",{className:"bg-white/20 p-6 rounded-full mb-6 group-hover:scale-110 transition-transform",children:_.jsx(NS,{size:48,className:"text-white"})}),_.jsx("h2",{className:"text-3xl font-bold mb-2 text-white",children:"Sou Normatel"}),_.jsx("p",{className:"text-white/80 mb-8",children:"Gesto de compras e solicitaes por projeto."}),_.jsxs("div",{className:"mt-auto flex items-center gap-2 font-bold bg-white/20 px-6 py-3 rounded-full group-hover:bg-white group-hover:text-[#57B952] transition-colors",children:["Fazer Login ",_.jsx(pv,{size:20})]})]})]})]})]}),_.jsx("footer",{className:"w-full py-4 text-center text-gray-500 text-xs shrink-0 bg-white border-t border-gray-200 transition-colors duration-200",children:" 2025 Parceria Petrobras & Normatel Engenharia"})]})}const QE=[{id:1,titulo:"Guia de consulta de ativos via QR Code",descricao:"Guia para consultar ativos via QR CODE",categoria:"Fracttal",url:"/pdfs/Tutorial_QRCODEdefi.pdf",data:"23/10/2025"},{id:2,titulo:"Tutorial visualizar ativos",descricao:"Como visualizar ativos do fracttal.",categoria:"Fracttal",url:"/pdfs/TUTORIAL_ATIVOS.pdf",data:"23/10/2025"},{id:3,titulo:"Cadastro de usurio Fracttal",descricao:"Cadastro.",categoria:"Cadastro",url:"https://guestportal.fracttal.com/4755b525-8400-44dc-bea0-8dde3498b04d",data:"23/10/2025"},{id:4,titulo:"Painel Fracttal",descricao:"Fracttal",categoria:"EM BREVE",url:"",data:"30/10/2025"},{id:5,titulo:"Painel planejamento",descricao:"Planejamento",categoria:"EM BREVE",url:"",data:"30/10/2025"}];function r6(){const[i,e]=z.useState(""),[n,s]=z.useState("todos"),o=["todos",...new Set(QE.map(h=>h.categoria))].sort(),u=QE.filter(h=>{const m=n==="todos"||h.categoria.toLowerCase()===n.toLowerCase(),p=h.titulo.toLowerCase().includes(i.toLowerCase())||h.descricao.toLowerCase().includes(i.toLowerCase());return m&&p});return _.jsxs("div",{className:"min-h-screen w-full flex flex-col font-[Inter] overflow-x-hidden",children:[_.jsxs("div",{className:"container mx-auto px-4 py-6 md:p-8 max-w-7xl flex-grow",children:[_.jsxs("div",{className:"relative flex justify-center items-center border-b border-gray-200 pb-6 mb-8",children:[_.jsxs(Ot,{to:"/",className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center gap-2 bg-white text-gray-700 hover:bg-[#57B952] hover:text-white px-4 py-2 rounded-lg shadow-lg border border-gray-300 hover:border-[#57B952] transition-all duration-300 group",children:[_.jsx(Rs,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),_.jsx("span",{className:"hidden sm:inline font-semibold text-sm",children:"Voltar"})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:"/img/petrobras.jpg",alt:"Logo Petrobras",className:"h-8 md:h-10 w-auto object-contain"}),_.jsx("span",{className:"text-gray-300 text-2xl font-light",children:"|"}),_.jsx("img",{src:"/img/Normatel Engenharia_PRETO.png",alt:"Logo Normatel",className:"h-8 md:h-10 w-auto object-contain"})]})]}),_.jsxs("div",{className:"text-center md:text-left",children:[_.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Central de Tutoriais"}),_.jsx("p",{className:"text-gray-600 mt-2 mb-8 text-lg",children:"Encontre guias e manuais para todos os processos da equipe."})]}),_.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-4 mb-8 p-5 bg-white rounded-xl shadow-lg border border-gray-200",children:[_.jsxs("div",{className:"relative w-full lg:w-1/3",children:[_.jsx("input",{type:"text",placeholder:"O que voc procura?",className:"w-full pl-10 pr-4 py-3 bg-gray-100 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#57B952] focus:border-transparent transition-all",value:i,onChange:h=>e(h.target.value)}),_.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:_.jsx($m,{size:20})})]}),_.jsx("div",{className:"flex flex-wrap justify-center lg:justify-end gap-2 w-full lg:w-2/3",children:o.map(h=>_.jsx("button",{onClick:()=>s(h.toLowerCase()),className:`py-2 px-5 rounded-full text-sm font-semibold transition-all duration-200 ${n===h.toLowerCase()?"bg-[#57B952] text-white shadow-md transform scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})]}),_.jsx("main",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.length>0?u.map(h=>{const m=h.categoria.toLowerCase()==="em breve",p=h.categoria.toLowerCase()==="cadastro";return _.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl border border-gray-200",children:[_.jsxs("div",{className:"bg-white p-6 flex-grow relative group",children:[_.jsx("span",{className:`inline-block text-white text-[10px] font-bold tracking-wider uppercase px-2 py-1 rounded mb-3 ${m?"bg-gray-500":"bg-[#57B952]"}`,children:h.categoria}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-1",title:h.titulo,children:h.titulo}),_.jsx("p",{className:"text-gray-600 text-sm h-10 overflow-hidden line-clamp-2",children:h.descricao})]}),_.jsxs("div",{className:"p-5 bg-gray-50 border-t border-gray-200",children:[_.jsxs("p",{className:"text-xs text-gray-500 mb-4 flex items-center gap-1",children:[" Atualizado: ",h.data]}),_.jsx("div",{className:"flex gap-3",children:m?_.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center px-4 py-2 rounded-lg text-sm font-medium text-gray-500 bg-gray-200 cursor-not-allowed border border-gray-300 opacity-70",children:[_.jsx($S,{size:16,className:"mr-2"})," Em breve"]}):_.jsxs(_.Fragment,{children:[_.jsxs("a",{href:h.url,target:"_blank",rel:"noreferrer",className:`flex-1 flex items-center justify-center px-4 py-2 rounded-lg text-sm font-bold text-white bg-[#57B952] hover:bg-green-600 transition-colors shadow-sm ${p?"w-full":""}`,children:[_.jsx(Ym,{size:16,className:"mr-2"})," Abrir"]}),!p&&_.jsxs("a",{href:h.url,download:!0,className:"flex-1 flex items-center justify-center px-4 py-2 rounded-lg text-sm font-bold text-gray-700 bg-white hover:bg-gray-100 transition-colors border border-gray-300",children:[_.jsx(US,{size:16,className:"mr-2"})," Baixar"]})]})})]})]},h.id)}):_.jsxs("div",{className:"col-span-full text-center py-20",children:[_.jsx("div",{className:"bg-gray-200 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:_.jsx($m,{size:32,className:"text-gray-400"})}),_.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Nenhum tutorial encontrado"}),_.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Tente buscar por outro termo ou mude o filtro."})]})})]}),_.jsx("footer",{className:"w-full bg-[#57B952] py-4 mt-auto shadow-inner",children:_.jsx("div",{className:"container mx-auto text-center",children:_.jsx("p",{className:"text-white text-lg font-medium tracking-wide",children:"Ns fazemos acontecer."})})})]})}const i6={theme:"light",setTheme:()=>null},ow=z.createContext(i6);function s6({children:i,...e}){const n="light";z.useEffect(()=>{const o=window.document.documentElement,u=()=>{o.classList.remove("dark"),o.classList.add("light");try{localStorage.setItem("vite-ui-theme","light")}catch{}};u();const h=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),m=p=>{u()};return h&&(typeof h.addEventListener=="function"?h.addEventListener("change",m):typeof h.addListener=="function"&&h.addListener(m)),()=>{h&&(typeof h.removeEventListener=="function"?h.removeEventListener("change",m):typeof h.removeListener=="function"&&h.removeListener(m))}},[]);const s={theme:n,setTheme:()=>null};return _.jsx(ow.Provider,{...e,value:s,children:i})}const Ni=()=>{const i=z.useContext(ow);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i},lw=z.createContext(),zo=()=>z.useContext(lw);function a6({children:i}){const[e,n]=z.useState(null),[s,o]=z.useState(null),[u,h]=z.useState(!0);z.useEffect(()=>{pN(Ft,Zb).then(()=>{const p=_N(Ft,async g=>{if(g){n(g);try{const b=bn(sn,"users",g.uid),T=await Eu(b);T.exists()&&o(T.data())}catch(b){console.error("Erro ao buscar perfil:",b)}}else n(null),o(null);h(!1)});return()=>p()}).catch(p=>{console.error("Erro na persistncia:",p),h(!1)})},[]);const m={currentUser:e,userProfile:s,loading:u};return _.jsx(lw.Provider,{value:m,children:!u&&i})}function Af({message:i,type:e,onClose:n}){z.useEffect(()=>{const h=setTimeout(()=>{n()},5e3);return()=>clearTimeout(h)},[n]);const s=e==="success";return _.jsxs("div",{className:`fixed top-4 right-4 z-[100] flex items-center p-4 rounded-lg border-l-4 shadow-xl transition-all duration-500 transform translate-y-0 animate-fade-in ${s?"bg-green-50 border-green-500 text-green-800":"bg-red-50 border-red-500 text-red-800"} max-w-sm w-full`,children:[_.jsx("div",{className:"flex-shrink-0",children:s?_.jsx(cu,{className:`w-6 h-6 ${s?"text-green-500":"text-red-500"}`}):_.jsx(kS,{className:`w-6 h-6 ${s?"text-green-500":"text-red-500"}`})}),_.jsxs("div",{className:"ml-3 flex-1",children:[_.jsx("p",{className:"text-sm font-medium",children:s?"Sucesso!":"Ateno"}),_.jsx("p",{className:"text-sm opacity-90 mt-1",children:i})]}),_.jsx("button",{onClick:n,className:`ml-4 inline-flex flex-shrink-0 justify-center items-center h-5 w-5 rounded-md hover:opacity-50 focus:outline-none ${s?"text-green-800":"text-red-800"}`,children:_.jsx(mb,{size:16})})]})}function o6(){const{theme:i}=Ni(),{currentUser:e,userProfile:n,loading:s}=zo(),o=mr();dr();const[u,h]=z.useState(""),[m,p]=z.useState(""),[g,b]=z.useState(!1),[T,A]=z.useState(null);z.useEffect(()=>{if(!s&&e&&n){if(n.statusAcesso==="pendente")return;o("/selecao-projeto")}},[s,e,n,o]);const V=async j=>{const G=j.providerData?.[0]?.email,J=j.email||G||null;if(j.providerData[0]?.providerId==="microsoft.com"){if(!J)throw await pi(Ft),new Error("email-indisponivel");if(!J.endsWith("@normatel.com.br"))throw await pi(Ft),new Error("dominio-invalido")}const Z=await Eu(bn(sn,"users",j.uid));if(Z.exists()){if(Z.data().statusAcesso==="pendente"){if(j.providerData[0]?.providerId==="microsoft.com"){await Wh(bn(sn,"users",j.uid),{statusAcesso:"ativo"}),o("/selecao-projeto");return}throw await pi(Ft),new Error("pendente")}o("/selecao-projeto")}else await Tp(bn(sn,"users",j.uid),{nome:j.displayName||"Usurio Microsoft",email:J,cargo:"Colaborador",funcao:"solicitante",statusAcesso:"ativo",uid:j.uid,createdAt:new Date}),o("/selecao-projeto")},U=async j=>{if(j.preventDefault(),b(!0),A(null),!u.endsWith("@normatel.com.br")){A({message:"Use email corporativo.",type:"error"}),b(!1);return}try{const G=await cN(Ft,u,m),J=await Eu(bn(sn,"users",G.user.uid));if(J.exists()){if(J.data().statusAcesso==="pendente")throw await pi(Ft),new Error("pendente")}else throw await pi(Ft),new Error("sem-perfil")}catch(G){console.error("Erro:",G),G.message==="pendente"?A({message:"Conta em anlise. Aguarde aprovao.",type:"error"}):G.message==="sem-perfil"?A({message:"Perfil no encontrado.",type:"error"}):A({message:"Email ou senha incorretos.",type:"error"})}finally{b(!1)}},Q=async()=>{b(!0),A(null);const j=new wo("microsoft.com");j.setCustomParameters({prompt:"select_account"});try{const G=await lT(Ft,j);await V(G.user)}catch(G){if(console.error("Erro Microsoft:",G),G?.message==="dominio-invalido")A({message:"Acesso restrito a @normatel.com.br",type:"error"});else if(G?.message==="email-indisponivel")A({message:"A Microsoft no retornou seu e-mail. Verifique as permisses da conta.",type:"error"});else if(G?.message==="pendente")A({message:"Conta em anlise.",type:"error"});else if(G?.code==="auth/account-exists-with-different-credential")A({message:"E-mail j existe com senha.",type:"warning"});else if(G?.code==="auth/popup-closed-by-user")A({message:"Login cancelado.",type:"error"});else{const J=G?.code||G?.message||"Erro desconhecido.";A({message:`Erro: ${J}`,type:"error"})}}finally{b(!1)}};return s?_.jsx("div",{className:"min-h-screen w-full flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#57B952]"})}):_.jsxs("div",{className:"min-h-screen w-full flex flex-col font-[Inter] overflow-x-hidden relative bg-gray-50 transition-colors duration-200",children:[T&&_.jsx(Af,{message:T.message,type:T.type,onClose:()=>A(null)}),_.jsxs("header",{className:"relative w-full flex items-center justify-center py-6 px-8 border-b border-gray-200 h-20 bg-white",children:[_.jsxs("button",{onClick:()=>o("/"),className:"absolute left-4 md:left-8 flex items-center gap-2 text-gray-500 hover:text-[#57B952] transition-colors font-medium text-sm",children:[_.jsx(Rs,{size:18})," ",_.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]}),_.jsx("img",{src:"/img/Normatel Engenharia_PRETO.png",alt:"Logo",className:"h-10 w-auto object-contain"})]}),_.jsx("main",{className:"flex-grow flex flex-col items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-sm bg-white p-8 rounded-xl shadow-2xl border border-gray-200",children:[_.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"Acessar Sistema"}),_.jsxs("button",{type:"button",onClick:Q,disabled:g,className:"w-full flex items-center justify-center gap-3 bg-[#2F2F2F] hover:bg-[#1a1a1a] text-white font-medium py-3 px-4 rounded-md transition-colors mb-6 border border-gray-600",children:[_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",children:[_.jsx("path",{fill:"#f25022",d:"M1 1h9v9H1z"}),_.jsx("path",{fill:"#00a4ef",d:"M1 11h9v9H1z"}),_.jsx("path",{fill:"#7fba00",d:"M11 1h9v9h-9z"}),_.jsx("path",{fill:"#ffb900",d:"M11 11h9v9h-9z"})]}),"Entrar com Microsoft"]}),_.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[_.jsx("div",{className:"h-px bg-gray-300 flex-1"}),_.jsx("span",{className:"text-sm text-gray-500",children:"ou use seu e-mail"}),_.jsx("div",{className:"h-px bg-gray-300 flex-1"})]}),_.jsxs("form",{onSubmit:U,children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),_.jsx("input",{type:"email",value:u,onChange:j=>h(j.target.value),className:"w-full pl-4 py-2 bg-gray-50 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#57B952]",placeholder:"seu.nome@normatel.com.br",required:!0})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Senha"}),_.jsx("input",{type:"password",value:m,onChange:j=>p(j.target.value),className:"w-full pl-4 py-2 bg-gray-50 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#57B952]",placeholder:"",required:!0})]}),_.jsx("button",{type:"submit",disabled:g,className:"w-full bg-[#57B952] text-white font-bold py-2 rounded-md hover:bg-green-600 transition-colors disabled:opacity-50",children:g?"...":"Entrar"})]}),_.jsxs("div",{className:"mt-8 space-y-4",children:[_.jsx(Ot,{to:"/esqueceu-senha",className:"block text-center text-sm font-medium text-[#57B952] hover:text-green-700 hover:underline transition-colors",children:"Esqueceu sua senha?"}),_.jsxs("div",{className:"relative flex py-2 items-center",children:[_.jsx("div",{className:"flex-grow border-t border-gray-200"}),_.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-400 text-xs uppercase tracking-wider",children:"Novo por aqui?"}),_.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),_.jsx(Ot,{to:"/cadastro",className:"flex items-center justify-center w-full py-2 px-4 border-2 border-[#57B952] text-[#57B952] rounded-lg font-bold hover:bg-[#57B952] hover:text-white transition-all text-sm",children:"Criar Nova Conta"})]})]})}),_.jsx("footer",{className:"w-full py-4 text-center text-gray-500 text-xs shrink-0 bg-white border-t border-gray-200",children:" 2025 Normatel Engenharia"})]})}function l6(){const{theme:i}=Ni(),e=i==="dark",n=mr(),{currentUser:s}=zo(),[o,u]=z.useState(""),[h,m]=z.useState(""),[p,g]=z.useState(""),[b,T]=z.useState(""),[A,V]=z.useState(""),[U,Q]=z.useState(""),[j,G]=z.useState(!1),[J,Z]=z.useState(null);z.useEffect(()=>{s&&pi(Ft).catch(()=>{})},[s]);const he=async ae=>{if(ae.preventDefault(),G(!0),Z(null),!h){Z({message:"O campo e-mail  obrigatrio.",type:"error"}),G(!1);return}try{const C=await uN(Ft,h,p);await Tp(bn(sn,"users",C.user.uid),{nome:o,email:h,cpfMatricula:b,cargo:A,funcao:U,statusAcesso:"pendente",uid:C.user.uid,createdAt:new Date}),Z({message:"Solicitado! Aguarde aprovao.",type:"success"}),setTimeout(()=>{n("/login")},3e3)}catch(C){console.error("Erro:",C);let S="Erro ao criar conta.";C.code==="auth/email-already-in-use"&&(S="Este e-mail j est cadastrado."),C.code==="auth/weak-password"&&(S="A senha deve ter pelo menos 6 caracteres."),C.code==="auth/invalid-email"&&(S="O e-mail  invlido."),Z({message:S,type:"error"})}finally{G(!1)}},ve=async()=>{G(!0),Z(null);const ae=new wo("microsoft.com");ae.addScope("email"),ae.addScope("openid"),ae.addScope("profile"),ae.setCustomParameters({prompt:"select_account"});try{const S=(await lT(Ft,ae)).user,R=S.email||S.providerData[0]?.email;if(!R)throw S&&await S.delete().catch(()=>{}),await pi(Ft),new Error("email-indisponivel");const D=bn(sn,"users",S.uid);(await Eu(D)).exists()?(Z({message:"Conta j existe! Faa Login.",type:"warning"}),setTimeout(()=>n("/login"),2e3)):(await Tp(D,{nome:S.displayName||"Usurio Microsoft",email:R,cpfMatricula:"",cargo:"Colaborador",funcao:"solicitante",statusAcesso:"ativo",fotoURL:S.photoURL||null,uid:S.uid,createdAt:new Date}),Z({message:"Cadastro realizado! Redirecionando...",type:"success"}),setTimeout(()=>n("/selecao-projeto"),1500))}catch(C){console.error("Erro Microsoft:",C),C.message==="email-indisponivel"?Z({message:"A Microsoft no forneceu seu e-mail. Verifique as permisses da conta.",type:"error"}):C.code==="auth/invalid-credential"?Z({message:"Credenciais invlidas. Verifique o Client Secret.",type:"error"}):C.code==="auth/account-exists-with-different-credential"?Z({message:"E-mail j cadastrado com senha. Faa login normal.",type:"warning"}):Z({message:"Erro no cadastro.",type:"error"})}finally{G(!1)}};return _.jsxs("div",{className:"min-h-screen w-full flex flex-col font-[Inter] overflow-x-hidden relative bg-gray-50 transition-colors duration-200 text-black",children:[J&&_.jsx(Af,{message:J.message,type:J.type,onClose:()=>Z(null)}),_.jsxs("header",{className:"relative w-full flex items-center justify-center py-6 px-8 border-b border-gray-200 h-20 bg-white",children:[_.jsxs("button",{onClick:()=>n("/"),className:"absolute left-4 md:left-8 flex items-center gap-2 text-gray-500 hover:text-[#57B952] transition-colors font-medium text-sm",children:[_.jsx(Rs,{size:18})," ",_.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]}),_.jsx("img",{src:e?"/img/Normatel Engenharia_BRANCO.png":"/img/Normatel Engenharia_PRETO.png",alt:"Logo",className:"h-10 w-auto object-contain"})]}),_.jsx("main",{className:"flex-grow flex flex-col items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-lg bg-white p-8 rounded-xl shadow-2xl border border-gray-200",children:[_.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:"Criar Conta"}),_.jsxs("button",{type:"button",onClick:ve,disabled:j,className:"w-full flex items-center justify-center gap-3 bg-[#2F2F2F] hover:bg-[#1a1a1a] text-white font-medium py-3 px-4 rounded-md transition-colors mb-6 border border-gray-600",children:[_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",children:[_.jsx("path",{fill:"#f25022",d:"M1 1h9v9H1z"}),_.jsx("path",{fill:"#00a4ef",d:"M1 11h9v9H1z"}),_.jsx("path",{fill:"#7fba00",d:"M11 1h9v9h-9z"}),_.jsx("path",{fill:"#ffb900",d:"M11 11h9v9h-9z"})]}),"Cadastrar com Microsoft"]}),_.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[_.jsx("div",{className:"h-px bg-gray-300 flex-1"}),_.jsx("span",{className:"text-sm text-gray-500",children:"ou manual"}),_.jsx("div",{className:"h-px bg-gray-300 flex-1"})]}),_.jsxs("form",{onSubmit:he,children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 text-gray-300",children:"Nome"}),_.jsx("input",{type:"text",value:o,onChange:ae=>u(ae.target.value),className:"w-full pl-4 py-2 bg-gray-50 bg-gray-700 border border-gray-300 border-gray-600 rounded-md focus:ring-2 focus:ring-[#57B952] placeholder-gray-400 placeholder-gray-500",placeholder:"Ex: Joo Silva",required:!0})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome"}),_.jsx("input",{type:"text",value:o,onChange:ae=>u(ae.target.value),className:"w-full pl-4 py-2 bg-gray-50 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#57B952] placeholder-gray-400",placeholder:"Ex: Joo Silva",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 text-gray-300",children:"Email"}),_.jsx("input",{type:"email",value:h,onChange:ae=>m(ae.target.value),className:"w-full pl-4 py-2 bg-gray-50 bg-gray-700 border border-gray-300 border-gray-600 rounded-md focus:ring-2 focus:ring-[#57B952] placeholder-gray-400 placeholder-gray-500",placeholder:"email@exemplo.com",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),_.jsx("input",{type:"email",value:h,onChange:ae=>m(ae.target.value),className:"w-full pl-4 py-2 bg-gray-50 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#57B952] placeholder-gray-400",placeholder:"email@exemplo.com",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 text-gray-300",children:"Senha"}),_.jsx("input",{type:"password",value:p,onChange:ae=>g(ae.target.value),className:"w-full pl-4 py-2 bg-gray-50 bg-gray-700 border border-gray-300 border-gray-600 rounded-md focus:ring-2 focus:ring-[#57B952] placeholder-gray-400 placeholder-gray-500",placeholder:"******",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Senha"}),_.jsx("input",{type:"password",value:p,onChange:ae=>g(ae.target.value),className:"w-full pl-4 py-2 bg-gray-50 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#57B952] placeholder-gray-400",placeholder:"******",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 text-gray-300",children:"CPF"}),_.jsx("input",{type:"text",value:b,onChange:ae=>T(ae.target.value),className:"w-full pl-4 py-2 bg-gray-50 bg-gray-700 border border-gray-300 border-gray-600 rounded-md focus:ring-2 focus:ring-[#57B952] placeholder-gray-400 placeholder-gray-500",placeholder:"000.000.000-00",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CPF"}),_.jsx("input",{type:"text",value:b,onChange:ae=>T(ae.target.value),className:"w-full pl-4 py-2 bg-gray-50 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#57B952] placeholder-gray-400",placeholder:"000.000.000-00",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 text-gray-300",children:"Cargo"}),_.jsx("input",{type:"text",value:A,onChange:ae=>V(ae.target.value),className:"w-full pl-4 py-2 bg-gray-50 bg-gray-700 border border-gray-300 border-gray-600 rounded-md focus:ring-2 focus:ring-[#57B952] placeholder-gray-400 placeholder-gray-500",placeholder:"Ex: Analista",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cargo"}),_.jsx("input",{type:"text",value:A,onChange:ae=>V(ae.target.value),className:"w-full pl-4 py-2 bg-gray-50 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#57B952] placeholder-gray-400",placeholder:"Ex: Analista",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 text-gray-300",children:"Perfil"}),_.jsxs("select",{value:U,onChange:ae=>Q(ae.target.value),className:"w-full pl-4 py-2 bg-white bg-gray-700 text-gray-900 text-white border border-gray-300 border-gray-600 rounded-md focus:ring-2 focus:ring-[#57B952] cursor-pointer",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Selecione..."}),_.jsx("option",{value:"comprador",children:"Comprador"}),_.jsx("option",{value:"solicitante",children:"Solicitante"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Perfil"}),_.jsxs("select",{value:U,onChange:ae=>Q(ae.target.value),className:"w-full pl-4 py-2 bg-white text-gray-900 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#57B952] cursor-pointer",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Selecione..."}),_.jsx("option",{value:"comprador",children:"Comprador"}),_.jsx("option",{value:"solicitante",children:"Solicitante"})]})]})]}),_.jsx("button",{type:"submit",disabled:j,className:"w-full bg-[#57B952] text-white font-bold py-2 mt-6 rounded-md hover:bg-green-600 transition-colors disabled:opacity-50",children:j?"...":"Cadastrar"})]}),_.jsx("div",{className:"text-center mt-6 text-sm",children:_.jsx(Ot,{to:"/login",className:"text-gray-500 hover:text-[#57B952]",children:"J tem conta? Fazer Login"})})]})}),_.jsx("footer",{className:"w-full py-4 text-center text-gray-500 text-xs shrink-0 bg-white border-t border-gray-200",children:" 2025 Normatel Engenharia"})]})}function u6(){const{theme:i}=Ni(),[e,n]=z.useState(""),[s,o]=z.useState(!1),[u,h]=z.useState(!1),m=async p=>{p.preventDefault(),o(!0),h(!1);try{const g={url:window.location.origin+"/login",handleCodeInApp:!0};await lN(Ft,e,g),h(!0),n("")}catch(g){console.error("Erro ao recuperar senha:",g);let b="Erro ao enviar e-mail. Tente novamente.";g.code==="auth/user-not-found"?b="Este e-mail no est cadastrado.":g.code==="auth/invalid-email"?b="E-mail invlido.":g.code==="auth/too-many-requests"&&(b="Muitas tentativas. Aguarde um pouco."),alert(b)}finally{o(!1)}};return _.jsxs("div",{className:"min-h-screen w-full flex flex-col font-[Inter] overflow-x-hidden",children:[_.jsx("header",{className:"w-full flex justify-center py-8 md:py-12 shrink-0",children:_.jsx(Ot,{to:"/",children:_.jsx("img",{src:"/img/Normatel Engenharia_PRETO.png",alt:"Logo Normatel",className:"w-40 md:w-48 h-auto object-contain"})})}),_.jsx("main",{className:"flex-grow flex flex-col items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-sm bg-white p-8 rounded-xl shadow-2xl border border-gray-200",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Recuperar Senha"}),!u&&_.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Digite seu e-mail para enviarmos o link de recuperao."})]}),u?_.jsxs("div",{className:"flex flex-col items-center text-center animate-fade-in",children:[_.jsx("div",{className:"bg-green-100 p-4 rounded-full mb-4",children:_.jsx(cu,{size:48,className:"text-green-600"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"E-mail Enviado!"}),_.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-6 w-full",children:[_.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-700 font-semibold mb-1",children:[_.jsx(fb,{size:18}),_.jsx("span",{children:"Ateno"})]}),_.jsxs("p",{className:"text-sm text-yellow-800",children:["Verifique sua pasta de ",_.jsx("strong",{children:"Spam"})," ou ",_.jsx("strong",{children:"Lixo Eletrnico"}),"."]})]}),_.jsx("button",{onClick:()=>h(!1),className:"text-[#57B952] hover:underline font-medium mb-4",children:"Tentar outro e-mail"}),_.jsx(Ot,{to:"/login",className:"w-full flex items-center justify-center gap-2 bg-[#57B952] text-white font-bold py-3 px-4 rounded-md hover:bg-green-600 transition-colors shadow-md",children:"Voltar para o Login"})]}):_.jsxs("form",{onSubmit:m,children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),_.jsxs("div",{className:"relative mt-1",children:[_.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:_.jsx(JS,{className:"h-5 w-5 text-gray-400"})}),_.jsx("input",{type:"email",id:"email",value:e,onChange:p=>n(p.target.value),placeholder:"seu.email@normatel.com.br",className:"w-full pl-10 pr-4 py-2 bg-gray-100 text-gray-900 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#57B952] focus:border-transparent",required:!0})]})]}),_.jsx("button",{type:"submit",disabled:s,className:"w-full flex items-center justify-center gap-2 bg-[#57B952] text-white font-bold py-3 px-4 rounded-md hover:bg-green-600 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Enviando...":_.jsxs(_.Fragment,{children:[_.jsx(l2,{size:20}),"Enviar Link"]})}),_.jsx("div",{className:"text-center mt-6 text-sm",children:_.jsxs(Ot,{to:"/login",className:"font-medium text-gray-600 text-gray-400 hover:text-[#57B952] hover:text-[#57B952] transition-colors flex items-center justify-center gap-1",children:[_.jsx(Rs,{size:16}),"Voltar para o Login"]})})]})]})}),_.jsx("footer",{className:"w-full py-4 text-center text-gray-500 text-xs shrink-0",children:" 2025 Normatel Engenharia"})]})}function c6(){const i=dr();mr();const e=i.state?.targetUrl,n="https://normatelce.sharepoint.com/:l:/s/Projeto743-FacilitiesMultiserviosCabinas/JACsQKjPAViPSbfkQUOC15tGARSUJt6NWklSnGKDPKx3DUA?nav=MjcyYzUzOTAtZTkzYi00Y2I1LTg1MDMtMDFkMWQwZmU1MGE4";return z.useEffect(()=>{e?window.location.href=e:window.location.href=n},[e]),_.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-white text-gray-500 font-[Inter]",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#57B952] mx-auto mb-4"}),_.jsx("p",{children:"Redirecionando para o SharePoint do Projeto..."})]})})}function h6(){const{theme:i}=Ni(),{currentUser:e,userProfile:n}=zo(),s=i==="dark",o=mr(),[u,h]=z.useState([]),[m,p]=z.useState(!0),g=n?.nome?.split(" ")[0]||e?.displayName?.split(" ")[0]||"Usurio",b=n?.fotoURL||e?.photoURL,T=n?.funcao==="admin",[A,V]=z.useState(!1),[U,Q]=z.useState(""),[j,G]=z.useState(""),[J,Z]=z.useState(""),[he,ve]=z.useState(!1);z.useEffect(()=>{ae()},[]);const ae=async()=>{try{const O=(await q1(Ep(sn,"projetos"))).docs.map(P=>({id:P.id,...P.data()}));h(O)}catch(D){console.error("Erro ao buscar projetos:",D)}finally{p(!1)}},C=async D=>{if(D.preventDefault(),!(!U||!j||!J)){ve(!0);try{await LO(Ep(sn,"projetos"),{nome:U,urlForms:j,urlSharePoint:J,descricao:"Base ativa",createdAt:new Date}),Q(""),G(""),Z(""),V(!1),ae()}catch{alert("Erro ao salvar projeto.")}finally{ve(!1)}}},S=async(D,O)=>{if(D.stopPropagation(),window.confirm("Tem certeza que deseja excluir esta base?"))try{await H1(bn(sn,"projetos",O)),h(P=>P.filter(N=>N.id!==O))}catch(P){console.error("Erro ao excluir:",P),alert("Erro ao excluir projeto.")}},R=D=>{o("/painel-projeto",{state:{projeto:D}})};return _.jsxs("div",{className:"min-h-screen w-full flex flex-col font-[Inter] overflow-x-hidden relative bg-gray-50 bg-[#111827] transition-colors duration-200 text-black",children:[_.jsxs("header",{className:"relative w-full flex items-center justify-center py-6 px-8 border-b border-gray-200 border-gray-700 h-20 bg-white bg-gray-800",children:[_.jsxs("button",{onClick:()=>o("/"),className:"absolute left-4 md:left-8 flex items-center gap-2 text-gray-500 hover:text-[#57B952] transition-colors font-medium text-sm",children:[_.jsx(Rs,{size:18})," ",_.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:"/img/petrobras.jpg",alt:"Logo Petrobras",className:"h-8 md:h-10 w-auto object-contain"}),_.jsx("span",{className:"text-gray-600 text-2xl font-light",children:"|"}),_.jsx("img",{src:s?"/img/Normatel Engenharia_BRANCO.png":"/img/Normatel Engenharia_PRETO.png",alt:"Logo Normatel",className:"h-8 md:h-10 w-auto object-contain"})]}),e&&_.jsxs("div",{className:"absolute right-4 md:right-8 flex items-center gap-3",children:[_.jsxs("span",{className:"text-sm font-medium text-gray-700 text-gray-200 hidden md:block",children:["Ol, ",g]}),_.jsx(Ot,{to:"/perfil",className:"w-10 h-10 rounded-full overflow-hidden border-2 border-gray-200 border-gray-600 hover:border-[#57B952] transition-all bg-gray-100 bg-gray-700 flex items-center justify-center",children:b?_.jsx("img",{src:b,alt:"Perfil",className:"w-full h-full object-cover"}):_.jsx(hu,{size:20,className:"text-gray-500 text-gray-400"})})]})]}),_.jsx("main",{className:"flex-grow flex flex-col items-center p-8",children:_.jsxs("div",{className:"w-full max-w-6xl",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-8 gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Seleo de Base"}),_.jsx("p",{className:"text-gray-500 mt-2",children:"Escolha o projeto para acessar o ambiente de trabalho."})]}),_.jsxs("div",{className:"flex gap-3",children:[T&&_.jsxs(Ot,{to:"/admin",className:"bg-purple-100 bg-purple-900/30 text-purple-700 text-purple-300 px-4 py-2 rounded-lg font-bold flex items-center gap-2 shadow transition-transform hover:scale-105 text-sm border border-purple-200 border-purple-800",children:[_.jsx(f2,{size:18})," rea Admin"]}),T&&_.jsxs("button",{onClick:()=>V(!0),className:"bg-[#57B952] hover:bg-green-600 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 shadow transition-transform hover:scale-105 text-sm",children:[_.jsx(r2,{size:18})," Novo Projeto"]})]})]}),m?_.jsx("div",{className:"text-center py-20 text-gray-500",children:"Carregando bases..."}):u.length===0?_.jsxs("div",{className:"text-center py-20 bg-white bg-gray-800 rounded-xl shadow border border-gray-200 border-gray-700",children:[_.jsx("p",{className:"text-gray-500 text-gray-400 mb-4",children:"Nenhuma base cadastrada ainda."}),T&&_.jsx("button",{onClick:()=>V(!0),className:"text-[#57B952] font-bold hover:underline",children:"+ Adicionar primeira base"})]}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(D=>_.jsxs("div",{onClick:()=>R(D),className:"group bg-white bg-gray-800 p-8 rounded-xl shadow-md hover:shadow-xl border border-gray-200 border-gray-700 text-left transition-all hover:-translate-y-1 flex flex-col h-full relative cursor-pointer",children:[T&&_.jsx("button",{onClick:O=>S(O,D.id),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 hover:bg-red-900/20 rounded-full transition-colors z-10",title:"Excluir Base",children:_.jsx(_2,{size:18})}),_.jsxs("div",{className:"flex items-start justify-between mb-4",children:[_.jsx("div",{className:"bg-green-100 bg-green-900/30 p-3 rounded-lg text-[#57B952]",children:_.jsx(RS,{size:24})}),_.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Base Ativa"})]}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-[#57B952] transition-colors",children:D.nome}),_.jsx("p",{className:"text-sm text-gray-500 mb-6 flex-grow",children:D.descricao||"Acesso ao portal."}),_.jsx("div",{className:"mt-auto w-full py-2 rounded-lg bg-gray-50 bg-green-600 text-center text-sm font-medium text-white text-gray-400 group-hover:bg-[#57B952] group-hover:text-white transition-colors",children:"Acessar Projeto"})]},D.id))})]})}),A&&_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:_.jsxs("div",{className:"bg-white bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-200 border-gray-700 animate-fade-in",children:[_.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 border-gray-700",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-900 text-white",children:"Adicionar Nova Base"}),_.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-red-500 transition-colors",children:_.jsx(mb,{size:20})})]}),_.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 text-gray-300 mb-1",children:"Nome do Projeto"}),_.jsx("input",{type:"text",placeholder:"Ex: Projeto 743 - Facilities",value:U,onChange:D=>Q(D.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-50 bg-gray-700 border border-gray-300 border-gray-600 text-gray-900 text-white focus:ring-2 focus:ring-[#57B952] outline-none",required:!0})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 text-gray-300 mb-1 flex items-center gap-2",children:[_.jsx(hb,{size:14})," Link do Forms (Solicitao)"]}),_.jsx("input",{type:"url",placeholder:"https://forms...",value:j,onChange:D=>G(D.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-50 bg-gray-700 border border-gray-300 border-gray-600 text-gray-900 text-white focus:ring-2 focus:ring-[#57B952] outline-none",required:!0})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 text-gray-300 mb-1 flex items-center gap-2",children:[_.jsx(c2,{size:14})," Link do SharePoint (Aprovao)"]}),_.jsx("input",{type:"url",placeholder:"https://sharepoint...",value:J,onChange:D=>Z(D.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-50 bg-gray-700 border border-gray-300 border-gray-600 text-gray-900 text-white focus:ring-2 focus:ring-[#57B952] outline-none",required:!0})]}),_.jsxs("div",{className:"pt-4 flex gap-3",children:[_.jsx("button",{type:"button",onClick:()=>V(!1),className:"flex-1 py-2 rounded-lg text-gray-600 text-gray-300 hover:bg-gray-100 hover:bg-gray-700 font-medium transition-colors",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:he,className:"flex-1 py-2 rounded-lg bg-[#57B952] hover:bg-green-600 text-white font-bold shadow-md transition-colors flex items-center justify-center gap-2 disabled:opacity-70",children:he?"Salvando...":_.jsxs(_.Fragment,{children:[_.jsx(s2,{size:18})," Salvar Base"]})})]})]})]})}),_.jsx("footer",{className:"w-full py-6 text-center text-gray-500 text-xs shrink-0 border-t border-gray-200 border-gray-800 bg-white bg-white",children:" 2025 Parceria Petrobras & Normatel Engenharia"})]})}function f6(){const{theme:i}=Ni(),{currentUser:e,userProfile:n}=zo(),s=i==="dark",o=mr(),h=dr().state?.projeto,m=n?.nome?.split(" ")[0]||e?.displayName?.split(" ")[0]||"Usurio",p=n?.fotoURL||e?.photoURL;if(!h)return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 bg-[#111827]",children:_.jsx("button",{onClick:()=>o("/selecao-projeto"),className:"text-[#57B952]",children:"Voltar para Seleo"})});const g=h.urlForms||h.url||"#",b=h.urlSharePoint||"https://normatelce.sharepoint.com/";return _.jsxs("div",{className:"min-h-screen w-full flex flex-col font-[Inter] overflow-x-hidden bg-gray-50 bg-[#111827] transition-colors duration-200",children:[_.jsxs("header",{className:"relative w-full flex items-center justify-center py-6 px-8 border-b border-gray-200 border-gray-700 h-20 bg-white bg-gray-800",children:[_.jsxs("button",{onClick:()=>o("/selecao-projeto"),className:"absolute left-4 md:left-8 flex items-center gap-2 text-gray-500 hover:text-[#57B952] transition-colors font-medium text-sm",children:[_.jsx(Rs,{size:18})," ",_.jsx("span",{className:"hidden sm:inline",children:"Trocar Projeto"})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:"/img/petrobras.jpg",alt:"Logo Petrobras",className:"h-8 md:h-10 w-auto object-contain"}),_.jsx("span",{className:"text-gray-300 text-gray-600 text-2xl font-light",children:"|"}),_.jsx("img",{src:s?"/img/Normatel Engenharia_BRANCO.png":"/img/Normatel Engenharia_PRETO.png",alt:"Logo Normatel",className:"h-8 md:h-10 w-auto object-contain"})]}),e&&_.jsxs("div",{className:"absolute right-4 md:right-8 flex items-center gap-3",children:[_.jsxs("span",{className:"text-sm font-medium text-gray-700 text-gray-200 hidden md:block",children:["Ol, ",m]}),_.jsx(Ot,{to:"/perfil",className:"w-10 h-10 rounded-full overflow-hidden border-2 border-gray-200 border-gray-600 hover:border-[#57B952] transition-all bg-gray-100 bg-gray-700 flex items-center justify-center",children:p?_.jsx("img",{src:p,alt:"Perfil",className:"w-full h-full object-cover"}):_.jsx(hu,{size:20,className:"text-gray-500 text-gray-400"})})]})]}),_.jsx("main",{className:"flex-grow flex flex-col items-center justify-center p-4 md:p-8",children:_.jsxs("div",{className:"w-full max-w-5xl",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-sm font-bold text-[#57B952] uppercase tracking-widest mb-2",children:"Ambiente de Trabalho"}),_.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-white",children:h.nome}),_.jsx("p",{className:"text-gray-500 text-gray-400 mt-2",children:"Selecione a operao desejada para esta base."})]}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-8 justify-center",children:[_.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"group bg-white bg-gray-800 p-10 rounded-2xl shadow-xl hover:shadow-2xl border border-gray-200 border-gray-700 flex flex-col items-center text-center transition-all transform hover:-translate-y-2 w-full md:w-1/2 cursor-pointer",children:[_.jsx("div",{className:"bg-green-100 bg-green-900/30 p-6 rounded-full mb-6 group-hover:scale-110 transition-transform text-green-600 text-green-400",children:_.jsx(hb,{size:48})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-white mb-3",children:"Nova Solicitao"}),_.jsxs("p",{className:"text-gray-500 text-gray-400 mb-6",children:["Preencher formulrio de requisio para ",h.nome,"."]}),_.jsxs("div",{className:"mt-auto flex items-center gap-2 bg-[#57B952] hover:bg-green-600 text-white px-6 py-2 rounded-full font-bold transition-colors shadow-md",children:["Acessar Formulrio ",_.jsx(Ym,{size:16})]})]}),_.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"group bg-white bg-gray-800 p-10 rounded-2xl shadow-xl hover:shadow-2xl border border-gray-200 border-gray-700 flex flex-col items-center text-center transition-all transform hover:-translate-y-2 w-full md:w-1/2 cursor-pointer",children:[_.jsx("div",{className:"bg-blue-100 bg-blue-900/30 p-6 rounded-full mb-6 group-hover:scale-110 transition-transform text-blue-600 text-blue-400",children:_.jsx(cu,{size:48})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-white mb-3",children:"Aprovao / Painel"}),_.jsx("p",{className:"text-gray-500 text-gray-400 mb-6",children:"Acessar lista de pedidos e aprovaes desta base."}),_.jsxs("div",{className:"mt-auto flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-bold transition-colors shadow-md",children:["Acessar Painel ",_.jsx(Ym,{size:16})]})]})]})]})}),_.jsx("footer",{className:"w-full py-6 text-center text-gray-500 text-xs shrink-0 border-t border-gray-200 border-gray-800 bg-white bg-gray-900",children:" 2025 Parceria Petrobras & Normatel Engenharia"})]})}function d6(){const{theme:i}=Ni();mr();const e=i==="dark",[n,s]=z.useState([]),[o,u]=z.useState(!0),[h,m]=z.useState(""),[p,g]=z.useState(null);z.useEffect(()=>{(async()=>{try{const j=(await q1(Ep(sn,"users"))).docs.map(G=>({id:G.id,...G.data()}));j.sort((G,J)=>G.statusAcesso==="pendente"?-1:1),s(j)}catch(Q){console.error("Erro:",Q),g({message:"Erro ao carregar usurios.",type:"error"})}finally{u(!1)}})()},[]);const b=async(U,Q)=>{try{const j=bn(sn,"users",U.id),G=Q||U.funcao;await Wh(j,{statusAcesso:"ativo",funcao:G}),s(J=>J.map(Z=>Z.id===U.id?{...Z,statusAcesso:"ativo",funcao:G}:Z)),g({message:`Usurio aprovado como ${G}!`,type:"success"})}catch{g({message:"Erro ao aprovar.",type:"error"})}},T=async U=>{if(window.confirm("Tem certeza que deseja recusar e remover este usurio?"))try{await H1(bn(sn,"users",U)),s(Q=>Q.filter(j=>j.id!==U)),g({message:"Usurio recusado e removido.",type:"success"})}catch{g({message:"Erro ao remover.",type:"error"})}},A=async(U,Q)=>{try{await Wh(bn(sn,"users",U),{funcao:Q}),s(j=>j.map(G=>G.id===U?{...G,funcao:Q}:G)),g({message:"Funo alterada.",type:"success"})}catch{g({message:"Erro ao alterar.",type:"error"})}},V=n.filter(U=>(U.nome?.toLowerCase()||"").includes(h.toLowerCase())||(U.email?.toLowerCase()||"").includes(h.toLowerCase()));return _.jsxs("div",{className:"min-h-screen w-full flex flex-col font-[Inter] overflow-x-hidden bg-gray-50 bg-[#111827] transition-colors duration-200 relative text-black",children:[p&&_.jsx(Af,{message:p.message,type:p.type,onClose:()=>g(null)}),_.jsxs("header",{className:"relative w-full flex items-center justify-center py-6 px-8 border-b border-gray-200 border-gray-700 h-20 bg-white bg-gray-800",children:[_.jsxs("div",{className:"absolute left-4 md:left-8 flex items-center gap-4",children:[_.jsxs(Ot,{to:"/selecao-projeto",className:"flex items-center gap-2 text-gray-500 hover:text-[#57B952] transition-colors",children:[_.jsx(Rs,{size:20}),_.jsx("span",{className:"hidden sm:inline font-medium",children:"Voltar"})]}),_.jsx("span",{className:"px-3 py-1 rounded-full bg-purple-100 bg-purple-900/30 text-purple-700 text-purple-300 text-xs font-bold uppercase tracking-wider border border-purple-200 border-purple-800",children:"Admin"})]}),_.jsx("div",{className:"flex items-center justify-center",children:_.jsx("img",{src:e?"/img/Normatel Engenharia_BRANCO.png":"/img/Normatel Engenharia_PRETO.png",alt:"Logo",className:"h-8 md:h-10 w-auto object-contain"})})]}),_.jsx("main",{className:"flex-grow flex flex-col items-center p-4 md:p-8",children:_.jsxs("div",{className:"w-full max-w-6xl",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-8 gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-800 text-white flex items-center gap-2",children:_.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[_.jsx(db,{className:"text-[#57B952]"})," Gesto de Usurios"]})}),_.jsx("p",{className:"text-gray-500 text-gray-400 mt-1",children:"Aprove cadastros pendentes e gerencie permisses."})]}),_.jsxs("div",{className:"relative w-full md:w-72",children:[_.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:_.jsx($m,{className:"h-5 w-5 text-gray-400"})}),_.jsx("input",{type:"text",placeholder:"Buscar usurio...",value:h,onChange:U=>m(U.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-[#57B952] outline-none shadow-sm placeholder-gray-400"})]})]}),_.jsx("div",{className:"bg-white bg-gray-800 rounded-xl shadow-lg border border-gray-200 border-gray-700 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-gray-50 bg-gray-700/50 border-b border-gray-200 border-gray-700",children:[_.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 text-gray-400 uppercase",children:"Status"}),_.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 text-gray-400 uppercase",children:"Usurio"}),_.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 text-gray-400 uppercase",children:"Cargo"}),_.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 text-gray-400 uppercase",children:"Email"}),_.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 text-gray-400 uppercase",children:"Aes / Permisso"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-100 divide-gray-700",children:o?_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"Carregando..."})}):V.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"Nenhum usurio encontrado."})}):V.map(U=>_.jsxs("tr",{className:`transition-colors ${U.statusAcesso==="pendente"?"bg-yellow-50 bg-yellow-900/10":"hover:bg-gray-50 hover:bg-gray-700/30"}`,children:[_.jsx("td",{className:"p-4",children:U.statusAcesso==="pendente"?_.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-yellow-100 text-yellow-800 text-xs font-bold border border-yellow-200",children:[_.jsx(fb,{size:12})," Pendente"]}):_.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-green-100 text-green-800 text-xs font-bold border border-green-200",children:[_.jsx(cu,{size:12})," Ativo"]})}),_.jsx("td",{className:"p-4 font-medium text-gray-900 text-white",children:U.nome}),_.jsx("td",{className:"p-4 font-medium text-gray-900",children:U.nome}),_.jsx("td",{className:"p-4 text-sm text-gray-600 text-gray-300",children:U.cargo||"-"}),_.jsx("td",{className:"p-4 text-sm text-gray-500 text-gray-400",children:U.email}),_.jsx("td",{className:"p-4 text-sm text-gray-500",children:U.email}),_.jsx("td",{className:"p-4",children:U.statusAcesso==="pendente"?_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("select",{defaultValue:U.funcao,id:`role-${U.id}`,className:"text-sm p-1 rounded border border-gray-300 border-gray-600 bg-white bg-gray-700 text-gray-900 text-white",children:[_.jsx("option",{value:"solicitante",children:"Solicitante"}),_.jsx("option",{value:"comprador",children:"Comprador"}),_.jsx("option",{value:"admin",children:"Admin"})]}),_.jsx("button",{onClick:()=>b(U,document.getElementById(`role-${U.id}`).value),className:"p-1.5 bg-green-500 text-white rounded hover:bg-green-600",title:"Aprovar",children:_.jsx(cu,{size:16})}),_.jsx("button",{onClick:()=>T(U.id),className:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600",title:"Recusar",children:_.jsx(PS,{size:16})})]}):_.jsx("div",{className:"relative w-40",children:_.jsxs("select",{value:U.funcao,onChange:Q=>A(U.id,Q.target.value),className:"w-full pl-2 pr-8 py-1 rounded-md text-sm border border-gray-300 border-gray-600 bg-transparent outline-none cursor-pointer text-gray-900 text-white",children:[_.jsx("option",{value:"solicitante",children:"Solicitante"}),_.jsx("option",{value:"comprador",children:"Comprador"}),_.jsx("option",{value:"admin",children:"Administrador"})]})})})]},U.id))})]})})})]})})]})}function m6(){const{theme:i,setTheme:e}=Ni(),n=[{name:"light",icon:g2,label:"Claro"},{name:"dark",icon:ZS,label:"Escuro"}];return _.jsx("div",{className:"fixed bottom-6 right-6 z-[90] group",children:_.jsxs("div",{className:"absolute bottom-0 right-0 bg-[#57B952] text-white p-3 rounded-full shadow-lg transition-all duration-300 group-hover:w-36 group-hover:h-14 w-12 h-12 flex items-center justify-end overflow-hidden",children:[_.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:_.jsx(t2,{size:24})}),_.jsx("div",{className:"flex items-center gap-2 mr-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100",children:n.map(s=>{const o=s.icon,u=i===s.name;return _.jsx("button",{onClick:()=>e(s.name),className:`p-1.5 rounded-full transition-all duration-200 ${u?"bg-white text-[#57B952] shadow-sm scale-110":"text-white/80 hover:bg-white/20 hover:text-white"}`,title:s.label,children:_.jsx(o,{size:18})},s.name)})})]})})}function p6(){const{theme:i}=Ni(),{userProfile:e}=zo();mr();const n=i==="dark"||i==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return _.jsxs("div",{className:"min-h-screen w-full flex flex-col font-[Inter] overflow-x-hidden bg-gray-50 bg-[#111827] relative",children:[_.jsx("div",{className:"relative z-50",children:_.jsx(m6,{})}),_.jsxs("header",{className:"relative w-full flex items-center justify-center py-6 px-8 bg-white bg-gray-800 shadow-sm border-b border-gray-200 border-gray-700 h-20",children:[_.jsx(Ot,{to:"/",className:"flex items-center justify-center",children:_.jsx("img",{src:n?"/img/Normatel Engenharia_BRANCO.png":"/img/Normatel Engenharia_PRETO.png",alt:"Logo",className:"h-8 w-auto object-contain"})}),_.jsx("div",{className:"absolute right-4 md:right-8 flex items-center gap-3 mr-16",children:_.jsx(Ot,{to:"/perfil",className:"w-10 h-10 rounded-full overflow-hidden border-2 border-gray-200 border-gray-600 hover:border-[#57B952] transition-all bg-gray-100 bg-gray-700 flex items-center justify-center",children:e?.fotoURL?_.jsx("img",{src:e.fotoURL,className:"w-full h-full object-cover"}):_.jsx(hu,{size:20,className:"text-gray-500 text-gray-400"})})})]}),_.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center p-4",children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-white mb-2",children:"Painel Administrativo"}),_.jsx("p",{className:"text-gray-500 text-gray-400 mb-12",children:"Selecione o mdulo:"}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-8 w-full max-w-4xl justify-center",children:[_.jsxs(Ot,{to:"/admin",className:"group bg-white bg-gray-800 p-10 rounded-2xl shadow-xl hover:shadow-2xl border border-gray-200 border-gray-700 flex flex-col items-center text-center transition-all transform hover:-translate-y-2 w-full md:w-1/2",children:[_.jsx("div",{className:"bg-purple-100 bg-purple-900/30 p-6 rounded-full mb-6 group-hover:scale-110 transition-transform",children:_.jsx(db,{size:48,className:"text-purple-600 text-purple-400"})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-white mb-3",children:"Gesto de Usurios"}),_.jsx("p",{className:"text-gray-500 text-gray-400",children:"Aprovar cadastros e gerenciar permisses."})]}),_.jsxs(Ot,{to:"/aprovacao-compras",className:"group bg-white bg-gray-800 p-10 rounded-2xl shadow-xl hover:shadow-2xl border border-gray-200 border-gray-700 flex flex-col items-center text-center transition-all transform hover:-translate-y-2 w-full md:w-1/2",children:[_.jsx("div",{className:"bg-green-100 bg-green-900/30 p-6 rounded-full mb-6 group-hover:scale-110 transition-transform",children:_.jsx(m2,{size:48,className:"text-green-600 text-green-400"})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-white mb-3",children:"Aprovao de Compras"}),_.jsx("p",{className:"text-gray-500 text-gray-400",children:"Aprovar e gerenciar pedidos de compra."})]})]})]}),_.jsx("footer",{className:"w-full py-6 text-center text-gray-500 text-xs shrink-0",children:" 2025 Normatel Engenharia"})]})}function g6(){return z.useEffect(()=>{window.location.href="https://normatelce.sharepoint.com/:l:/s/Projeto743-FacilitiesMultiserviosCabinas/JACsQKjPAViPSbfkQUOC15tGAd2cfqyNH50fZdhoUaX5HG0?e=AdKqXJ"},[]),_.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-white text-gray-500 font-[Inter]",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#57B952] mx-auto mb-4"}),_.jsx("p",{children:"Redirecionando para Login Microsoft..."})]})})}function y6(){const{theme:i}=Ni(),e=i==="dark",n=mr(),[s,o]=z.useState(""),[u,h]=z.useState(""),[m,p]=z.useState(""),[g,b]=z.useState(""),[T,A]=z.useState(""),[V,U]=z.useState(""),[Q,j]=z.useState(""),[G,J]=z.useState(null),[Z,he]=z.useState(null),[ve,ae]=z.useState(!0),[C,S]=z.useState(!1),[R,D]=z.useState(null);z.useEffect(()=>{(async()=>{const Te=Ft.currentUser;if(!Te){n("/login");return}o(Te.displayName||""),h(Te.email||"");let $=Te.photoURL;Te.displayName&&b(Te.displayName.split(" ")[0]);try{const ie=bn(sn,"users",Te.uid),me=await Eu(ie);if(me.exists()){const Ie=me.data();p(Ie.celular||""),!Te.displayName&&Ie.nome&&(o(Ie.nome),b(Ie.nome.split(" ")[0])),Ie.fotoURL&&($=Ie.fotoURL)}}catch(ie){console.error(ie)}J($),ae(!1)})()},[n]);const O=async()=>{await pi(Ft),n("/login")},P=async De=>{De.preventDefault(),S(!0),D(null);try{const Te=Ft.currentUser;let $=G;if(Z){const ie=$M(t6,`users/${Te.uid}/profile.jpg`);await QM(ie,Z),$=await YM(ie)}if((s!==Te.displayName||$&&$!==Te.photoURL)&&(await fN(Te,{displayName:s,photoURL:$}),b(s.split(" ")[0])),await Wh(bn(sn,"users",Te.uid),{nome:s,celular:m,fotoURL:$,updatedAt:new Date}),V){if(!T)throw new Error("senha-atual-vazia");if(V!==Q)throw new Error("senhas-nao-batem");if(V.length<6)throw new Error("senha-curta");const ie=ba.credential(Te.email,T);await aN(Te,ie),await dN(Te,V),A(""),U(""),j("")}D({message:"Perfil atualizado!",type:"success"}),he(null)}catch(Te){let $="Erro ao atualizar.";Te.message==="senha-atual-vazia"&&($="Digite a senha atual."),Te.message==="senhas-nao-batem"&&($="As senhas no conferem."),Te.code==="auth/wrong-password"&&($="Senha atual incorreta."),D({message:$,type:"error"})}finally{S(!1)}},N=De=>{const Te=De.target.files[0];Te&&(he(Te),J(URL.createObjectURL(Te)))};return ve?_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 bg-[#111827]",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#57B952]"})}):_.jsxs("div",{className:"min-h-screen w-full flex flex-col font-[Inter] overflow-x-hidden bg-gray-50 bg-[#111827] transition-colors duration-200 relative",children:[R&&_.jsx(Af,{message:R.message,type:R.type,onClose:()=>D(null)}),_.jsxs("header",{className:"relative w-full flex items-center justify-between py-6 px-4 md:px-8 bg-white bg-gray-800 shadow-sm border-b border-gray-200 border-gray-700 h-20",children:[_.jsxs("button",{onClick:()=>n(-1),className:"text-gray-500 hover:text-[#57B952] transition-colors font-medium text-sm flex items-center gap-1",children:[_.jsx(Rs,{size:18})," ",_.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]}),_.jsx(Ot,{to:"/",className:"flex items-center justify-center absolute left-1/2 transform -translate-x-1/2",children:_.jsx("img",{src:e?"/img/Normatel Engenharia_BRANCO.png":"/img/Normatel Engenharia_PRETO.png",alt:"Logo",className:"h-8 md:h-10 w-auto object-contain"})}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("span",{className:"text-sm font-medium text-gray-700 text-gray-200 hidden md:block",children:["Ol, ",g]}),_.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-[#57B952] bg-gray-200 bg-gray-700 flex items-center justify-center",children:G?_.jsx("img",{src:G,className:"w-full h-full object-cover"}):_.jsx(hu,{size:20,className:"text-gray-500 text-gray-400"})})]})]}),_.jsx("main",{className:"flex-grow flex flex-col items-center justify-start p-4 md:p-8 relative z-10",children:_.jsxs("div",{className:"w-full max-w-2xl bg-white bg-gray-800 rounded-2xl shadow-xl border border-gray-200 border-gray-700 overflow-hidden mb-10",children:[_.jsx("div",{className:"h-32 bg-gradient-to-r from-[#57B952] to-green-600 relative"}),_.jsxs("div",{className:"px-8 pb-8",children:[_.jsx("div",{className:"relative -mt-16 mb-6 flex justify-center",children:_.jsxs("div",{className:"w-32 h-32 rounded-full border-4 border-white border-gray-800 overflow-hidden bg-gray-200 bg-gray-700 flex items-center justify-center shadow-lg group relative",children:[G?_.jsx("img",{src:G,className:"w-full h-full object-cover"}):_.jsx(hu,{size:48,className:"text-gray-400"}),_.jsx("label",{htmlFor:"foto-upload",className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer text-white",children:_.jsx(DS,{size:24})}),_.jsx("input",{type:"file",id:"foto-upload",className:"hidden",accept:"image/*",onChange:N})]})}),_.jsx("h1",{className:"text-2xl font-bold text-center text-gray-900 text-white mb-1",children:s||"Usurio"}),_.jsx("p",{className:"text-sm text-center text-gray-500 text-gray-400 mb-8",children:u}),_.jsxs("form",{onSubmit:P,className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 text-gray-300 ml-1",children:"Nome"}),_.jsx("input",{type:"text",value:s,onChange:De=>o(De.target.value),className:"w-full pl-4 py-2 bg-gray-50 bg-gray-700 border border-gray-200 border-gray-600 rounded-lg placeholder-gray-400 placeholder-gray-500",placeholder:"Seu Nome"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 text-gray-300 ml-1",children:"Celular"}),_.jsx("input",{type:"tel",value:m,onChange:De=>p(De.target.value),className:"w-full pl-4 py-2 bg-gray-50 bg-gray-700 border border-gray-200 border-gray-600 rounded-lg placeholder-gray-400 placeholder-gray-500",placeholder:"(00) 00000-0000"})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 text-gray-300 ml-1",children:"Email"}),_.jsx("input",{type:"email",value:u,disabled:!0,className:"w-full pl-4 py-2 bg-gray-100 bg-gray-900/50 border border-gray-200 border-gray-600 rounded-lg text-gray-500 cursor-not-allowed"})]})]}),_.jsxs("div",{className:"md:col-span-2 pt-6 border-t border-gray-100 border-gray-700",children:[_.jsxs("h3",{className:"text-sm font-bold text-gray-900 text-white mb-4 flex items-center gap-2",children:[_.jsx(GS,{size:18,className:"text-[#57B952]"})," Alterar Senha"]}),_.jsxs("div",{className:"grid gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 ml-1",children:"Senha Atual"}),_.jsx("input",{type:"password",value:T,onChange:De=>A(De.target.value),className:"w-full pl-4 py-2 bg-white bg-gray-700 border border-gray-200 border-gray-600 rounded-lg placeholder-gray-400 placeholder-gray-500",placeholder:"Senha atual"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 ml-1",children:"Nova Senha"}),_.jsx("input",{type:"password",value:V,onChange:De=>U(De.target.value),className:"w-full pl-4 py-2 bg-white bg-gray-700 border border-gray-200 border-gray-600 rounded-lg placeholder-gray-400 placeholder-gray-500",placeholder:"Nova senha"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 ml-1",children:"Confirmar"}),_.jsx("input",{type:"password",value:Q,onChange:De=>j(De.target.value),className:"w-full pl-4 py-2 bg-white bg-gray-700 border border-gray-200 border-gray-600 rounded-lg placeholder-gray-400 placeholder-gray-500",placeholder:"Repetir senha"})]})]})]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-100 border-gray-700",children:[_.jsx("button",{type:"submit",disabled:C,className:"flex-1 bg-[#57B952] hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md",children:C?"Salvando...":"Salvar Alteraes"}),_.jsx("button",{type:"button",onClick:O,className:"flex-1 bg-red-50 bg-red-900/20 hover:bg-red-100 text-red-600 font-bold py-3 px-6 rounded-lg border border-red-100",children:"Sair da Conta"})]})]})]})]})}),_.jsx("footer",{className:"w-full py-6 text-center text-gray-400 text-xs",children:" 2025 Normatel Engenharia"})]})}function $l({children:i,requiredRole:e}){const{currentUser:n,userProfile:s,loading:o}=zo();return o?_.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-100",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#57B952]"})}):n?e&&s&&s.funcao!==e&&s.funcao!=="admin"?s.funcao==="admin"?_.jsx(lh,{to:"/admin-selection",replace:!0}):s.funcao==="comprador"?_.jsx(lh,{to:"/aprovacao-compras",replace:!0}):_.jsx(lh,{to:"/",replace:!0}):i:_.jsx(lh,{to:"/login",replace:!0})}function _6(){return _.jsx(cS,{children:_.jsxs(BA,{children:[_.jsx(Dn,{path:"/",element:_.jsx(n6,{})}),_.jsx(Dn,{path:"/login",element:_.jsx(o6,{})}),_.jsx(Dn,{path:"/cadastro",element:_.jsx(l6,{})}),_.jsx(Dn,{path:"/esqueceu-senha",element:_.jsx(u6,{})}),_.jsx(Dn,{path:"/tutoriais",element:_.jsx(r6,{})}),_.jsx(Dn,{path:"/selecao-projeto",element:_.jsx($l,{children:_.jsx(h6,{})})}),_.jsx(Dn,{path:"/painel-projeto",element:_.jsx($l,{children:_.jsx(f6,{})})}),_.jsx(Dn,{path:"/solicitacao-compras",element:_.jsx(c6,{})}),_.jsx(Dn,{path:"/aprovacao-compras",element:_.jsx(g6,{})}),_.jsx(Dn,{path:"/admin-selection",element:_.jsx($l,{requiredRole:"admin",children:_.jsx(p6,{})})}),_.jsx(Dn,{path:"/admin",element:_.jsx($l,{requiredRole:"admin",children:_.jsx(d6,{})})}),_.jsx(Dn,{path:"/perfil",element:_.jsx($l,{children:_.jsx(y6,{})})})]})})}const YE=document.getElementById("root");YE&&Xx.createRoot(YE).render(_.jsx(qx.StrictMode,{children:_.jsx(s6,{defaultTheme:"light",storageKey:"vite-ui-theme",children:_.jsx(a6,{children:_.jsx(_6,{})})})}));
